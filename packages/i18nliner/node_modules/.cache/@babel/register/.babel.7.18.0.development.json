{"{\"assumptions\":{},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/call_helpers_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.0:development":{"value":{"code":"/* global describe, it */\nimport { assert } from \"chai\";\nimport CallHelpers from \"../lib/call_helpers\";\ndescribe(\"CallHelpers\", function () {\n  describe(\"applyWrappers\", function () {\n    it(\"should apply array wrappers\", function () {\n      assert.equal(CallHelpers.applyWrappers(\"*hello* ***bob*** **lol**\", [\"<b>$1</b>\", \"<em>$1</em>\", \"<i>$1</i>\"]), \"<b>hello</b> <i>bob</i> <em>lol</em>\");\n    });\n    it(\"should apply object wrappers\", function () {\n      assert.equal(CallHelpers.applyWrappers(\"*hello* ***bob*** **lol**\", {\n        \"*\": \"<b>$1</b>\",\n        \"**\": \"<em>$1</em>\",\n        \"***\": \"<i>$1</i>\"\n      }), \"<b>hello</b> <i>bob</i> <em>lol</em>\");\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3NlcnQiLCJDYWxsSGVscGVycyIsImRlc2NyaWJlIiwiaXQiLCJlcXVhbCIsImFwcGx5V3JhcHBlcnMiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL3Rlc3QvIiwic291cmNlcyI6WyJjYWxsX2hlbHBlcnNfdGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgZGVzY3JpYmUsIGl0ICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcImNoYWlcIjtcbmltcG9ydCBDYWxsSGVscGVycyBmcm9tIFwiLi4vbGliL2NhbGxfaGVscGVyc1wiO1xuXG5kZXNjcmliZShcIkNhbGxIZWxwZXJzXCIsIGZ1bmN0aW9uKCkge1xuICBkZXNjcmliZShcImFwcGx5V3JhcHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJzaG91bGQgYXBwbHkgYXJyYXkgd3JhcHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgIENhbGxIZWxwZXJzLmFwcGx5V3JhcHBlcnMoXG4gICAgICAgICAgXCIqaGVsbG8qICoqKmJvYioqKiAqKmxvbCoqXCIsXG4gICAgICAgICAgW1wiPGI+JDE8L2I+XCIsIFwiPGVtPiQxPC9lbT5cIiwgXCI8aT4kMTwvaT5cIl1cbiAgICAgICAgKSxcbiAgICAgICAgXCI8Yj5oZWxsbzwvYj4gPGk+Ym9iPC9pPiA8ZW0+bG9sPC9lbT5cIlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFwcGx5IG9iamVjdCB3cmFwcGVyc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgQ2FsbEhlbHBlcnMuYXBwbHlXcmFwcGVycyhcbiAgICAgICAgICBcIipoZWxsbyogKioqYm9iKioqICoqbG9sKipcIixcbiAgICAgICAgICB7XCIqXCI6IFwiPGI+JDE8L2I+XCIsIFwiKipcIjogXCI8ZW0+JDE8L2VtPlwiLCBcIioqKlwiOiBcIjxpPiQxPC9pPlwifVxuICAgICAgICApLFxuICAgICAgICBcIjxiPmhlbGxvPC9iPiA8aT5ib2I8L2k+IDxlbT5sb2w8L2VtPlwiXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxTQUFRQSxNQUFSLFFBQXFCLE1BQXJCO0FBQ0EsT0FBT0MsV0FBUCxNQUF3QixxQkFBeEI7QUFFQUMsUUFBUSxDQUFDLGFBQUQsRUFBZ0IsWUFBVztFQUNqQ0EsUUFBUSxDQUFDLGVBQUQsRUFBa0IsWUFBVztJQUNuQ0MsRUFBRSxDQUFDLDZCQUFELEVBQWdDLFlBQVc7TUFDM0NILE1BQU0sQ0FBQ0ksS0FBUCxDQUNFSCxXQUFXLENBQUNJLGFBQVosQ0FDRSwyQkFERixFQUVFLENBQUMsV0FBRCxFQUFjLGFBQWQsRUFBNkIsV0FBN0IsQ0FGRixDQURGLEVBS0Usc0NBTEY7SUFPRCxDQVJDLENBQUY7SUFVQUYsRUFBRSxDQUFDLDhCQUFELEVBQWlDLFlBQVc7TUFDNUNILE1BQU0sQ0FBQ0ksS0FBUCxDQUNFSCxXQUFXLENBQUNJLGFBQVosQ0FDRSwyQkFERixFQUVFO1FBQUMsS0FBSyxXQUFOO1FBQW1CLE1BQU0sYUFBekI7UUFBd0MsT0FBTztNQUEvQyxDQUZGLENBREYsRUFLRSxzQ0FMRjtJQU9ELENBUkMsQ0FBRjtFQVNELENBcEJPLENBQVI7QUFxQkQsQ0F0Qk8sQ0FBUiJ9","map":{"version":3,"names":["assert","CallHelpers","describe","it","equal","applyWrappers"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/","sources":["call_helpers_test.js"],"sourcesContent":["/* global describe, it */\nimport {assert} from \"chai\";\nimport CallHelpers from \"../lib/call_helpers\";\n\ndescribe(\"CallHelpers\", function() {\n  describe(\"applyWrappers\", function() {\n    it(\"should apply array wrappers\", function() {\n      assert.equal(\n        CallHelpers.applyWrappers(\n          \"*hello* ***bob*** **lol**\",\n          [\"<b>$1</b>\", \"<em>$1</em>\", \"<i>$1</i>\"]\n        ),\n        \"<b>hello</b> <i>bob</i> <em>lol</em>\"\n      );\n    });\n\n    it(\"should apply object wrappers\", function() {\n      assert.equal(\n        CallHelpers.applyWrappers(\n          \"*hello* ***bob*** **lol**\",\n          {\"*\": \"<b>$1</b>\", \"**\": \"<em>$1</em>\", \"***\": \"<i>$1</i>\"}\n        ),\n        \"<b>hello</b> <i>bob</i> <em>lol</em>\"\n      );\n    });\n  });\n});\n\n\n"],"mappings":"AAAA;AACA,SAAQA,MAAR,QAAqB,MAArB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AAEAC,QAAQ,CAAC,aAAD,EAAgB,YAAW;EACjCA,QAAQ,CAAC,eAAD,EAAkB,YAAW;IACnCC,EAAE,CAAC,6BAAD,EAAgC,YAAW;MAC3CH,MAAM,CAACI,KAAP,CACEH,WAAW,CAACI,aAAZ,CACE,2BADF,EAEE,CAAC,WAAD,EAAc,aAAd,EAA6B,WAA7B,CAFF,CADF,EAKE,sCALF;IAOD,CARC,CAAF;IAUAF,EAAE,CAAC,8BAAD,EAAiC,YAAW;MAC5CH,MAAM,CAACI,KAAP,CACEH,WAAW,CAACI,aAAZ,CACE,2BADF,EAEE;QAAC,KAAK,WAAN;QAAmB,MAAM,aAAzB;QAAwC,OAAO;MAA/C,CAFF,CADF,EAKE,sCALF;IAOD,CARC,CAAF;EASD,CApBO,CAAR;AAqBD,CAtBO,CAAR"}},"mtime":1643211188002},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/call_helpers_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\n\nvar _call_helpers = _interopRequireDefault(require(\"../lib/call_helpers\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, it */\ndescribe(\"CallHelpers\", function () {\n  describe(\"applyWrappers\", function () {\n    it(\"should apply array wrappers\", function () {\n      _chai.assert.equal(_call_helpers.default.applyWrappers(\"*hello* ***bob*** **lol**\", [\"<b>$1</b>\", \"<em>$1</em>\", \"<i>$1</i>\"]), \"<b>hello</b> <i>bob</i> <em>lol</em>\");\n    });\n    it(\"should apply object wrappers\", function () {\n      _chai.assert.equal(_call_helpers.default.applyWrappers(\"*hello* ***bob*** **lol**\", {\n        \"*\": \"<b>$1</b>\",\n        \"**\": \"<em>$1</em>\",\n        \"***\": \"<i>$1</i>\"\n      }), \"<b>hello</b> <i>bob</i> <em>lol</em>\");\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiYXNzZXJ0IiwiZXF1YWwiLCJDYWxsSGVscGVycyIsImFwcGx5V3JhcHBlcnMiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL3Rlc3QvIiwic291cmNlcyI6WyJjYWxsX2hlbHBlcnNfdGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgZGVzY3JpYmUsIGl0ICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcImNoYWlcIjtcbmltcG9ydCBDYWxsSGVscGVycyBmcm9tIFwiLi4vbGliL2NhbGxfaGVscGVyc1wiO1xuXG5kZXNjcmliZShcIkNhbGxIZWxwZXJzXCIsIGZ1bmN0aW9uKCkge1xuICBkZXNjcmliZShcImFwcGx5V3JhcHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJzaG91bGQgYXBwbHkgYXJyYXkgd3JhcHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgIENhbGxIZWxwZXJzLmFwcGx5V3JhcHBlcnMoXG4gICAgICAgICAgXCIqaGVsbG8qICoqKmJvYioqKiAqKmxvbCoqXCIsXG4gICAgICAgICAgW1wiPGI+JDE8L2I+XCIsIFwiPGVtPiQxPC9lbT5cIiwgXCI8aT4kMTwvaT5cIl1cbiAgICAgICAgKSxcbiAgICAgICAgXCI8Yj5oZWxsbzwvYj4gPGk+Ym9iPC9pPiA8ZW0+bG9sPC9lbT5cIlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFwcGx5IG9iamVjdCB3cmFwcGVyc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgQ2FsbEhlbHBlcnMuYXBwbHlXcmFwcGVycyhcbiAgICAgICAgICBcIipoZWxsbyogKioqYm9iKioqICoqbG9sKipcIixcbiAgICAgICAgICB7XCIqXCI6IFwiPGI+JDE8L2I+XCIsIFwiKipcIjogXCI8ZW0+JDE8L2VtPlwiLCBcIioqKlwiOiBcIjxpPiQxPC9pPlwifVxuICAgICAgICApLFxuICAgICAgICBcIjxiPmhlbGxvPC9iPiA8aT5ib2I8L2k+IDxlbT5sb2w8L2VtPlwiXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5cbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7QUFDQTs7OztBQUZBO0FBSUFBLFFBQVEsQ0FBQyxhQUFELEVBQWdCLFlBQVc7RUFDakNBLFFBQVEsQ0FBQyxlQUFELEVBQWtCLFlBQVc7SUFDbkNDLEVBQUUsQ0FBQyw2QkFBRCxFQUFnQyxZQUFXO01BQzNDQyxZQUFBLENBQU9DLEtBQVAsQ0FDRUMscUJBQUEsQ0FBWUMsYUFBWixDQUNFLDJCQURGLEVBRUUsQ0FBQyxXQUFELEVBQWMsYUFBZCxFQUE2QixXQUE3QixDQUZGLENBREYsRUFLRSxzQ0FMRjtJQU9ELENBUkMsQ0FBRjtJQVVBSixFQUFFLENBQUMsOEJBQUQsRUFBaUMsWUFBVztNQUM1Q0MsWUFBQSxDQUFPQyxLQUFQLENBQ0VDLHFCQUFBLENBQVlDLGFBQVosQ0FDRSwyQkFERixFQUVFO1FBQUMsS0FBSyxXQUFOO1FBQW1CLE1BQU0sYUFBekI7UUFBd0MsT0FBTztNQUEvQyxDQUZGLENBREYsRUFLRSxzQ0FMRjtJQU9ELENBUkMsQ0FBRjtFQVNELENBcEJPLENBQVI7QUFxQkQsQ0F0Qk8sQ0FBUiJ9","map":{"version":3,"names":["describe","it","assert","equal","CallHelpers","applyWrappers"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/","sources":["call_helpers_test.js"],"sourcesContent":["/* global describe, it */\nimport {assert} from \"chai\";\nimport CallHelpers from \"../lib/call_helpers\";\n\ndescribe(\"CallHelpers\", function() {\n  describe(\"applyWrappers\", function() {\n    it(\"should apply array wrappers\", function() {\n      assert.equal(\n        CallHelpers.applyWrappers(\n          \"*hello* ***bob*** **lol**\",\n          [\"<b>$1</b>\", \"<em>$1</em>\", \"<i>$1</i>\"]\n        ),\n        \"<b>hello</b> <i>bob</i> <em>lol</em>\"\n      );\n    });\n\n    it(\"should apply object wrappers\", function() {\n      assert.equal(\n        CallHelpers.applyWrappers(\n          \"*hello* ***bob*** **lol**\",\n          {\"*\": \"<b>$1</b>\", \"**\": \"<em>$1</em>\", \"***\": \"<i>$1</i>\"}\n        ),\n        \"<b>hello</b> <i>bob</i> <em>lol</em>\"\n      );\n    });\n  });\n});\n\n\n"],"mappings":";;AACA;;AACA;;;;AAFA;AAIAA,QAAQ,CAAC,aAAD,EAAgB,YAAW;EACjCA,QAAQ,CAAC,eAAD,EAAkB,YAAW;IACnCC,EAAE,CAAC,6BAAD,EAAgC,YAAW;MAC3CC,YAAA,CAAOC,KAAP,CACEC,qBAAA,CAAYC,aAAZ,CACE,2BADF,EAEE,CAAC,WAAD,EAAc,aAAd,EAA6B,WAA7B,CAFF,CADF,EAKE,sCALF;IAOD,CARC,CAAF;IAUAJ,EAAE,CAAC,8BAAD,EAAiC,YAAW;MAC5CC,YAAA,CAAOC,KAAP,CACEC,qBAAA,CAAYC,aAAZ,CACE,2BADF,EAEE;QAAC,KAAK,WAAN;QAAmB,MAAM,aAAzB;QAAwC,OAAO;MAA/C,CAFF,CADF,EAKE,sCALF;IAOD,CARC,CAAF;EASD,CApBO,CAAR;AAqBD,CAtBO,CAAR"}},"mtime":1643211188002},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/call_helpers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _pluralize = _interopRequireDefault(require(\"./pluralize\"));\n\nvar _utils = _interopRequireDefault(require(\"./utils\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"./i18nliner\"));\n\nvar _speakingurl = _interopRequireDefault(require(\"speakingurl\"));\n\nvar _crc = _interopRequireDefault(require(\"crc32\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CallHelpers = {\n  ALLOWED_PLURALIZATION_KEYS: [\"zero\", \"one\", \"few\", \"many\", \"other\"],\n  REQUIRED_PLURALIZATION_KEYS: [\"one\", \"other\"],\n  UNSUPPORTED_EXPRESSION: [],\n  normalizeKey: function (key) {\n    return key;\n  },\n  normalizeDefault: function (defaultValue, translateOptions) {\n    defaultValue = CallHelpers.inferPluralizationHash(defaultValue, translateOptions);\n    return defaultValue;\n  },\n  inferPluralizationHash: function (defaultValue, translateOptions) {\n    if (typeof defaultValue === 'string' && defaultValue.match(/^[\\w-]+$/) && translateOptions && \"count\" in translateOptions) {\n      return {\n        one: \"1 \" + defaultValue,\n        other: \"%{count} \" + (0, _pluralize.default)(defaultValue)\n      };\n    } else {\n      return defaultValue;\n    }\n  },\n  isObject: function (object) {\n    return typeof object === 'object' && object !== this.UNSUPPORTED_EXPRESSION;\n  },\n  validDefault: function (allowBlank) {\n    var defaultValue = this.defaultValue;\n    return allowBlank && (typeof defaultValue === 'undefined' || defaultValue === null) || typeof defaultValue === 'string' || this.isObject(defaultValue);\n  },\n  inferKey: function (defaultValue, translateOptions) {\n    if (this.validDefault(defaultValue)) {\n      defaultValue = this.normalizeDefault(defaultValue, translateOptions);\n      if (typeof defaultValue === 'object') defaultValue = \"\" + defaultValue.other;\n      return this.keyify(defaultValue);\n    }\n  },\n  keyifyUnderscored: function (string) {\n    var key = (0, _speakingurl.default)(string, {\n      separator: '_',\n      lang: false\n    }).replace(/[-_]+/g, '_');\n    return key.substring(0, _i18nliner.default.config.underscoredKeyLength);\n  },\n  keyifyUnderscoredCrc32: function (string) {\n    var checksum = (0, _crc.default)(string.length + \":\" + string).toString(16);\n    return this.keyifyUnderscored(string) + \"_\" + checksum;\n  },\n  keyify: function (string) {\n    switch (_i18nliner.default.config.inferredKeyFormat) {\n      case 'underscored':\n        return this.keyifyUnderscored(string);\n\n      case 'underscored_crc32':\n        return this.keyifyUnderscoredCrc32(string);\n\n      default:\n        return string;\n    }\n  },\n  keyPattern: /^(\\w+\\.)+\\w+$/,\n\n  /**\n   * Possible translate signatures:\n   *\n   * key [, options]\n   * key, default_string [, options]\n   * key, default_object, options\n   * default_string [, options]\n   * default_object, options\n   **/\n  isKeyProvided: function (keyOrDefault, defaultOrOptions, maybeOptions) {\n    if (typeof keyOrDefault === 'object') return false;\n    if (typeof defaultOrOptions === 'string') return true;\n    if (maybeOptions) return true;\n    if (typeof keyOrDefault === 'string' && keyOrDefault.match(CallHelpers.keyPattern)) return true;\n    return false;\n  },\n  isPluralizationHash: function (object) {\n    var pKeys;\n    return this.isObject(object) && (pKeys = _utils.default.keys(object)) && pKeys.length > 0 && _utils.default.difference(pKeys, this.ALLOWED_PLURALIZATION_KEYS).length === 0;\n  },\n  inferArguments: function (args, meta) {\n    if (args.length === 2 && typeof args[1] === 'object' && args[1].defaultValue) return args;\n    var hasKey = this.isKeyProvided.apply(this, args);\n    if (meta) meta.inferredKey = !hasKey;\n    if (!hasKey) args.unshift(null);\n    var defaultValue = null;\n    var defaultOrOptions = args[1];\n    if (args[2] || typeof defaultOrOptions === 'string' || this.isPluralizationHash(defaultOrOptions)) defaultValue = args.splice(1, 1)[0];\n    if (args.length === 1) args.push({});\n    var options = args[1];\n    if (defaultValue) options.defaultValue = defaultValue;\n    if (!hasKey) args[0] = this.inferKey(defaultValue, options);\n    return args;\n  },\n  applyWrappers: function (string, wrappers) {\n    var i;\n    var len;\n    var keys;\n    if (typeof wrappers === 'string') wrappers = [wrappers];\n\n    if (wrappers instanceof Array) {\n      for (i = wrappers.length; i; i--) string = this.applyWrapper(string, new Array(i + 1).join(\"*\"), wrappers[i - 1]);\n    } else {\n      keys = _utils.default.keys(wrappers);\n      keys.sort(function (a, b) {\n        return b.length - a.length;\n      }); // longest first\n\n      for (i = 0, len = keys.length; i < len; i++) string = this.applyWrapper(string, keys[i], wrappers[keys[i]]);\n    }\n\n    return string;\n  },\n  applyWrapper: function (string, delimiter, wrapper) {\n    var escapedDelimiter = _utils.default.regexpEscape(delimiter);\n\n    var pattern = new RegExp(escapedDelimiter + \"(.*?)\" + escapedDelimiter, \"g\");\n    return string.replace(pattern, wrapper);\n  }\n};\nvar _default = CallHelpers;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYWxsSGVscGVycyIsIkFMTE9XRURfUExVUkFMSVpBVElPTl9LRVlTIiwiUkVRVUlSRURfUExVUkFMSVpBVElPTl9LRVlTIiwiVU5TVVBQT1JURURfRVhQUkVTU0lPTiIsIm5vcm1hbGl6ZUtleSIsImtleSIsIm5vcm1hbGl6ZURlZmF1bHQiLCJkZWZhdWx0VmFsdWUiLCJ0cmFuc2xhdGVPcHRpb25zIiwiaW5mZXJQbHVyYWxpemF0aW9uSGFzaCIsIm1hdGNoIiwib25lIiwib3RoZXIiLCJwbHVyYWxpemUiLCJpc09iamVjdCIsIm9iamVjdCIsInZhbGlkRGVmYXVsdCIsImFsbG93QmxhbmsiLCJpbmZlcktleSIsImtleWlmeSIsImtleWlmeVVuZGVyc2NvcmVkIiwic3RyaW5nIiwiZ2V0U2x1ZyIsInNlcGFyYXRvciIsImxhbmciLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwiSTE4bmxpbmVyIiwiY29uZmlnIiwidW5kZXJzY29yZWRLZXlMZW5ndGgiLCJrZXlpZnlVbmRlcnNjb3JlZENyYzMyIiwiY2hlY2tzdW0iLCJjcmMzMiIsImxlbmd0aCIsInRvU3RyaW5nIiwiaW5mZXJyZWRLZXlGb3JtYXQiLCJrZXlQYXR0ZXJuIiwiaXNLZXlQcm92aWRlZCIsImtleU9yRGVmYXVsdCIsImRlZmF1bHRPck9wdGlvbnMiLCJtYXliZU9wdGlvbnMiLCJpc1BsdXJhbGl6YXRpb25IYXNoIiwicEtleXMiLCJVdGlscyIsImtleXMiLCJkaWZmZXJlbmNlIiwiaW5mZXJBcmd1bWVudHMiLCJhcmdzIiwibWV0YSIsImhhc0tleSIsImFwcGx5IiwiaW5mZXJyZWRLZXkiLCJ1bnNoaWZ0Iiwic3BsaWNlIiwicHVzaCIsIm9wdGlvbnMiLCJhcHBseVdyYXBwZXJzIiwid3JhcHBlcnMiLCJpIiwibGVuIiwiQXJyYXkiLCJhcHBseVdyYXBwZXIiLCJqb2luIiwic29ydCIsImEiLCJiIiwiZGVsaW1pdGVyIiwid3JhcHBlciIsImVzY2FwZWREZWxpbWl0ZXIiLCJyZWdleHBFc2NhcGUiLCJwYXR0ZXJuIiwiUmVnRXhwIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci9saWIvIiwic291cmNlcyI6WyJjYWxsX2hlbHBlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBsdXJhbGl6ZSBmcm9tICcuL3BsdXJhbGl6ZSc7XG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBJMThubGluZXIgZnJvbSAnLi9pMThubGluZXInO1xuaW1wb3J0IGdldFNsdWcgZnJvbSAnc3BlYWtpbmd1cmwnO1xuaW1wb3J0IGNyYzMyIGZyb20gJ2NyYzMyJztcblxudmFyIENhbGxIZWxwZXJzID0ge1xuICBBTExPV0VEX1BMVVJBTElaQVRJT05fS0VZUzogW1wiemVyb1wiLCBcIm9uZVwiLCBcImZld1wiLCBcIm1hbnlcIiwgXCJvdGhlclwiXSxcbiAgUkVRVUlSRURfUExVUkFMSVpBVElPTl9LRVlTOiBbXCJvbmVcIiwgXCJvdGhlclwiXSxcbiAgVU5TVVBQT1JURURfRVhQUkVTU0lPTjogW10sXG5cbiAgbm9ybWFsaXplS2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4ga2V5O1xuICB9LFxuXG4gIG5vcm1hbGl6ZURlZmF1bHQ6IGZ1bmN0aW9uKGRlZmF1bHRWYWx1ZSwgdHJhbnNsYXRlT3B0aW9ucykge1xuICAgIGRlZmF1bHRWYWx1ZSA9IENhbGxIZWxwZXJzLmluZmVyUGx1cmFsaXphdGlvbkhhc2goZGVmYXVsdFZhbHVlLCB0cmFuc2xhdGVPcHRpb25zKTtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9LFxuXG4gIGluZmVyUGx1cmFsaXphdGlvbkhhc2g6IGZ1bmN0aW9uKGRlZmF1bHRWYWx1ZSwgdHJhbnNsYXRlT3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnc3RyaW5nJyAmJiBkZWZhdWx0VmFsdWUubWF0Y2goL15bXFx3LV0rJC8pICYmIHRyYW5zbGF0ZU9wdGlvbnMgJiYgKFwiY291bnRcIiBpbiB0cmFuc2xhdGVPcHRpb25zKSkge1xuICAgICAgcmV0dXJuIHtvbmU6IFwiMSBcIiArIGRlZmF1bHRWYWx1ZSwgb3RoZXI6IFwiJXtjb3VudH0gXCIgKyBwbHVyYWxpemUoZGVmYXVsdFZhbHVlKX07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gIH0sXG5cbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IHRoaXMuVU5TVVBQT1JURURfRVhQUkVTU0lPTjtcbiAgfSxcblxuICB2YWxpZERlZmF1bHQ6IGZ1bmN0aW9uKGFsbG93QmxhbmspIHtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgcmV0dXJuIGFsbG93QmxhbmsgJiYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IGRlZmF1bHRWYWx1ZSA9PT0gbnVsbCkgfHxcbiAgICAgIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICB0aGlzLmlzT2JqZWN0KGRlZmF1bHRWYWx1ZSk7XG4gIH0sXG5cbiAgaW5mZXJLZXk6IGZ1bmN0aW9uKGRlZmF1bHRWYWx1ZSwgdHJhbnNsYXRlT3B0aW9ucykge1xuICAgIGlmICh0aGlzLnZhbGlkRGVmYXVsdChkZWZhdWx0VmFsdWUpKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB0aGlzLm5vcm1hbGl6ZURlZmF1bHQoZGVmYXVsdFZhbHVlLCB0cmFuc2xhdGVPcHRpb25zKTtcbiAgICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnb2JqZWN0JylcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gXCJcIiArIGRlZmF1bHRWYWx1ZS5vdGhlcjtcbiAgICAgIHJldHVybiB0aGlzLmtleWlmeShkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfSxcblxuICBrZXlpZnlVbmRlcnNjb3JlZDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgdmFyIGtleSA9IGdldFNsdWcoc3RyaW5nLCB7c2VwYXJhdG9yOiAnXycsIGxhbmc6IGZhbHNlfSkucmVwbGFjZSgvWy1fXSsvZywgJ18nKTtcbiAgICByZXR1cm4ga2V5LnN1YnN0cmluZygwLCBJMThubGluZXIuY29uZmlnLnVuZGVyc2NvcmVkS2V5TGVuZ3RoKTtcbiAgfSxcblxuICBrZXlpZnlVbmRlcnNjb3JlZENyYzMyOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICB2YXIgY2hlY2tzdW0gPSBjcmMzMihzdHJpbmcubGVuZ3RoICsgXCI6XCIgKyBzdHJpbmcpLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gdGhpcy5rZXlpZnlVbmRlcnNjb3JlZChzdHJpbmcpICsgXCJfXCIgKyBjaGVja3N1bTtcbiAgfSxcblxuICBrZXlpZnk6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHN3aXRjaCAoSTE4bmxpbmVyLmNvbmZpZy5pbmZlcnJlZEtleUZvcm1hdCkge1xuICAgICAgY2FzZSAndW5kZXJzY29yZWQnOlxuICAgICAgICByZXR1cm4gdGhpcy5rZXlpZnlVbmRlcnNjb3JlZChzdHJpbmcpO1xuICAgICAgY2FzZSAndW5kZXJzY29yZWRfY3JjMzInOlxuICAgICAgICByZXR1cm4gdGhpcy5rZXlpZnlVbmRlcnNjb3JlZENyYzMyKHN0cmluZyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cbiAgfSxcblxuICBrZXlQYXR0ZXJuOiAvXihcXHcrXFwuKStcXHcrJC8sXG5cbiAgLyoqXG4gICAqIFBvc3NpYmxlIHRyYW5zbGF0ZSBzaWduYXR1cmVzOlxuICAgKlxuICAgKiBrZXkgWywgb3B0aW9uc11cbiAgICoga2V5LCBkZWZhdWx0X3N0cmluZyBbLCBvcHRpb25zXVxuICAgKiBrZXksIGRlZmF1bHRfb2JqZWN0LCBvcHRpb25zXG4gICAqIGRlZmF1bHRfc3RyaW5nIFssIG9wdGlvbnNdXG4gICAqIGRlZmF1bHRfb2JqZWN0LCBvcHRpb25zXG4gICAqKi9cbiAgaXNLZXlQcm92aWRlZDogZnVuY3Rpb24oa2V5T3JEZWZhdWx0LCBkZWZhdWx0T3JPcHRpb25zLCBtYXliZU9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIGtleU9yRGVmYXVsdCA9PT0gJ29iamVjdCcpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0T3JPcHRpb25zID09PSAnc3RyaW5nJylcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChtYXliZU9wdGlvbnMpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIGtleU9yRGVmYXVsdCA9PT0gJ3N0cmluZycgJiYga2V5T3JEZWZhdWx0Lm1hdGNoKENhbGxIZWxwZXJzLmtleVBhdHRlcm4pKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGlzUGx1cmFsaXphdGlvbkhhc2g6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBwS2V5cztcbiAgICByZXR1cm4gdGhpcy5pc09iamVjdChvYmplY3QpICYmXG4gICAgICAocEtleXMgPSBVdGlscy5rZXlzKG9iamVjdCkpICYmXG4gICAgICBwS2V5cy5sZW5ndGggPiAwICYmXG4gICAgICBVdGlscy5kaWZmZXJlbmNlKHBLZXlzLCB0aGlzLkFMTE9XRURfUExVUkFMSVpBVElPTl9LRVlTKS5sZW5ndGggPT09IDA7XG4gIH0sXG5cbiAgaW5mZXJBcmd1bWVudHM6IGZ1bmN0aW9uKGFyZ3MsIG1ldGEpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICdvYmplY3QnICYmIGFyZ3NbMV0uZGVmYXVsdFZhbHVlKVxuICAgICAgcmV0dXJuIGFyZ3M7XG5cbiAgICB2YXIgaGFzS2V5ID0gdGhpcy5pc0tleVByb3ZpZGVkLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGlmIChtZXRhKVxuICAgICAgbWV0YS5pbmZlcnJlZEtleSA9ICFoYXNLZXk7XG4gICAgaWYgKCFoYXNLZXkpXG4gICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XG5cbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gbnVsbDtcbiAgICB2YXIgZGVmYXVsdE9yT3B0aW9ucyA9IGFyZ3NbMV07XG4gICAgaWYgKGFyZ3NbMl0gfHwgdHlwZW9mIGRlZmF1bHRPck9wdGlvbnMgPT09ICdzdHJpbmcnIHx8IHRoaXMuaXNQbHVyYWxpemF0aW9uSGFzaChkZWZhdWx0T3JPcHRpb25zKSlcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IGFyZ3Muc3BsaWNlKDEsIDEpWzBdO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSlcbiAgICAgIGFyZ3MucHVzaCh7fSk7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmdzWzFdO1xuICAgIGlmIChkZWZhdWx0VmFsdWUpXG4gICAgICBvcHRpb25zLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICBpZiAoIWhhc0tleSlcbiAgICAgIGFyZ3NbMF0gPSB0aGlzLmluZmVyS2V5KGRlZmF1bHRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGFyZ3M7XG4gIH0sXG5cbiAgYXBwbHlXcmFwcGVyczogZnVuY3Rpb24oc3RyaW5nLCB3cmFwcGVycykge1xuICAgIHZhciBpO1xuICAgIHZhciBsZW47XG4gICAgdmFyIGtleXM7XG4gICAgaWYgKHR5cGVvZiB3cmFwcGVycyA9PT0gJ3N0cmluZycpXG4gICAgICB3cmFwcGVycyA9IFt3cmFwcGVyc107XG4gICAgaWYgKHdyYXBwZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGZvciAoaSA9IHdyYXBwZXJzLmxlbmd0aDsgaTsgaS0tKVxuICAgICAgICBzdHJpbmcgPSB0aGlzLmFwcGx5V3JhcHBlcihzdHJpbmcsIG5ldyBBcnJheShpICsgMSkuam9pbihcIipcIiksIHdyYXBwZXJzW2kgLSAxXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAga2V5cyA9IFV0aWxzLmtleXMod3JhcHBlcnMpO1xuICAgICAga2V5cy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7IH0pOyAvLyBsb25nZXN0IGZpcnN0XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICBzdHJpbmcgPSB0aGlzLmFwcGx5V3JhcHBlcihzdHJpbmcsIGtleXNbaV0sIHdyYXBwZXJzW2tleXNbaV1dKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfSxcblxuICBhcHBseVdyYXBwZXI6IGZ1bmN0aW9uKHN0cmluZywgZGVsaW1pdGVyLCB3cmFwcGVyKSB7XG4gICAgdmFyIGVzY2FwZWREZWxpbWl0ZXIgPSBVdGlscy5yZWdleHBFc2NhcGUoZGVsaW1pdGVyKTtcbiAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoZXNjYXBlZERlbGltaXRlciArIFwiKC4qPylcIiArIGVzY2FwZWREZWxpbWl0ZXIsIFwiZ1wiKTtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocGF0dGVybiwgd3JhcHBlcik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhbGxIZWxwZXJzO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxXQUFXLEdBQUc7RUFDaEJDLDBCQUEwQixFQUFFLENBQUMsTUFBRCxFQUFTLEtBQVQsRUFBZ0IsS0FBaEIsRUFBdUIsTUFBdkIsRUFBK0IsT0FBL0IsQ0FEWjtFQUVoQkMsMkJBQTJCLEVBQUUsQ0FBQyxLQUFELEVBQVEsT0FBUixDQUZiO0VBR2hCQyxzQkFBc0IsRUFBRSxFQUhSO0VBS2hCQyxZQUFZLEVBQUUsVUFBU0MsR0FBVCxFQUFjO0lBQzFCLE9BQU9BLEdBQVA7RUFDRCxDQVBlO0VBU2hCQyxnQkFBZ0IsRUFBRSxVQUFTQyxZQUFULEVBQXVCQyxnQkFBdkIs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","map":{"version":3,"names":["CallHelpers","ALLOWED_PLURALIZATION_KEYS","REQUIRED_PLURALIZATION_KEYS","UNSUPPORTED_EXPRESSION","normalizeKey","key","normalizeDefault","defaultValue","translateOptions","inferPluralizationHash","match","one","other","pluralize","isObject","object","validDefault","allowBlank","inferKey","keyify","keyifyUnderscored","string","getSlug","separator","lang","replace","substring","I18nliner","config","underscoredKeyLength","keyifyUnderscoredCrc32","checksum","crc32","length","toString","inferredKeyFormat","keyPattern","isKeyProvided","keyOrDefault","defaultOrOptions","maybeOptions","isPluralizationHash","pKeys","Utils","keys","difference","inferArguments","args","meta","hasKey","apply","inferredKey","unshift","splice","push","options","applyWrappers","wrappers","i","len","Array","applyWrapper","join","sort","a","b","delimiter","wrapper","escapedDelimiter","regexpEscape","pattern","RegExp"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/","sources":["call_helpers.js"],"sourcesContent":["import pluralize from './pluralize';\nimport Utils from \"./utils\";\nimport I18nliner from './i18nliner';\nimport getSlug from 'speakingurl';\nimport crc32 from 'crc32';\n\nvar CallHelpers = {\n  ALLOWED_PLURALIZATION_KEYS: [\"zero\", \"one\", \"few\", \"many\", \"other\"],\n  REQUIRED_PLURALIZATION_KEYS: [\"one\", \"other\"],\n  UNSUPPORTED_EXPRESSION: [],\n\n  normalizeKey: function(key) {\n    return key;\n  },\n\n  normalizeDefault: function(defaultValue, translateOptions) {\n    defaultValue = CallHelpers.inferPluralizationHash(defaultValue, translateOptions);\n    return defaultValue;\n  },\n\n  inferPluralizationHash: function(defaultValue, translateOptions) {\n    if (typeof defaultValue === 'string' && defaultValue.match(/^[\\w-]+$/) && translateOptions && (\"count\" in translateOptions)) {\n      return {one: \"1 \" + defaultValue, other: \"%{count} \" + pluralize(defaultValue)};\n    }\n    else {\n      return defaultValue;\n    }\n  },\n\n  isObject: function(object) {\n    return typeof object === 'object' && object !== this.UNSUPPORTED_EXPRESSION;\n  },\n\n  validDefault: function(allowBlank) {\n    var defaultValue = this.defaultValue;\n    return allowBlank && (typeof defaultValue === 'undefined' || defaultValue === null) ||\n      typeof defaultValue === 'string' ||\n      this.isObject(defaultValue);\n  },\n\n  inferKey: function(defaultValue, translateOptions) {\n    if (this.validDefault(defaultValue)) {\n      defaultValue = this.normalizeDefault(defaultValue, translateOptions);\n      if (typeof defaultValue === 'object')\n        defaultValue = \"\" + defaultValue.other;\n      return this.keyify(defaultValue);\n    }\n  },\n\n  keyifyUnderscored: function(string) {\n    var key = getSlug(string, {separator: '_', lang: false}).replace(/[-_]+/g, '_');\n    return key.substring(0, I18nliner.config.underscoredKeyLength);\n  },\n\n  keyifyUnderscoredCrc32: function(string) {\n    var checksum = crc32(string.length + \":\" + string).toString(16);\n    return this.keyifyUnderscored(string) + \"_\" + checksum;\n  },\n\n  keyify: function(string) {\n    switch (I18nliner.config.inferredKeyFormat) {\n      case 'underscored':\n        return this.keyifyUnderscored(string);\n      case 'underscored_crc32':\n        return this.keyifyUnderscoredCrc32(string);\n      default:\n        return string;\n    }\n  },\n\n  keyPattern: /^(\\w+\\.)+\\w+$/,\n\n  /**\n   * Possible translate signatures:\n   *\n   * key [, options]\n   * key, default_string [, options]\n   * key, default_object, options\n   * default_string [, options]\n   * default_object, options\n   **/\n  isKeyProvided: function(keyOrDefault, defaultOrOptions, maybeOptions) {\n    if (typeof keyOrDefault === 'object')\n      return false;\n    if (typeof defaultOrOptions === 'string')\n      return true;\n    if (maybeOptions)\n      return true;\n    if (typeof keyOrDefault === 'string' && keyOrDefault.match(CallHelpers.keyPattern))\n      return true;\n    return false;\n  },\n\n  isPluralizationHash: function(object) {\n    var pKeys;\n    return this.isObject(object) &&\n      (pKeys = Utils.keys(object)) &&\n      pKeys.length > 0 &&\n      Utils.difference(pKeys, this.ALLOWED_PLURALIZATION_KEYS).length === 0;\n  },\n\n  inferArguments: function(args, meta) {\n    if (args.length === 2 && typeof args[1] === 'object' && args[1].defaultValue)\n      return args;\n\n    var hasKey = this.isKeyProvided.apply(this, args);\n    if (meta)\n      meta.inferredKey = !hasKey;\n    if (!hasKey)\n      args.unshift(null);\n\n    var defaultValue = null;\n    var defaultOrOptions = args[1];\n    if (args[2] || typeof defaultOrOptions === 'string' || this.isPluralizationHash(defaultOrOptions))\n      defaultValue = args.splice(1, 1)[0];\n    if (args.length === 1)\n      args.push({});\n    var options = args[1];\n    if (defaultValue)\n      options.defaultValue = defaultValue;\n    if (!hasKey)\n      args[0] = this.inferKey(defaultValue, options);\n    return args;\n  },\n\n  applyWrappers: function(string, wrappers) {\n    var i;\n    var len;\n    var keys;\n    if (typeof wrappers === 'string')\n      wrappers = [wrappers];\n    if (wrappers instanceof Array) {\n      for (i = wrappers.length; i; i--)\n        string = this.applyWrapper(string, new Array(i + 1).join(\"*\"), wrappers[i - 1]);\n    }\n    else {\n      keys = Utils.keys(wrappers);\n      keys.sort(function(a, b) { return b.length - a.length; }); // longest first\n      for (i = 0, len = keys.length; i < len; i++)\n        string = this.applyWrapper(string, keys[i], wrappers[keys[i]]);\n    }\n    return string;\n  },\n\n  applyWrapper: function(string, delimiter, wrapper) {\n    var escapedDelimiter = Utils.regexpEscape(delimiter);\n    var pattern = new RegExp(escapedDelimiter + \"(.*?)\" + escapedDelimiter, \"g\");\n    return string.replace(pattern, wrapper);\n  }\n};\n\nexport default CallHelpers;\n"],"mappings":"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"}},"mtime":1653408253236},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/pluralize.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n// ported pluralizations from active_support/inflections.rb\n// (except for cow -> kine, because nobody does that)\nvar skip = ['equipment', 'information', 'rice', 'money', 'species', 'series', 'fish', 'sheep', 'jeans'];\nvar patterns = [[/person$/i, 'people'], [/man$/i, 'men'], [/child$/i, 'children'], [/sex$/i, 'sexes'], [/move$/i, 'moves'], [/(quiz)$/i, '$1zes'], [/^(ox)$/i, '$1en'], [/([m|l])ouse$/i, '$1ice'], [/(matr|vert|ind)(?:ix|ex)$/i, '$1ices'], [/(x|ch|ss|sh)$/i, '$1es'], [/([^aeiouy]|qu)y$/i, '$1ies'], [/(hive)$/i, '$1s'], [/(?:([^f])fe|([lr])f)$/i, '$1$2ves'], [/sis$/i, 'ses'], [/([ti])um$/i, '$1a'], [/(buffal|tomat)o$/i, '$1oes'], [/(bu)s$/i, '$1ses'], [/(alias|status)$/i, '$1es'], [/(octop|vir)us$/i, '$1i'], [/(ax|test)is$/i, '$1es'], [/s$/i, 's']];\n\nvar pluralize = function (string) {\n  string = string || '';\n\n  if (skip.indexOf(string) >= 0) {\n    return string;\n  }\n\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    var pair = patterns[i];\n\n    if (string.match(pair[0])) {\n      return string.replace(pair[0], pair[1]);\n    }\n  }\n\n  return string + \"s\";\n};\n\npluralize.withCount = function (count, string) {\n  return \"\" + count + \" \" + (count === 1 ? string : pluralize(string));\n};\n\nvar _default = pluralize;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJza2lwIiwicGF0dGVybnMiLCJwbHVyYWxpemUiLCJzdHJpbmciLCJpbmRleE9mIiwiaSIsImxlbiIsImxlbmd0aCIsInBhaXIiLCJtYXRjaCIsInJlcGxhY2UiLCJ3aXRoQ291bnQiLCJjb3VudCJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvbGliLyIsInNvdXJjZXMiOlsicGx1cmFsaXplLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBvcnRlZCBwbHVyYWxpemF0aW9ucyBmcm9tIGFjdGl2ZV9zdXBwb3J0L2luZmxlY3Rpb25zLnJiXG4vLyAoZXhjZXB0IGZvciBjb3cgLT4ga2luZSwgYmVjYXVzZSBub2JvZHkgZG9lcyB0aGF0KVxudmFyIHNraXAgPSBbJ2VxdWlwbWVudCcsICdpbmZvcm1hdGlvbicsICdyaWNlJywgJ21vbmV5JywgJ3NwZWNpZXMnLCAnc2VyaWVzJywgJ2Zpc2gnLCAnc2hlZXAnLCAnamVhbnMnXTtcbnZhciBwYXR0ZXJucyA9IFtcbiAgWy9wZXJzb24kL2ksICdwZW9wbGUnXSxcbiAgWy9tYW4kL2ksICdtZW4nXSxcbiAgWy9jaGlsZCQvaSwgJ2NoaWxkcmVuJ10sXG4gIFsvc2V4JC9pLCAnc2V4ZXMnXSxcbiAgWy9tb3ZlJC9pLCAnbW92ZXMnXSxcbiAgWy8ocXVpeikkL2ksICckMXplcyddLFxuICBbL14ob3gpJC9pLCAnJDFlbiddLFxuICBbLyhbbXxsXSlvdXNlJC9pLCAnJDFpY2UnXSxcbiAgWy8obWF0cnx2ZXJ0fGluZCkoPzppeHxleCkkL2ksICckMWljZXMnXSxcbiAgWy8oeHxjaHxzc3xzaCkkL2ksICckMWVzJ10sXG4gIFsvKFteYWVpb3V5XXxxdSl5JC9pLCAnJDFpZXMnXSxcbiAgWy8oaGl2ZSkkL2ksICckMXMnXSxcbiAgWy8oPzooW15mXSlmZXwoW2xyXSlmKSQvaSwgJyQxJDJ2ZXMnXSxcbiAgWy9zaXMkL2ksICdzZXMnXSxcbiAgWy8oW3RpXSl1bSQvaSwgJyQxYSddLFxuICBbLyhidWZmYWx8dG9tYXQpbyQvaSwgJyQxb2VzJ10sXG4gIFsvKGJ1KXMkL2ksICckMXNlcyddLFxuICBbLyhhbGlhc3xzdGF0dXMpJC9pLCAnJDFlcyddLFxuICBbLyhvY3RvcHx2aXIpdXMkL2ksICckMWknXSxcbiAgWy8oYXh8dGVzdClpcyQvaSwgJyQxZXMnXSxcbiAgWy9zJC9pLCAncyddXG5dO1xuXG52YXIgcGx1cmFsaXplID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHN0cmluZyA9IHN0cmluZyB8fCAnJztcbiAgaWYgKHNraXAuaW5kZXhPZihzdHJpbmcpID49IDApIHtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXR0ZXJucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBwYWlyID0gcGF0dGVybnNbaV07XG4gICAgaWYgKHN0cmluZy5tYXRjaChwYWlyWzBdKSkge1xuICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHBhaXJbMF0sIHBhaXJbMV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nICsgXCJzXCI7XG59O1xuXG5wbHVyYWxpemUud2l0aENvdW50ID0gZnVuY3Rpb24oY291bnQsIHN0cmluZykge1xuICByZXR1cm4gXCJcIiArIGNvdW50ICsgXCIgXCIgKyAoY291bnQgPT09IDEgPyBzdHJpbmcgOiBwbHVyYWxpemUoc3RyaW5nKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwbHVyYWxpemU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQSxJQUFJQSxJQUFJLEdBQUcsQ0FBQyxXQUFELEVBQWMsYUFBZCxFQUE2QixNQUE3QixFQUFxQyxPQUFyQyxFQUE4QyxTQUE5QyxFQUF5RCxRQUF6RCxFQUFtRSxNQUFuRSxFQUEyRSxPQUEzRSxFQUFvRixPQUFwRixDQUFYO0FBQ0EsSUFBSUMsUUFBUSxHQUFHLENBQ2IsQ0FBQyxVQUFELEVBQWEsUUFBYixDQURhLEVBRWIsQ0FBQyxPQUFELEVBQVUsS0FBVixDQUZhLEVBR2IsQ0FBQyxTQUFELEVBQVksVUFBWixDQUhhLEVBSWIsQ0FBQyxPQUFELEVBQVUsT0FBVixDQUphLEVBS2IsQ0FBQyxRQUFELEVBQVcsT0FBWCxDQUxhLEVBTWIsQ0FBQyxVQUFELEVBQWEsT0FBYixDQU5hLEVBT2IsQ0FBQyxTQUFELEVBQVksTUFBWixDQVBhLEVBUWIsQ0FBQyxlQUFELEVBQWtCLE9BQWxCLENBUmEsRUFTYixDQUFDLDRCQUFELEVBQStCLFFBQS9CLENBVGEsRUFVYixDQUFDLGdCQUFELEVBQW1CLE1BQW5CLENBVmEsRUFXYixDQUFDLG1CQUFELEVBQXNCLE9BQXRCLENBWGEsRUFZYixDQUFDLFVBQUQsRUFBYSxLQUFiLENBWmEsRUFhYixDQUFDLHdCQUFELEVBQTJCLFNBQTNCLENBYmEsRUFjYixDQUFDLE9BQUQsRUFBVSxLQUFWLENBZGEsRUFlYixDQUFDLFlBQUQsRUFBZSxLQUFmLENBZmEsRUFnQmIsQ0FBQyxtQkFBRCxFQUFzQixPQUF0QixDQWhCYSxFQWlCYixDQUFDLFNBQUQsRUFBWSxPQUFaLENBakJhLEVBa0JiLENBQUMsa0JBQUQsRUFBcUIsTUFBckIsQ0FsQmEsRUFtQmIsQ0FBQyxpQkFBRCxFQUFvQixLQUFwQixDQW5CYSxFQW9CYixDQUFDLGVBQUQsRUFBa0IsTUFBbEIsQ0FwQmEsRUFxQmIsQ0FBQyxLQUFELEVBQVEsR0FBUixDQXJCYSxDQUFmOztBQXdCQSxJQUFJQyxTQUFTLEdBQUcsVUFBU0MsTUFBVCxFQUFpQjtFQUMvQkEsTUFBTSxHQUFHQSxNQUFNLElBQUksRUFBbkI7O0VBQ0EsSUFBSUgsSUFBSSxDQUFDSSxPQUFMLENBQWFELE1BQWIsS0FBd0IsQ0FBNUIsRUFBK0I7SUFDN0IsT0FBT0EsTUFBUDtFQUNEOztFQUNELEtBQUssSUFBSUUsQ0FBQyxHQUFHLENBQVIsRUFBV0MsR0FBRyxHQUFHTCxRQUFRLENBQUNNLE1BQS9CLEVBQXVDRixDQUFDLEdBQUdDLEdBQTNDLEVBQWdERCxDQUFDLEVBQWpELEVBQXFEO0lBQ25ELElBQUlHLElBQUksR0FBR1AsUUFBUSxDQUFDSSxDQUFELENBQW5COztJQUNBLElBQUlGLE1BQU0sQ0FBQ00sS0FBUCxDQUFhRCxJQUFJLENBQUMsQ0FBRCxDQUFqQixDQUFKLEVBQTJCO01BQ3pCLE9BQU9MLE1BQU0sQ0FBQ08sT0FBUCxDQUFlRixJQUFJLENBQUMsQ0FBRCxDQUFuQixFQUF3QkEsSUFBSSxDQUFDLENBQUQsQ0FBNUIsQ0FBUDtJQUNEO0VBQ0Y7O0VBQ0QsT0FBT0wsTUFBTSxHQUFHLEdBQWhCO0FBQ0QsQ0FaRDs7QUFjQUQsU0FBUyxDQUFDUyxTQUFWLEdBQXNCLFVBQVNDLEtBQVQsRUFBZ0JULE1BQWhCLEVBQXdCO0VBQzVDLE9BQU8sS0FBS1MsS0FBTCxHQUFhLEdBQWIsSUFBb0JBLEtBQUssS0FBSyxDQUFWLEdBQWNULE1BQWQsR0FBdUJELFNBQVMsQ0FBQ0MsTUFBRCxDQUFwRCxDQUFQO0FBQ0QsQ0FGRDs7ZUFJZUQsUyJ9","map":{"version":3,"names":["skip","patterns","pluralize","string","indexOf","i","len","length","pair","match","replace","withCount","count"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/","sources":["pluralize.js"],"sourcesContent":["// ported pluralizations from active_support/inflections.rb\n// (except for cow -> kine, because nobody does that)\nvar skip = ['equipment', 'information', 'rice', 'money', 'species', 'series', 'fish', 'sheep', 'jeans'];\nvar patterns = [\n  [/person$/i, 'people'],\n  [/man$/i, 'men'],\n  [/child$/i, 'children'],\n  [/sex$/i, 'sexes'],\n  [/move$/i, 'moves'],\n  [/(quiz)$/i, '$1zes'],\n  [/^(ox)$/i, '$1en'],\n  [/([m|l])ouse$/i, '$1ice'],\n  [/(matr|vert|ind)(?:ix|ex)$/i, '$1ices'],\n  [/(x|ch|ss|sh)$/i, '$1es'],\n  [/([^aeiouy]|qu)y$/i, '$1ies'],\n  [/(hive)$/i, '$1s'],\n  [/(?:([^f])fe|([lr])f)$/i, '$1$2ves'],\n  [/sis$/i, 'ses'],\n  [/([ti])um$/i, '$1a'],\n  [/(buffal|tomat)o$/i, '$1oes'],\n  [/(bu)s$/i, '$1ses'],\n  [/(alias|status)$/i, '$1es'],\n  [/(octop|vir)us$/i, '$1i'],\n  [/(ax|test)is$/i, '$1es'],\n  [/s$/i, 's']\n];\n\nvar pluralize = function(string) {\n  string = string || '';\n  if (skip.indexOf(string) >= 0) {\n    return string;\n  }\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    var pair = patterns[i];\n    if (string.match(pair[0])) {\n      return string.replace(pair[0], pair[1]);\n    }\n  }\n  return string + \"s\";\n};\n\npluralize.withCount = function(count, string) {\n  return \"\" + count + \" \" + (count === 1 ? string : pluralize(string));\n};\n\nexport default pluralize;\n"],"mappings":";;;;;;AAAA;AACA;AACA,IAAIA,IAAI,GAAG,CAAC,WAAD,EAAc,aAAd,EAA6B,MAA7B,EAAqC,OAArC,EAA8C,SAA9C,EAAyD,QAAzD,EAAmE,MAAnE,EAA2E,OAA3E,EAAoF,OAApF,CAAX;AACA,IAAIC,QAAQ,GAAG,CACb,CAAC,UAAD,EAAa,QAAb,CADa,EAEb,CAAC,OAAD,EAAU,KAAV,CAFa,EAGb,CAAC,SAAD,EAAY,UAAZ,CAHa,EAIb,CAAC,OAAD,EAAU,OAAV,CAJa,EAKb,CAAC,QAAD,EAAW,OAAX,CALa,EAMb,CAAC,UAAD,EAAa,OAAb,CANa,EAOb,CAAC,SAAD,EAAY,MAAZ,CAPa,EAQb,CAAC,eAAD,EAAkB,OAAlB,CARa,EASb,CAAC,4BAAD,EAA+B,QAA/B,CATa,EAUb,CAAC,gBAAD,EAAmB,MAAnB,CAVa,EAWb,CAAC,mBAAD,EAAsB,OAAtB,CAXa,EAYb,CAAC,UAAD,EAAa,KAAb,CAZa,EAab,CAAC,wBAAD,EAA2B,SAA3B,CAba,EAcb,CAAC,OAAD,EAAU,KAAV,CAda,EAeb,CAAC,YAAD,EAAe,KAAf,CAfa,EAgBb,CAAC,mBAAD,EAAsB,OAAtB,CAhBa,EAiBb,CAAC,SAAD,EAAY,OAAZ,CAjBa,EAkBb,CAAC,kBAAD,EAAqB,MAArB,CAlBa,EAmBb,CAAC,iBAAD,EAAoB,KAApB,CAnBa,EAoBb,CAAC,eAAD,EAAkB,MAAlB,CApBa,EAqBb,CAAC,KAAD,EAAQ,GAAR,CArBa,CAAf;;AAwBA,IAAIC,SAAS,GAAG,UAASC,MAAT,EAAiB;EAC/BA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;EACA,IAAIH,IAAI,CAACI,OAAL,CAAaD,MAAb,KAAwB,CAA5B,EAA+B;IAC7B,OAAOA,MAAP;EACD;;EACD,KAAK,IAAIE,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGL,QAAQ,CAACM,MAA/B,EAAuCF,CAAC,GAAGC,GAA3C,EAAgDD,CAAC,EAAjD,EAAqD;IACnD,IAAIG,IAAI,GAAGP,QAAQ,CAACI,CAAD,CAAnB;;IACA,IAAIF,MAAM,CAACM,KAAP,CAAaD,IAAI,CAAC,CAAD,CAAjB,CAAJ,EAA2B;MACzB,OAAOL,MAAM,CAACO,OAAP,CAAeF,IAAI,CAAC,CAAD,CAAnB,EAAwBA,IAAI,CAAC,CAAD,CAA5B,CAAP;IACD;EACF;;EACD,OAAOL,MAAM,GAAG,GAAhB;AACD,CAZD;;AAcAD,SAAS,CAACS,SAAV,GAAsB,UAASC,KAAT,EAAgBT,MAAhB,EAAwB;EAC5C,OAAO,KAAKS,KAAL,GAAa,GAAb,IAAoBA,KAAK,KAAK,CAAV,GAAcT,MAAd,GAAuBD,SAAS,CAACC,MAAD,CAApD,CAAP;AACD,CAFD;;eAIeD,S"}},"mtime":1643211188001},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/utils.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar htmlEntities = {\n  \"'\": \"&#39;\",\n  \"&\": \"&amp;\",\n  '\"': \"&quot;\",\n  \">\": \"&gt;\",\n  \"<\": \"&lt;\"\n};\n\nfunction HtmlSafeString(string) {\n  this.string = typeof string === 'string' ? string : \"\" + string;\n}\n\nHtmlSafeString.prototype.toString = function () {\n  return this.string;\n};\n\nvar Utils = {\n  HtmlSafeString: HtmlSafeString,\n  difference: function (a1, a2) {\n    var result = [];\n\n    for (var i = 0, len = a1.length; i < len; i++) {\n      if (a2.indexOf(a1[i]) === -1) result.push(a1[i]);\n    }\n\n    return result;\n  },\n  keys: function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) keys.push(key);\n    }\n\n    return keys;\n  },\n  htmlEscape: function (string) {\n    if (typeof string === 'undefined' || string === null) return '';\n    if (string instanceof Utils.HtmlSafeString) return string.toString();\n    return String(string).replace(/[&<>\"']/g, function (m) {\n      return htmlEntities[m];\n    });\n  },\n  regexpEscape: function (string) {\n    if (typeof string === 'undefined' || string === null) return '';\n    return String(string).replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n  },\n  extend: function () {\n    var args = [].slice.call(arguments);\n    var target = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      var source = args[i];\n\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) target[key] = source[key];\n      }\n    }\n  }\n};\nvar _default = Utils;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodG1sRW50aXRpZXMiLCJIdG1sU2FmZVN0cmluZyIsInN0cmluZyIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiVXRpbHMiLCJkaWZmZXJlbmNlIiwiYTEiLCJhMiIsInJlc3VsdCIsImkiLCJsZW4iLCJsZW5ndGgiLCJpbmRleE9mIiwicHVzaCIsImtleXMiLCJvYmplY3QiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImh0bWxFc2NhcGUiLCJTdHJpbmciLCJyZXBsYWNlIiwibSIsInJlZ2V4cEVzY2FwZSIsImV4dGVuZCIsImFyZ3MiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJ0YXJnZXQiLCJzaGlmdCIsInNvdXJjZSJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvbGliLyIsInNvdXJjZXMiOlsidXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGh0bWxFbnRpdGllcyA9IHtcbiAgXCInXCI6IFwiJiMzOTtcIixcbiAgXCImXCI6IFwiJmFtcDtcIixcbiAgJ1wiJzogXCImcXVvdDtcIixcbiAgXCI+XCI6IFwiJmd0O1wiLFxuICBcIjxcIjogXCImbHQ7XCJcbn07XG5cbmZ1bmN0aW9uIEh0bWxTYWZlU3RyaW5nKHN0cmluZykge1xuICB0aGlzLnN0cmluZyA9ICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJyA/IHN0cmluZyA6IFwiXCIgKyBzdHJpbmcpO1xufVxuSHRtbFNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnN0cmluZztcbn07XG5cbnZhciBVdGlscyA9IHtcbiAgSHRtbFNhZmVTdHJpbmc6IEh0bWxTYWZlU3RyaW5nLFxuXG4gIGRpZmZlcmVuY2U6IGZ1bmN0aW9uKGExLCBhMikge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYTEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChhMi5pbmRleE9mKGExW2ldKSA9PT0gLTEpXG4gICAgICAgIHJlc3VsdC5wdXNoKGExW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICBrZXlzOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9LFxuXG4gIGh0bWxFc2NhcGU6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAndW5kZWZpbmVkJyB8fCBzdHJpbmcgPT09IG51bGwpIHJldHVybiAnJztcbiAgICBpZiAoc3RyaW5nIGluc3RhbmNlb2YgVXRpbHMuSHRtbFNhZmVTdHJpbmcpIHJldHVybiBzdHJpbmcudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvWyY8PlwiJ10vZywgZnVuY3Rpb24obSl7IHJldHVybiBodG1sRW50aXRpZXNbbV07IH0pO1xuICB9LFxuXG4gIHJlZ2V4cEVzY2FwZTogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICd1bmRlZmluZWQnIHx8IHN0cmluZyA9PT0gbnVsbCkgcmV0dXJuICcnO1xuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csIFwiXFxcXCQxXCIpO1xuICB9LFxuXG4gIGV4dGVuZDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgdmFyIHRhcmdldCA9IGFyZ3Muc2hpZnQoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3NbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVXRpbHM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLFlBQVksR0FBRztFQUNqQixLQUFLLE9BRFk7RUFFakIsS0FBSyxPQUZZO0VBR2pCLEtBQUssUUFIWTtFQUlqQixLQUFLLE1BSlk7RUFLakIsS0FBSztBQUxZLENBQW5COztBQVFBLFNBQVNDLGNBQVQsQ0FBd0JDLE1BQXhCLEVBQWdDO0VBQzlCLEtBQUtBLE1BQUwsR0FBZSxPQUFPQSxNQUFQLEtBQWtCLFFBQWxCLEdBQTZCQSxNQUE3QixHQUFzQyxLQUFLQSxNQUExRDtBQUNEOztBQUNERCxjQUFjLENBQUNFLFNBQWYsQ0FBeUJDLFFBQXpCLEdBQW9DLFlBQVc7RUFDN0MsT0FBTyxLQUFLRixNQUFaO0FBQ0QsQ0FGRDs7QUFJQSxJQUFJRyxLQUFLLEdBQUc7RUFDVkosY0FBYyxFQUFFQSxjQUROO0VBR1ZLLFVBQVUsRUFBRSxVQUFTQyxFQUFULEVBQWFDLEVBQWIsRUFBaUI7SUFDM0IsSUFBSUMsTUFBTSxHQUFHLEVBQWI7O0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxHQUFHLEdBQUdKLEVBQUUsQ0FBQ0ssTUFBekIsRUFBaUNGLENBQUMsR0FBR0MsR0FBckMsRUFBMENELENBQUMsRUFBM0MsRUFBK0M7TUFDN0MsSUFBSUYsRUFBRSxDQUFDSyxPQUFILENBQVdOLEVBQUUsQ0FBQ0csQ0FBRCxDQUFiLE1BQXNCLENBQUMsQ0FBM0IsRUFDRUQsTUFBTSxDQUFDSyxJQUFQLENBQVlQLEVBQUUsQ0FBQ0csQ0FBRCxDQUFkO0lBQ0g7O0lBQ0QsT0FBT0QsTUFBUDtFQUNELENBVlM7RUFZVk0sSUFBSSxFQUFFLFVBQVNDLE1BQVQsRUFBaUI7SUFDckIsSUFBSUQsSUFBSSxHQUFHLEVBQVg7O0lBQ0EsS0FBSyxJQUFJRSxHQUFULElBQWdCRCxNQUFoQixFQUF3QjtNQUN0QixJQUFJQSxNQUFNLENBQUNFLGNBQVAsQ0FBc0JELEdBQXRCLENBQUosRUFDRUYsSUFBSSxDQUFDRCxJQUFMLENBQVVHLEdBQVY7SUFDSDs7SUFDRCxPQUFPRixJQUFQO0VBQ0QsQ0FuQlM7RUFxQlZJLFVBQVUsRUFBRSxVQUFTakIsTUFBVCxFQUFpQjtJQUMzQixJQUFJLE9BQU9BLE1BQVAsS0FBa0IsV0FBbEIsSUFBaUNBLE1BQU0sS0FBSyxJQUFoRCxFQUFzRCxPQUFPLEVBQVA7SUFDdEQsSUFBSUEsTUFBTSxZQUFZRyxLQUFLLENBQUNKLGNBQTVCLEVBQTRDLE9BQU9DLE1BQU0sQ0FBQ0UsUUFBUCxFQUFQO0lBQzVDLE9BQU9nQixNQUFNLENBQUNsQixNQUFELENBQU4sQ0FBZW1CLE9BQWYsQ0FBdUIsVUFBdkIsRUFBbUMsVUFBU0MsQ0FBVCxFQUFXO01BQUUsT0FBT3RCLFlBQVksQ0FBQ3NCLENBQUQsQ0FBbkI7SUFBeUIsQ0FBekUsQ0FBUDtFQUNELENBekJTO0VBMkJWQyxZQUFZLEVBQUUsVUFBU3JCLE1BQVQsRUFBaUI7SUFDN0IsSUFBSSxPQUFPQSxNQUFQLEtBQWtCLFdBQWxCLElBQWlDQSxNQUFNLEtBQUssSUFBaEQsRUFBc0QsT0FBTyxFQUFQO0lBQ3RELE9BQU9rQixNQUFNLENBQUNsQixNQUFELENBQU4sQ0FBZW1CLE9BQWYsQ0FBdUIsNkJBQXZCLEVBQXNELE1BQXRELENBQVA7RUFDRCxDQTlCUztFQWdDVkcsTUFBTSxFQUFFLFlBQVc7SUFDakIsSUFBSUMsSUFBSSxHQUFHLEdBQUdDLEtBQUgsQ0FBU0MsSUFBVCxDQUFjQyxTQUFkLENBQVg7SUFDQSxJQUFJQyxNQUFNLEdBQUdKLElBQUksQ0FBQ0ssS0FBTCxFQUFiOztJQUNBLEtBQUssSUFBSXBCLENBQUMsR0FBRyxDQUFSLEVBQVdDLEdBQUcsR0FBR2MsSUFBSSxDQUFDYixNQUEzQixFQUFtQ0YsQ0FBQyxHQUFHQyxHQUF2QyxFQUE0Q0QsQ0FBQyxFQUE3QyxFQUFpRDtNQUMvQyxJQUFJcUIsTUFBTSxHQUFHTixJQUFJLENBQUNmLENBQUQsQ0FBakI7O01BQ0EsS0FBSyxJQUFJTyxHQUFULElBQWdCYyxNQUFoQixFQUF3QjtRQUN0QixJQUFJQSxNQUFNLENBQUNiLGNBQVAsQ0FBc0JELEdBQXRCLENBQUosRUFDRVksTUFBTSxDQUFDWixHQUFELENBQU4sR0FBY2MsTUFBTSxDQUFDZCxHQUFELENBQXBCO01BQ0g7SUFDRjtFQUNGO0FBMUNTLENBQVo7ZUE2Q2VaLEsifQ==","map":{"version":3,"names":["htmlEntities","HtmlSafeString","string","prototype","toString","Utils","difference","a1","a2","result","i","len","length","indexOf","push","keys","object","key","hasOwnProperty","htmlEscape","String","replace","m","regexpEscape","extend","args","slice","call","arguments","target","shift","source"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/","sources":["utils.js"],"sourcesContent":["var htmlEntities = {\n  \"'\": \"&#39;\",\n  \"&\": \"&amp;\",\n  '\"': \"&quot;\",\n  \">\": \"&gt;\",\n  \"<\": \"&lt;\"\n};\n\nfunction HtmlSafeString(string) {\n  this.string = (typeof string === 'string' ? string : \"\" + string);\n}\nHtmlSafeString.prototype.toString = function() {\n  return this.string;\n};\n\nvar Utils = {\n  HtmlSafeString: HtmlSafeString,\n\n  difference: function(a1, a2) {\n    var result = [];\n    for (var i = 0, len = a1.length; i < len; i++) {\n      if (a2.indexOf(a1[i]) === -1)\n        result.push(a1[i]);\n    }\n    return result;\n  },\n\n  keys: function(object) {\n    var keys = [];\n    for (var key in object) {\n      if (object.hasOwnProperty(key))\n        keys.push(key);\n    }\n    return keys;\n  },\n\n  htmlEscape: function(string) {\n    if (typeof string === 'undefined' || string === null) return '';\n    if (string instanceof Utils.HtmlSafeString) return string.toString();\n    return String(string).replace(/[&<>\"']/g, function(m){ return htmlEntities[m]; });\n  },\n\n  regexpEscape: function(string) {\n    if (typeof string === 'undefined' || string === null) return '';\n    return String(string).replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n  },\n\n  extend: function() {\n    var args = [].slice.call(arguments);\n    var target = args.shift();\n    for (var i = 0, len = args.length; i < len; i++) {\n      var source = args[i];\n      for (var key in source) {\n        if (source.hasOwnProperty(key))\n          target[key] = source[key];\n      }\n    }\n  }\n};\n\nexport default Utils;\n"],"mappings":";;;;;;AAAA,IAAIA,YAAY,GAAG;EACjB,KAAK,OADY;EAEjB,KAAK,OAFY;EAGjB,KAAK,QAHY;EAIjB,KAAK,MAJY;EAKjB,KAAK;AALY,CAAnB;;AAQA,SAASC,cAAT,CAAwBC,MAAxB,EAAgC;EAC9B,KAAKA,MAAL,GAAe,OAAOA,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsC,KAAKA,MAA1D;AACD;;AACDD,cAAc,CAACE,SAAf,CAAyBC,QAAzB,GAAoC,YAAW;EAC7C,OAAO,KAAKF,MAAZ;AACD,CAFD;;AAIA,IAAIG,KAAK,GAAG;EACVJ,cAAc,EAAEA,cADN;EAGVK,UAAU,EAAE,UAASC,EAAT,EAAaC,EAAb,EAAiB;IAC3B,IAAIC,MAAM,GAAG,EAAb;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGJ,EAAE,CAACK,MAAzB,EAAiCF,CAAC,GAAGC,GAArC,EAA0CD,CAAC,EAA3C,EAA+C;MAC7C,IAAIF,EAAE,CAACK,OAAH,CAAWN,EAAE,CAACG,CAAD,CAAb,MAAsB,CAAC,CAA3B,EACED,MAAM,CAACK,IAAP,CAAYP,EAAE,CAACG,CAAD,CAAd;IACH;;IACD,OAAOD,MAAP;EACD,CAVS;EAYVM,IAAI,EAAE,UAASC,MAAT,EAAiB;IACrB,IAAID,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;MACtB,IAAIA,MAAM,CAACE,cAAP,CAAsBD,GAAtB,CAAJ,EACEF,IAAI,CAACD,IAAL,CAAUG,GAAV;IACH;;IACD,OAAOF,IAAP;EACD,CAnBS;EAqBVI,UAAU,EAAE,UAASjB,MAAT,EAAiB;IAC3B,IAAI,OAAOA,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,KAAK,IAAhD,EAAsD,OAAO,EAAP;IACtD,IAAIA,MAAM,YAAYG,KAAK,CAACJ,cAA5B,EAA4C,OAAOC,MAAM,CAACE,QAAP,EAAP;IAC5C,OAAOgB,MAAM,CAAClB,MAAD,CAAN,CAAemB,OAAf,CAAuB,UAAvB,EAAmC,UAASC,CAAT,EAAW;MAAE,OAAOtB,YAAY,CAACsB,CAAD,CAAnB;IAAyB,CAAzE,CAAP;EACD,CAzBS;EA2BVC,YAAY,EAAE,UAASrB,MAAT,EAAiB;IAC7B,IAAI,OAAOA,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,KAAK,IAAhD,EAAsD,OAAO,EAAP;IACtD,OAAOkB,MAAM,CAAClB,MAAD,CAAN,CAAemB,OAAf,CAAuB,6BAAvB,EAAsD,MAAtD,CAAP;EACD,CA9BS;EAgCVG,MAAM,EAAE,YAAW;IACjB,IAAIC,IAAI,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcC,SAAd,CAAX;IACA,IAAIC,MAAM,GAAGJ,IAAI,CAACK,KAAL,EAAb;;IACA,KAAK,IAAIpB,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGc,IAAI,CAACb,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;MAC/C,IAAIqB,MAAM,GAAGN,IAAI,CAACf,CAAD,CAAjB;;MACA,KAAK,IAAIO,GAAT,IAAgBc,MAAhB,EAAwB;QACtB,IAAIA,MAAM,CAACb,cAAP,CAAsBD,GAAtB,CAAJ,EACEY,MAAM,CAACZ,GAAD,CAAN,GAAcc,MAAM,CAACd,GAAD,CAApB;MACH;IACF;EACF;AA1CS,CAAZ;eA6CeZ,K"}},"mtime":1643211188002},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/i18nliner.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar fs;\n\nvar maybeLoadJSON = function (path) {\n  fs = fs || require(\"fs\");\n  var data = {};\n\n  if (fs.existsSync(path)) {\n    try {\n      data = JSON.parse(fs.readFileSync(path).toString());\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return data;\n};\n\nvar I18nliner = {\n  ignore() {\n    fs = fs || require(\"fs\");\n    var ignores = [];\n\n    if (fs.existsSync(\".i18nignore\")) {\n      ignores = fs.readFileSync(\".i18nignore\").toString().trim().split(/\\r?\\n|\\r/);\n    }\n\n    return ignores;\n  },\n\n  set(key, value, fn) {\n    var prevValue = this.config[key];\n    this.config[key] = value;\n\n    if (fn) {\n      try {\n        fn();\n      } finally {\n        this.config[key] = prevValue;\n      }\n    }\n  },\n\n  loadConfig() {\n    var config = maybeLoadJSON(\".i18nrc\");\n\n    for (var key in config) {\n      if (key !== \"plugins\") {\n        this.set(key, config[key]);\n      }\n    } // plugins need to be loaded last to allow them to get\n    //  the full config option when they are initialized\n\n\n    if (config.plugins && config.plugins.length > 0) {\n      this.loadPlugins(config.plugins);\n    }\n  },\n\n  loadPlugins(plugins) {\n    plugins.forEach(function (pluginName) {\n      var plugin = require(pluginName);\n\n      if (plugin.default) plugin = plugin.default;\n      plugin({\n        processors: this.Commands.Check.processors,\n        config: this.config\n      });\n    }.bind(this));\n  },\n\n  config: {\n    inferredKeyFormat: 'underscored_crc32',\n\n    /*\n      literal:\n        Just use the literal string as its translation key\n      underscored:\n        Underscored ascii representation of the string, truncated to\n        <underscoredKeyLength> bytes\n      underscored_crc32:\n        Underscored, with a checksum at the end to avoid collisions\n    */\n    underscoredKeyLength: 50,\n    basePath: \".\",\n\n    /*\n      Where to look for files. Additionally, the output json file\n      will be relative to this.\n     */\n    directories: [],\n\n    /*\n      Further limit extraction to these directories. If empty,\n      I18nliner will look everywhere under <basePath>\n     */\n    babylonPlugins: [\"jsx\", \"classProperties\", \"objectRestSpread\"]\n    /*\n      The set of babylon plugins to use in AST parsing.\n      See: https://github.com/babel/babel/tree/master/packages/babylon#plugins\n     */\n\n  }\n};\nvar _default = I18nliner;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsIm1heWJlTG9hZEpTT04iLCJwYXRoIiwicmVxdWlyZSIsImRhdGEiLCJleGlzdHNTeW5jIiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwidG9TdHJpbmciLCJlIiwiY29uc29sZSIsImxvZyIsIkkxOG5saW5lciIsImlnbm9yZSIsImlnbm9yZXMiLCJ0cmltIiwic3BsaXQiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsImZuIiwicHJldlZhbHVlIiwiY29uZmlnIiwibG9hZENvbmZpZyIsInBsdWdpbnMiLCJsZW5ndGgiLCJsb2FkUGx1Z2lucyIsImZvckVhY2giLCJwbHVnaW5OYW1lIiwicGx1Z2luIiwiZGVmYXVsdCIsInByb2Nlc3NvcnMiLCJDb21tYW5kcyIsIkNoZWNrIiwiYmluZCIsImluZmVycmVkS2V5Rm9ybWF0IiwidW5kZXJzY29yZWRLZXlMZW5ndGgiLCJiYXNlUGF0aCIsImRpcmVjdG9yaWVzIiwiYmFieWxvblBsdWdpbnMiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL2xpYi8iLCJzb3VyY2VzIjpbImkxOG5saW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZnM7XG5cbnZhciBtYXliZUxvYWRKU09OID0gZnVuY3Rpb24gKHBhdGgpe1xuICBmcyA9IGZzIHx8IHJlcXVpcmUoXCJmc1wiKTtcbiAgdmFyIGRhdGEgPSB7fVxuICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoKSkge1xuICAgIHRyeSB7XG4gICAgICBkYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocGF0aCkudG9TdHJpbmcoKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG52YXIgSTE4bmxpbmVyID0ge1xuICBpZ25vcmUgKCkge1xuICAgIGZzID0gZnMgfHwgcmVxdWlyZShcImZzXCIpO1xuICAgIHZhciBpZ25vcmVzID0gW107XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoXCIuaTE4bmlnbm9yZVwiKSkge1xuICAgICAgaWdub3JlcyA9IGZzLnJlYWRGaWxlU3luYyhcIi5pMThuaWdub3JlXCIpLnRvU3RyaW5nKCkudHJpbSgpLnNwbGl0KC9cXHI/XFxufFxcci8pO1xuICAgIH1cbiAgICByZXR1cm4gaWdub3JlcztcbiAgfSxcblxuICBzZXQgKGtleSwgdmFsdWUsIGZuKSB7XG4gICAgdmFyIHByZXZWYWx1ZSA9IHRoaXMuY29uZmlnW2tleV07XG4gICAgdGhpcy5jb25maWdba2V5XSA9IHZhbHVlO1xuICAgIGlmIChmbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkge1xuICAgICAgICB0aGlzLmNvbmZpZ1trZXldID0gcHJldlZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBsb2FkQ29uZmlnICgpIHtcbiAgICB2YXIgY29uZmlnID0gbWF5YmVMb2FkSlNPTihcIi5pMThucmNcIik7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gY29uZmlnKSB7XG4gICAgICBpZiAoa2V5ICE9PSBcInBsdWdpbnNcIikge1xuICAgICAgICB0aGlzLnNldChrZXksIGNvbmZpZ1trZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwbHVnaW5zIG5lZWQgdG8gYmUgbG9hZGVkIGxhc3QgdG8gYWxsb3cgdGhlbSB0byBnZXRcbiAgICAvLyAgdGhlIGZ1bGwgY29uZmlnIG9wdGlvbiB3aGVuIHRoZXkgYXJlIGluaXRpYWxpemVkXG4gICAgaWYgKGNvbmZpZy5wbHVnaW5zICYmIGNvbmZpZy5wbHVnaW5zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubG9hZFBsdWdpbnMoY29uZmlnLnBsdWdpbnMpO1xuICAgIH1cbiAgfSxcblxuICBsb2FkUGx1Z2lucyAocGx1Z2lucykge1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW5OYW1lKSB7XG4gICAgICB2YXIgcGx1Z2luID0gcmVxdWlyZShwbHVnaW5OYW1lKTtcbiAgICAgIGlmIChwbHVnaW4uZGVmYXVsdCkgcGx1Z2luID0gcGx1Z2luLmRlZmF1bHQ7XG4gICAgICBwbHVnaW4oe1xuICAgICAgICBwcm9jZXNzb3JzOiB0aGlzLkNvbW1hbmRzLkNoZWNrLnByb2Nlc3NvcnMsXG4gICAgICAgIGNvbmZpZzogdGhpcy5jb25maWdcbiAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH0sXG5cbiAgY29uZmlnOiB7XG4gICAgaW5mZXJyZWRLZXlGb3JtYXQ6ICd1bmRlcnNjb3JlZF9jcmMzMicsXG4gICAgLypcbiAgICAgIGxpdGVyYWw6XG4gICAgICAgIEp1c3QgdXNlIHRoZSBsaXRlcmFsIHN0cmluZyBhcyBpdHMgdHJhbnNsYXRpb24ga2V5XG4gICAgICB1bmRlcnNjb3JlZDpcbiAgICAgICAgVW5kZXJzY29yZWQgYXNjaWkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHN0cmluZywgdHJ1bmNhdGVkIHRvXG4gICAgICAgIDx1bmRlcnNjb3JlZEtleUxlbmd0aD4gYnl0ZXNcbiAgICAgIHVuZGVyc2NvcmVkX2NyYzMyOlxuICAgICAgICBVbmRlcnNjb3JlZCwgd2l0aCBhIGNoZWNrc3VtIGF0IHRoZSBlbmQgdG8gYXZvaWQgY29sbGlzaW9uc1xuICAgICovXG5cbiAgICB1bmRlcnNjb3JlZEtleUxlbmd0aDogNTAsXG5cbiAgICBiYXNlUGF0aDogXCIuXCIsXG4gICAgLypcbiAgICAgIFdoZXJlIHRvIGxvb2sgZm9yIGZpbGVzLiBBZGRpdGlvbmFsbHksIHRoZSBvdXRwdXQganNvbiBmaWxlXG4gICAgICB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMuXG4gICAgICovXG5cbiAgICBkaXJlY3RvcmllczogW10sXG4gICAgLypcbiAgICAgIEZ1cnRoZXIgbGltaXQgZXh0cmFjdGlvbiB0byB0aGVzZSBkaXJlY3Rvcmllcy4gSWYgZW1wdHksXG4gICAgICBJMThubGluZXIgd2lsbCBsb29rIGV2ZXJ5d2hlcmUgdW5kZXIgPGJhc2VQYXRoPlxuICAgICAqL1xuXG4gICAgYmFieWxvblBsdWdpbnM6IFtcImpzeFwiLCBcImNsYXNzUHJvcGVydGllc1wiLCBcIm9iamVjdFJlc3RTcHJlYWRcIl1cbiAgICAvKlxuICAgICAgVGhlIHNldCBvZiBiYWJ5bG9uIHBsdWdpbnMgdG8gdXNlIGluIEFTVCBwYXJzaW5nLlxuICAgICAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvdHJlZS9tYXN0ZXIvcGFja2FnZXMvYmFieWxvbiNwbHVnaW5zXG4gICAgICovXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEkxOG5saW5lcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsRUFBSjs7QUFFQSxJQUFJQyxhQUFhLEdBQUcsVUFBVUMsSUFBVixFQUFlO0VBQ2pDRixFQUFFLEdBQUdBLEVBQUUsSUFBSUcsT0FBTyxDQUFDLElBQUQsQ0FBbEI7RUFDQSxJQUFJQyxJQUFJLEdBQUcsRUFBWDs7RUFDQSxJQUFJSixFQUFFLENBQUNLLFVBQUgsQ0FBY0gsSUFBZCxDQUFKLEVBQXlCO0lBQ3ZCLElBQUk7TUFDRkUsSUFBSSxHQUFHRSxJQUFJLENBQUNDLEtBQUwsQ0FBV1AsRUFBRSxDQUFDUSxZQUFILENBQWdCTixJQUFoQixFQUFzQk8sUUFBdEIsRUFBWCxDQUFQO0lBQ0QsQ0FGRCxDQUVFLE9BQU9DLENBQVAsRUFBVTtNQUNWQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtJQUNEO0VBQ0Y7O0VBQ0QsT0FBT04sSUFBUDtBQUNELENBWEQ7O0FBYUEsSUFBSVMsU0FBUyxHQUFHO0VBQ2RDLE1BQU0sR0FBSTtJQUNSZCxFQUFFLEdBQUdBLEVBQUUsSUFBSUcsT0FBTyxDQUFDLElBQUQsQ0FBbEI7SUFDQSxJQUFJWSxPQUFPLEdBQUcsRUFBZDs7SUFDQSxJQUFJZixFQUFFLENBQUNLLFVBQUgsQ0FBYyxhQUFkLENBQUosRUFBa0M7TUFDaENVLE9BQU8sR0FBR2YsRUFBRSxDQUFDUSxZQUFILENBQWdCLGFBQWhCLEVBQStCQyxRQUEvQixHQUEwQ08sSUFBMUMsR0FBaURDLEtBQWpELENBQXVELFVBQXZELENBQVY7SUFDRDs7SUFDRCxPQUFPRixPQUFQO0VBQ0QsQ0FSYTs7RUFVZEcsR0FBRyxDQUFFQyxHQUFGLEVBQU9DLEtBQVAsRUFBY0MsRUFBZCxFQUFrQjtJQUNuQixJQUFJQyxTQUFTLEdBQUcsS0FBS0MsTUFBTCxDQUFZSixHQUFaLENBQWhCO0lBQ0EsS0FBS0ksTUFBTCxDQUFZSixHQUFaLElBQW1CQyxLQUFuQjs7SUFDQSxJQUFJQyxFQUFKLEVBQVE7TUFDTixJQUFJO1FBQ0ZBLEVBQUU7TUFDSCxDQUZELFNBR1E7UUFDTixLQUFLRSxNQUFMLENBQVlKLEdBQVosSUFBbUJHLFNBQW5CO01BQ0Q7SUFDRjtFQUNGLENBckJhOztFQXVCZEUsVUFBVSxHQUFJO0lBQ1osSUFBSUQsTUFBTSxHQUFHdEIsYUFBYSxDQUFDLFNBQUQsQ0FBMUI7O0lBRUEsS0FBSyxJQUFJa0IsR0FBVCxJQUFnQkksTUFBaEIsRUFBd0I7TUFDdEIsSUFBSUosR0FBRyxLQUFLLFNBQVosRUFBdUI7UUFDckIsS0FBS0QsR0FBTCxDQUFTQyxHQUFULEVBQWNJLE1BQU0sQ0FBQ0osR0FBRCxDQUFwQjtNQUNEO0lBQ0YsQ0FQVyxDQVNaO0lBQ0E7OztJQUNBLElBQUlJLE1BQU0sQ0FBQ0UsT0FBUCxJQUFrQkYsTUFBTSxDQUFDRSxPQUFQLENBQWVDLE1BQWYsR0FBd0IsQ0FBOUMsRUFBaUQ7TUFDL0MsS0FBS0MsV0FBTCxDQUFpQkosTUFBTSxDQUFDRSxPQUF4QjtJQUNEO0VBQ0YsQ0FyQ2E7O0VBdUNkRSxXQUFXLENBQUVGLE9BQUYsRUFBVztJQUNwQkEsT0FBTyxDQUFDRyxPQUFSLENBQWdCLFVBQVNDLFVBQVQsRUFBcUI7TUFDbkMsSUFBSUMsTUFBTSxHQUFHM0IsT0FBTyxDQUFDMEIsVUFBRCxDQUFwQjs7TUFDQSxJQUFJQyxNQUFNLENBQUNDLE9BQVgsRUFBb0JELE1BQU0sR0FBR0EsTUFBTSxDQUFDQyxPQUFoQjtNQUNwQkQsTUFBTSxDQUFDO1FBQ0xFLFVBQVUsRUFBRSxLQUFLQyxRQUFMLENBQWNDLEtBQWQsQ0FBb0JGLFVBRDNCO1FBRUxULE1BQU0sRUFBRSxLQUFLQTtNQUZSLENBQUQsQ0FBTjtJQUlELENBUGUsQ0FPZFksSUFQYyxDQU9ULElBUFMsQ0FBaEI7RUFRRCxDQWhEYTs7RUFrRGRaLE1BQU0sRUFBRTtJQUNOYSxpQkFBaUIsRUFBRSxtQkFEYjs7SUFFTjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFFSUMsb0JBQW9CLEVBQUUsRUFaaEI7SUFjTkMsUUFBUSxFQUFFLEdBZEo7O0lBZU47QUFDSjtBQUNBO0FBQ0E7SUFFSUMsV0FBVyxFQUFFLEVBcEJQOztJQXFCTjtBQUNKO0FBQ0E7QUFDQTtJQUVJQyxjQUFjLEVBQUUsQ0FBQyxLQUFELEVBQVEsaUJBQVIsRUFBMkIsa0JBQTNCO0lBQ2hCO0FBQ0o7QUFDQTtBQUNBOztFQTlCVTtBQWxETSxDQUFoQjtlQW9GZTNCLFMifQ==","map":{"version":3,"names":["fs","maybeLoadJSON","path","require","data","existsSync","JSON","parse","readFileSync","toString","e","console","log","I18nliner","ignore","ignores","trim","split","set","key","value","fn","prevValue","config","loadConfig","plugins","length","loadPlugins","forEach","pluginName","plugin","default","processors","Commands","Check","bind","inferredKeyFormat","underscoredKeyLength","basePath","directories","babylonPlugins"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/","sources":["i18nliner.js"],"sourcesContent":["var fs;\n\nvar maybeLoadJSON = function (path){\n  fs = fs || require(\"fs\");\n  var data = {}\n  if (fs.existsSync(path)) {\n    try {\n      data = JSON.parse(fs.readFileSync(path).toString());\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  return data;\n}\n\nvar I18nliner = {\n  ignore () {\n    fs = fs || require(\"fs\");\n    var ignores = [];\n    if (fs.existsSync(\".i18nignore\")) {\n      ignores = fs.readFileSync(\".i18nignore\").toString().trim().split(/\\r?\\n|\\r/);\n    }\n    return ignores;\n  },\n\n  set (key, value, fn) {\n    var prevValue = this.config[key];\n    this.config[key] = value;\n    if (fn) {\n      try {\n        fn();\n      }\n      finally {\n        this.config[key] = prevValue;\n      }\n    }\n  },\n\n  loadConfig () {\n    var config = maybeLoadJSON(\".i18nrc\");\n\n    for (var key in config) {\n      if (key !== \"plugins\") {\n        this.set(key, config[key]);\n      }\n    }\n\n    // plugins need to be loaded last to allow them to get\n    //  the full config option when they are initialized\n    if (config.plugins && config.plugins.length > 0) {\n      this.loadPlugins(config.plugins);\n    }\n  },\n\n  loadPlugins (plugins) {\n    plugins.forEach(function(pluginName) {\n      var plugin = require(pluginName);\n      if (plugin.default) plugin = plugin.default;\n      plugin({\n        processors: this.Commands.Check.processors,\n        config: this.config\n      });\n    }.bind(this));\n  },\n\n  config: {\n    inferredKeyFormat: 'underscored_crc32',\n    /*\n      literal:\n        Just use the literal string as its translation key\n      underscored:\n        Underscored ascii representation of the string, truncated to\n        <underscoredKeyLength> bytes\n      underscored_crc32:\n        Underscored, with a checksum at the end to avoid collisions\n    */\n\n    underscoredKeyLength: 50,\n\n    basePath: \".\",\n    /*\n      Where to look for files. Additionally, the output json file\n      will be relative to this.\n     */\n\n    directories: [],\n    /*\n      Further limit extraction to these directories. If empty,\n      I18nliner will look everywhere under <basePath>\n     */\n\n    babylonPlugins: [\"jsx\", \"classProperties\", \"objectRestSpread\"]\n    /*\n      The set of babylon plugins to use in AST parsing.\n      See: https://github.com/babel/babel/tree/master/packages/babylon#plugins\n     */\n  }\n};\n\nexport default I18nliner;\n"],"mappings":";;;;;;AAAA,IAAIA,EAAJ;;AAEA,IAAIC,aAAa,GAAG,UAAUC,IAAV,EAAe;EACjCF,EAAE,GAAGA,EAAE,IAAIG,OAAO,CAAC,IAAD,CAAlB;EACA,IAAIC,IAAI,GAAG,EAAX;;EACA,IAAIJ,EAAE,CAACK,UAAH,CAAcH,IAAd,CAAJ,EAAyB;IACvB,IAAI;MACFE,IAAI,GAAGE,IAAI,CAACC,KAAL,CAAWP,EAAE,CAACQ,YAAH,CAAgBN,IAAhB,EAAsBO,QAAtB,EAAX,CAAP;IACD,CAFD,CAEE,OAAOC,CAAP,EAAU;MACVC,OAAO,CAACC,GAAR,CAAYF,CAAZ;IACD;EACF;;EACD,OAAON,IAAP;AACD,CAXD;;AAaA,IAAIS,SAAS,GAAG;EACdC,MAAM,GAAI;IACRd,EAAE,GAAGA,EAAE,IAAIG,OAAO,CAAC,IAAD,CAAlB;IACA,IAAIY,OAAO,GAAG,EAAd;;IACA,IAAIf,EAAE,CAACK,UAAH,CAAc,aAAd,CAAJ,EAAkC;MAChCU,OAAO,GAAGf,EAAE,CAACQ,YAAH,CAAgB,aAAhB,EAA+BC,QAA/B,GAA0CO,IAA1C,GAAiDC,KAAjD,CAAuD,UAAvD,CAAV;IACD;;IACD,OAAOF,OAAP;EACD,CARa;;EAUdG,GAAG,CAAEC,GAAF,EAAOC,KAAP,EAAcC,EAAd,EAAkB;IACnB,IAAIC,SAAS,GAAG,KAAKC,MAAL,CAAYJ,GAAZ,CAAhB;IACA,KAAKI,MAAL,CAAYJ,GAAZ,IAAmBC,KAAnB;;IACA,IAAIC,EAAJ,EAAQ;MACN,IAAI;QACFA,EAAE;MACH,CAFD,SAGQ;QACN,KAAKE,MAAL,CAAYJ,GAAZ,IAAmBG,SAAnB;MACD;IACF;EACF,CArBa;;EAuBdE,UAAU,GAAI;IACZ,IAAID,MAAM,GAAGtB,aAAa,CAAC,SAAD,CAA1B;;IAEA,KAAK,IAAIkB,GAAT,IAAgBI,MAAhB,EAAwB;MACtB,IAAIJ,GAAG,KAAK,SAAZ,EAAuB;QACrB,KAAKD,GAAL,CAASC,GAAT,EAAcI,MAAM,CAACJ,GAAD,CAApB;MACD;IACF,CAPW,CASZ;IACA;;;IACA,IAAII,MAAM,CAACE,OAAP,IAAkBF,MAAM,CAACE,OAAP,CAAeC,MAAf,GAAwB,CAA9C,EAAiD;MAC/C,KAAKC,WAAL,CAAiBJ,MAAM,CAACE,OAAxB;IACD;EACF,CArCa;;EAuCdE,WAAW,CAAEF,OAAF,EAAW;IACpBA,OAAO,CAACG,OAAR,CAAgB,UAASC,UAAT,EAAqB;MACnC,IAAIC,MAAM,GAAG3B,OAAO,CAAC0B,UAAD,CAApB;;MACA,IAAIC,MAAM,CAACC,OAAX,EAAoBD,MAAM,GAAGA,MAAM,CAACC,OAAhB;MACpBD,MAAM,CAAC;QACLE,UAAU,EAAE,KAAKC,QAAL,CAAcC,KAAd,CAAoBF,UAD3B;QAELT,MAAM,EAAE,KAAKA;MAFR,CAAD,CAAN;IAID,CAPe,CAOdY,IAPc,CAOT,IAPS,CAAhB;EAQD,CAhDa;;EAkDdZ,MAAM,EAAE;IACNa,iBAAiB,EAAE,mBADb;;IAEN;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAEIC,oBAAoB,EAAE,EAZhB;IAcNC,QAAQ,EAAE,GAdJ;;IAeN;AACJ;AACA;AACA;IAEIC,WAAW,EAAE,EApBP;;IAqBN;AACJ;AACA;AACA;IAEIC,cAAc,EAAE,CAAC,KAAD,EAAQ,iBAAR,EAA2B,kBAA3B;IAChB;AACJ;AACA;AACA;;EA9BU;AAlDM,CAAhB;eAoFe3B,S"}},"mtime":1643211218759},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/commands/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/commands/check_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _check = _interopRequireDefault(require(\"../../lib/commands/check\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../../lib/i18nliner\"));\n\nvar _chai = require(\"chai\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, it */\ndescribe('Check', function () {\n  describe(\".run\", function () {\n    it(\"should find errors in js files\", function () {\n      _i18nliner.default.set('basePath', \"test/fixtures/i18n_js\", function () {\n        var checker = new _check.default({\n          silent: true\n        });\n        checker.run();\n\n        _chai.assert.deepEqual(checker.translations.translations, {\n          \"welcome_name_4c6ebc3a\": 'welcome, %{name}'\n        });\n\n        _chai.assert.equal(checker.errors.length, 1);\n\n        _chai.assert.match(checker.errors[0], /invalid signature/);\n      });\n    });\n    it(\"should find errors in ts files\", function () {\n      _i18nliner.default.set('basePath', \"test/fixtures/i18n_ts\", function () {\n        var checker = new _check.default({\n          silent: true\n        });\n        checker.run();\n\n        _chai.assert.deepEqual(checker.translations.translations, {\n          \"welcome_fname_45c9b6bf\": 'welcome, %{fname}'\n        });\n\n        _chai.assert.equal(checker.errors.length, 1);\n\n        _chai.assert.match(checker.errors[0], /invalid signature/);\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiSTE4bmxpbmVyIiwic2V0IiwiY2hlY2tlciIsIkNoZWNrIiwic2lsZW50IiwicnVuIiwiYXNzZXJ0IiwiZGVlcEVxdWFsIiwidHJhbnNsYXRpb25zIiwiZXF1YWwiLCJlcnJvcnMiLCJsZW5ndGgiLCJtYXRjaCJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvdGVzdC9jb21tYW5kcy8iLCJzb3VyY2VzIjpbImNoZWNrX3Rlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGRlc2NyaWJlLCBpdCAqL1xuXG5pbXBvcnQgQ2hlY2sgZnJvbSAnLi4vLi4vbGliL2NvbW1hbmRzL2NoZWNrJztcbmltcG9ydCBJMThubGluZXIgZnJvbSAnLi4vLi4vbGliL2kxOG5saW5lcic7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcImNoYWlcIjtcblxuZGVzY3JpYmUoJ0NoZWNrJywgZnVuY3Rpb24oKSB7XG4gIGRlc2NyaWJlKFwiLnJ1blwiLCBmdW5jdGlvbigpIHtcbiAgICBpdChcInNob3VsZCBmaW5kIGVycm9ycyBpbiBqcyBmaWxlc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIEkxOG5saW5lci5zZXQoJ2Jhc2VQYXRoJywgXCJ0ZXN0L2ZpeHR1cmVzL2kxOG5fanNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gbmV3IENoZWNrKHtzaWxlbnQ6IHRydWV9KTtcbiAgICAgICAgY2hlY2tlci5ydW4oKTtcbiAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgICBjaGVja2VyLnRyYW5zbGF0aW9ucy50cmFuc2xhdGlvbnMsXG4gICAgICAgICAge1wid2VsY29tZV9uYW1lXzRjNmViYzNhXCI6ICd3ZWxjb21lLCAle25hbWV9J31cbiAgICAgICAgKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNoZWNrZXIuZXJyb3JzLmxlbmd0aCwgMSk7XG4gICAgICAgIGFzc2VydC5tYXRjaChjaGVja2VyLmVycm9yc1swXSwgL2ludmFsaWQgc2lnbmF0dXJlLyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGZpbmQgZXJyb3JzIGluIHRzIGZpbGVzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgSTE4bmxpbmVyLnNldCgnYmFzZVBhdGgnLCBcInRlc3QvZml4dHVyZXMvaTE4bl90c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBuZXcgQ2hlY2soe3NpbGVudDogdHJ1ZX0pO1xuICAgICAgICBjaGVja2VyLnJ1bigpO1xuICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICAgIGNoZWNrZXIudHJhbnNsYXRpb25zLnRyYW5zbGF0aW9ucyxcbiAgICAgICAgICB7XCJ3ZWxjb21lX2ZuYW1lXzQ1YzliNmJmXCI6ICd3ZWxjb21lLCAle2ZuYW1lfSd9XG4gICAgICAgICk7XG4gICAgICAgIGFzc2VydC5lcXVhbChjaGVja2VyLmVycm9ycy5sZW5ndGgsIDEpO1xuICAgICAgICBhc3NlcnQubWF0Y2goY2hlY2tlci5lcnJvcnNbMF0sIC9pbnZhbGlkIHNpZ25hdHVyZS8pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFKQTtBQU1BQSxRQUFRLENBQUMsT0FBRCxFQUFVLFlBQVc7RUFDM0JBLFFBQVEsQ0FBQyxNQUFELEVBQVMsWUFBVztJQUMxQkMsRUFBRSxDQUFDLGdDQUFELEVBQW1DLFlBQVc7TUFDOUNDLGtCQUFBLENBQVVDLEdBQVYsQ0FBYyxVQUFkLEVBQTBCLHVCQUExQixFQUFtRCxZQUFXO1FBQzVELElBQUlDLE9BQU8sR0FBRyxJQUFJQyxjQUFKLENBQVU7VUFBQ0MsTUFBTSxFQUFFO1FBQVQsQ0FBVixDQUFkO1FBQ0FGLE9BQU8sQ0FBQ0csR0FBUjs7UUFDQUMsWUFBQSxDQUFPQyxTQUFQLENBQ0VMLE9BQU8sQ0FBQ00sWUFBUixDQUFxQkEsWUFEdkIsRUFFRTtVQUFDLHlCQUF5QjtRQUExQixDQUZGOztRQUlBRixZQUFBLENBQU9HLEtBQVAsQ0FBYVAsT0FBTyxDQUFDUSxNQUFSLENBQWVDLE1BQTVCLEVBQW9DLENBQXBDOztRQUNBTCxZQUFBLENBQU9NLEtBQVAsQ0FBYVYsT0FBTyxDQUFDUSxNQUFSLENBQWUsQ0FBZixDQUFiLEVBQWdDLG1CQUFoQztNQUNELENBVEQ7SUFVRCxDQVhDLENBQUY7SUFhQVgsRUFBRSxDQUFDLGdDQUFELEVBQW1DLFlBQVc7TUFDOUNDLGtCQUFBLENBQVVDLEdBQVYsQ0FBYyxVQUFkLEVBQTBCLHVCQUExQixFQUFtRCxZQUFXO1FBQzVELElBQUlDLE9BQU8sR0FBRyxJQUFJQyxjQUFKLENBQVU7VUFBQ0MsTUFBTSxFQUFFO1FBQVQsQ0FBVixDQUFkO1FBQ0FGLE9BQU8sQ0FBQ0csR0FBUjs7UUFDQUMsWUFBQSxDQUFPQyxTQUFQLENBQ0VMLE9BQU8sQ0FBQ00sWUFBUixDQUFxQkEsWUFEdkIsRUFFRTtVQUFDLDBCQUEwQjtRQUEzQixDQUZGOztRQUlBRixZQUFBLENBQU9HLEtBQVAsQ0FBYVAsT0FBTyxDQUFDUSxNQUFSLENBQWVDLE1BQTVCLEVBQW9DLENBQXBDOztRQUNBTCxZQUFBLENBQU9NLEtBQVAsQ0FBYVYsT0FBTyxDQUFDUSxNQUFSLENBQWUsQ0FBZixDQUFiLEVBQWdDLG1CQUFoQztNQUNELENBVEQ7SUFVRCxDQVhDLENBQUY7RUFZRCxDQTFCTyxDQUFSO0FBMkJELENBNUJPLENBQVIifQ==","map":{"version":3,"names":["describe","it","I18nliner","set","checker","Check","silent","run","assert","deepEqual","translations","equal","errors","length","match"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/commands/","sources":["check_test.js"],"sourcesContent":["/* global describe, it */\n\nimport Check from '../../lib/commands/check';\nimport I18nliner from '../../lib/i18nliner';\nimport {assert} from \"chai\";\n\ndescribe('Check', function() {\n  describe(\".run\", function() {\n    it(\"should find errors in js files\", function() {\n      I18nliner.set('basePath', \"test/fixtures/i18n_js\", function() {\n        var checker = new Check({silent: true});\n        checker.run();\n        assert.deepEqual(\n          checker.translations.translations,\n          {\"welcome_name_4c6ebc3a\": 'welcome, %{name}'}\n        );\n        assert.equal(checker.errors.length, 1);\n        assert.match(checker.errors[0], /invalid signature/);\n      });\n    });\n\n    it(\"should find errors in ts files\", function() {\n      I18nliner.set('basePath', \"test/fixtures/i18n_ts\", function() {\n        var checker = new Check({silent: true});\n        checker.run();\n        assert.deepEqual(\n          checker.translations.translations,\n          {\"welcome_fname_45c9b6bf\": 'welcome, %{fname}'}\n        );\n        assert.equal(checker.errors.length, 1);\n        assert.match(checker.errors[0], /invalid signature/);\n      });\n    });\n  });\n});\n"],"mappings":";;AAEA;;AACA;;AACA;;;;AAJA;AAMAA,QAAQ,CAAC,OAAD,EAAU,YAAW;EAC3BA,QAAQ,CAAC,MAAD,EAAS,YAAW;IAC1BC,EAAE,CAAC,gCAAD,EAAmC,YAAW;MAC9CC,kBAAA,CAAUC,GAAV,CAAc,UAAd,EAA0B,uBAA1B,EAAmD,YAAW;QAC5D,IAAIC,OAAO,GAAG,IAAIC,cAAJ,CAAU;UAACC,MAAM,EAAE;QAAT,CAAV,CAAd;QACAF,OAAO,CAACG,GAAR;;QACAC,YAAA,CAAOC,SAAP,CACEL,OAAO,CAACM,YAAR,CAAqBA,YADvB,EAEE;UAAC,yBAAyB;QAA1B,CAFF;;QAIAF,YAAA,CAAOG,KAAP,CAAaP,OAAO,CAACQ,MAAR,CAAeC,MAA5B,EAAoC,CAApC;;QACAL,YAAA,CAAOM,KAAP,CAAaV,OAAO,CAACQ,MAAR,CAAe,CAAf,CAAb,EAAgC,mBAAhC;MACD,CATD;IAUD,CAXC,CAAF;IAaAX,EAAE,CAAC,gCAAD,EAAmC,YAAW;MAC9CC,kBAAA,CAAUC,GAAV,CAAc,UAAd,EAA0B,uBAA1B,EAAmD,YAAW;QAC5D,IAAIC,OAAO,GAAG,IAAIC,cAAJ,CAAU;UAACC,MAAM,EAAE;QAAT,CAAV,CAAd;QACAF,OAAO,CAACG,GAAR;;QACAC,YAAA,CAAOC,SAAP,CACEL,OAAO,CAACM,YAAR,CAAqBA,YADvB,EAEE;UAAC,0BAA0B;QAA3B,CAFF;;QAIAF,YAAA,CAAOG,KAAP,CAAaP,OAAO,CAACQ,MAAR,CAAeC,MAA5B,EAAoC,CAApC;;QACAL,YAAA,CAAOM,KAAP,CAAaV,OAAO,CAACQ,MAAR,CAAe,CAAf,CAAb,EAAgC,mBAAhC;MACD,CATD;IAUD,CAXC,CAAF;EAYD,CA1BO,CAAR;AA2BD,CA5BO,CAAR"}},"mtime":1653408737575},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/check.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cliColor = _interopRequireDefault(require(\"cli-color\"));\n\nvar _translation_hash = _interopRequireDefault(require(\"../extractors/translation_hash\"));\n\nvar _generic_command = _interopRequireDefault(require(\"./generic_command\"));\n\nvar _js_processor = _interopRequireDefault(require(\"../processors/js_processor\"));\n\nvar _ts_processor = _interopRequireDefault(require(\"../processors/ts_processor\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar red = _cliColor.default.red;\nvar green = _cliColor.default.green;\n\nfunction sum(array, prop) {\n  var total = 0;\n\n  for (var i = 0, len = array.length; i < len; i++) {\n    total += array[i][prop];\n  }\n\n  return total;\n}\n\nfunction Check(options) {\n  _generic_command.default.call(this, options);\n\n  this.errors = [];\n  this.translations = new this.TranslationHash();\n  this.setUpProcessors();\n}\n\nCheck.prototype = Object.create(_generic_command.default.prototype);\nCheck.prototype.constructor = Check;\nCheck.prototype.TranslationHash = _translation_hash.default;\n\nCheck.prototype.setUpProcessors = function () {\n  this.processors = [];\n\n  for (var key in Check.processors) {\n    var Processor = Check.processors[key];\n    this.processors.push(new Processor(this.translations, {\n      translations: this.translations,\n      checkWrapper: this.checkWrapper.bind(this),\n      only: this.options.only,\n      directory: this.options.directory\n    }));\n  }\n};\n\nCheck.prototype.checkFiles = function () {\n  for (var i = 0; i < this.processors.length; i++) {\n    this.processors[i].checkFiles();\n  }\n};\n\nCheck.prototype.checkWrapper = function (file, checker) {\n  try {\n    checker(file);\n    this.print(green(\".\"));\n  } catch (e) {\n    const friendlyFile = file.startsWith(process.cwd()) ? file.slice(process.cwd().length + 1) : file;\n\n    if (!(e instanceof Error)) {\n      this.errors.push(`${friendlyFile}:${e.line}: ${e.message}`);\n      this.print(red(\"F\"));\n    } else {\n      this.errors.push(`${friendlyFile}: InternalError: ${e.message}\\n${e.stack}`);\n      this.print(red(\"F\"));\n    }\n  }\n};\n\nCheck.prototype.isSuccess = function () {\n  return !this.errors.length;\n};\n\nCheck.prototype.printSummary = function () {\n  var processors = this.processors;\n  var summary;\n  var errors = this.errors;\n  var errorsLen = errors.length;\n  var i;\n  var translationCount = sum(processors, 'translationCount');\n  var fileCount = sum(processors, 'fileCount');\n  var elapsed = new Date().getTime() - this.startTime;\n\n  if (errors.length) {\n    this.print(\"\\n\\n\");\n\n    for (const error of errors) {\n      this.print(red(error) + \"\\n\");\n    }\n\n    this.print(\"\\n\");\n  }\n\n  this.print(\"Finished in \" + elapsed / 1000 + \" seconds\\n\\n\");\n  summary = fileCount + \" files, \" + translationCount + \" strings, \" + errorsLen + \" failures\";\n  this.print((this.isSuccess() ? green : red)(summary) + \"\\n\");\n};\n\nCheck.prototype.run = function () {\n  this.startTime = new Date().getTime();\n  this.checkFiles();\n  this.printSummary();\n  return this.isSuccess();\n};\n\nCheck.processors = {\n  JsProcessor: _js_processor.default,\n  TsProcessor: _ts_processor.default\n};\nvar _default = Check;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWQiLCJjbGMiLCJncmVlbiIsInN1bSIsImFycmF5IiwicHJvcCIsInRvdGFsIiwiaSIsImxlbiIsImxlbmd0aCIsIkNoZWNrIiwib3B0aW9ucyIsIkdlbmVyaWNDb21tYW5kIiwiY2FsbCIsImVycm9ycyIsInRyYW5zbGF0aW9ucyIsIlRyYW5zbGF0aW9uSGFzaCIsInNldFVwUHJvY2Vzc29ycyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwicHJvY2Vzc29ycyIsImtleSIsIlByb2Nlc3NvciIsInB1c2giLCJjaGVja1dyYXBwZXIiLCJiaW5kIiwib25seSIsImRpcmVjdG9yeSIsImNoZWNrRmlsZXMiLCJmaWxlIiwiY2hlY2tlciIsInByaW50IiwiZSIsImZyaWVuZGx5RmlsZSIsInN0YXJ0c1dpdGgiLCJwcm9jZXNzIiwiY3dkIiwic2xpY2UiLCJFcnJvciIsImxpbmUiLCJtZXNzYWdlIiwic3RhY2siLCJpc1N1Y2Nlc3MiLCJwcmludFN1bW1hcnkiLCJzdW1tYXJ5IiwiZXJyb3JzTGVuIiwidHJhbnNsYXRpb25Db3VudCIsImZpbGVDb3VudCIsImVsYXBzZWQiLCJEYXRlIiwiZ2V0VGltZSIsInN0YXJ0VGltZSIsImVycm9yIiwicnVuIiwiSnNQcm9jZXNzb3IiLCJUc1Byb2Nlc3NvciJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvbGliL2NvbW1hbmRzLyIsInNvdXJjZXMiOlsiY2hlY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYyBmcm9tIFwiY2xpLWNvbG9yXCI7XG5cbmltcG9ydCBUcmFuc2xhdGlvbkhhc2ggZnJvbSBcIi4uL2V4dHJhY3RvcnMvdHJhbnNsYXRpb25faGFzaFwiO1xuaW1wb3J0IEdlbmVyaWNDb21tYW5kIGZyb20gXCIuL2dlbmVyaWNfY29tbWFuZFwiO1xuaW1wb3J0IEpzUHJvY2Vzc29yIGZyb20gXCIuLi9wcm9jZXNzb3JzL2pzX3Byb2Nlc3NvclwiO1xuaW1wb3J0IFRzUHJvY2Vzc29yIGZyb20gXCIuLi9wcm9jZXNzb3JzL3RzX3Byb2Nlc3NvclwiO1xuXG52YXIgcmVkID0gY2xjLnJlZDtcbnZhciBncmVlbiA9IGNsYy5ncmVlbjtcblxuZnVuY3Rpb24gc3VtKGFycmF5LCBwcm9wKSB7XG4gIHZhciB0b3RhbCA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHRvdGFsICs9IGFycmF5W2ldW3Byb3BdO1xuICB9XG4gIHJldHVybiB0b3RhbDtcbn1cblxuZnVuY3Rpb24gQ2hlY2sob3B0aW9ucykge1xuICBHZW5lcmljQ29tbWFuZC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB0aGlzLmVycm9ycyA9IFtdO1xuICB0aGlzLnRyYW5zbGF0aW9ucyA9IG5ldyB0aGlzLlRyYW5zbGF0aW9uSGFzaCgpO1xuICB0aGlzLnNldFVwUHJvY2Vzc29ycygpO1xufVxuXG5DaGVjay5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdlbmVyaWNDb21tYW5kLnByb3RvdHlwZSk7XG5DaGVjay5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaGVjaztcblxuQ2hlY2sucHJvdG90eXBlLlRyYW5zbGF0aW9uSGFzaCA9IFRyYW5zbGF0aW9uSGFzaDtcblxuQ2hlY2sucHJvdG90eXBlLnNldFVwUHJvY2Vzc29ycyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByb2Nlc3NvcnMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIENoZWNrLnByb2Nlc3NvcnMpIHtcbiAgICB2YXIgUHJvY2Vzc29yID0gQ2hlY2sucHJvY2Vzc29yc1trZXldO1xuICAgIHRoaXMucHJvY2Vzc29ycy5wdXNoKFxuICAgICAgbmV3IFByb2Nlc3Nvcih0aGlzLnRyYW5zbGF0aW9ucywge1xuICAgICAgICB0cmFuc2xhdGlvbnM6IHRoaXMudHJhbnNsYXRpb25zLFxuICAgICAgICBjaGVja1dyYXBwZXI6IHRoaXMuY2hlY2tXcmFwcGVyLmJpbmQodGhpcyksXG4gICAgICAgIG9ubHk6IHRoaXMub3B0aW9ucy5vbmx5LFxuICAgICAgICBkaXJlY3Rvcnk6IHRoaXMub3B0aW9ucy5kaXJlY3RvcnlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufTtcblxuQ2hlY2sucHJvdG90eXBlLmNoZWNrRmlsZXMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb2Nlc3NvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLnByb2Nlc3NvcnNbaV0uY2hlY2tGaWxlcygpO1xuICB9XG59O1xuXG5DaGVjay5wcm90b3R5cGUuY2hlY2tXcmFwcGVyID0gZnVuY3Rpb24oZmlsZSwgY2hlY2tlcikge1xuICB0cnkge1xuICAgIGNoZWNrZXIoZmlsZSk7XG4gICAgdGhpcy5wcmludChncmVlbihcIi5cIikpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc3QgZnJpZW5kbHlGaWxlID0gZmlsZS5zdGFydHNXaXRoKHByb2Nlc3MuY3dkKCkpID9cbiAgICAgIGZpbGUuc2xpY2UocHJvY2Vzcy5jd2QoKS5sZW5ndGggKyAxKSA6XG4gICAgICBmaWxlXG4gICAgO1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgIHRoaXMuZXJyb3JzLnB1c2goYCR7ZnJpZW5kbHlGaWxlfToke2UubGluZX06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgdGhpcy5wcmludChyZWQoXCJGXCIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVycm9ycy5wdXNoKGAke2ZyaWVuZGx5RmlsZX06IEludGVybmFsRXJyb3I6ICR7ZS5tZXNzYWdlfVxcbiR7ZS5zdGFja31gKVxuICAgICAgdGhpcy5wcmludChyZWQoXCJGXCIpKTtcbiAgICB9XG4gIH1cbn07XG5cbkNoZWNrLnByb3RvdHlwZS5pc1N1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLmVycm9ycy5sZW5ndGg7XG59O1xuXG5DaGVjay5wcm90b3R5cGUucHJpbnRTdW1tYXJ5ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwcm9jZXNzb3JzID0gdGhpcy5wcm9jZXNzb3JzO1xuICB2YXIgc3VtbWFyeTtcbiAgdmFyIGVycm9ycyA9IHRoaXMuZXJyb3JzO1xuICB2YXIgZXJyb3JzTGVuID0gZXJyb3JzLmxlbmd0aDtcbiAgdmFyIGk7XG5cbiAgdmFyIHRyYW5zbGF0aW9uQ291bnQgPSBzdW0ocHJvY2Vzc29ycywgJ3RyYW5zbGF0aW9uQ291bnQnKTtcbiAgdmFyIGZpbGVDb3VudCA9IHN1bShwcm9jZXNzb3JzLCAnZmlsZUNvdW50Jyk7XG4gIHZhciBlbGFwc2VkID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRUaW1lO1xuXG4gIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgdGhpcy5wcmludChcIlxcblxcblwiKTtcblxuICAgIGZvciAoY29uc3QgZXJyb3Igb2YgZXJyb3JzKSB7XG4gICAgICB0aGlzLnByaW50KHJlZChlcnJvcikgKyBcIlxcblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnByaW50KFwiXFxuXCIpO1xuICB9XG5cbiAgdGhpcy5wcmludChcIkZpbmlzaGVkIGluIFwiICsgKGVsYXBzZWQgLyAxMDAwKSArIFwiIHNlY29uZHNcXG5cXG5cIik7XG4gIHN1bW1hcnkgPSBmaWxlQ291bnQgKyBcIiBmaWxlcywgXCIgKyB0cmFuc2xhdGlvbkNvdW50ICsgXCIgc3RyaW5ncywgXCIgKyBlcnJvcnNMZW4gKyBcIiBmYWlsdXJlc1wiO1xuICB0aGlzLnByaW50KCh0aGlzLmlzU3VjY2VzcygpID8gZ3JlZW4gOiByZWQpKHN1bW1hcnkpICsgXCJcXG5cIik7XG59O1xuXG5DaGVjay5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc3RhcnRUaW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgdGhpcy5jaGVja0ZpbGVzKCk7XG4gIHRoaXMucHJpbnRTdW1tYXJ5KCk7XG4gIHJldHVybiB0aGlzLmlzU3VjY2VzcygpO1xufTtcblxuQ2hlY2sucHJvY2Vzc29ycyA9IHsgSnNQcm9jZXNzb3IsIFRzUHJvY2Vzc29yIH07XG5cbmV4cG9ydCBkZWZhdWx0IENoZWNrO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxHQUFHLEdBQUdDLGlCQUFBLENBQUlELEdBQWQ7QUFDQSxJQUFJRSxLQUFLLEdBQUdELGlCQUFBLENBQUlDLEtBQWhCOztBQUVBLFNBQVNDLEdBQVQsQ0FBYUMsS0FBYixFQUFvQkMsSUFBcEIsRUFBMEI7RUFDeEIsSUFBSUMsS0FBSyxHQUFHLENBQVo7O0VBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxHQUFHLEdBQUdKLEtBQUssQ0FBQ0ssTUFBNUIsRUFBb0NGLENBQUMsR0FBR0MsR0FBeEMsRUFBNkNELENBQUMsRUFBOUMsRUFBa0Q7SUFDaERELEtBQUssSUFBSUYsS0FBSyxDQUFDRyxDQUFELENBQUwsQ0FBU0YsSUFBVCxDQUFUO0VBQ0Q7O0VBQ0QsT0FBT0MsS0FBUDtBQUNEOztBQUVELFNBQVNJLEtBQVQsQ0FBZUMsT0FBZixFQUF3QjtFQUN0QkMsd0JBQUEsQ0FBZUMsSUFBZixDQUFvQixJQUFwQixFQUEwQkYsT0FBMUI7O0VBQ0EsS0FBS0csTUFBTCxHQUFjLEVBQWQ7RUFDQSxLQUFLQyxZQUFMLEdBQW9CLElBQUksS0FBS0MsZUFBVCxFQUFwQjtFQUNBLEtBQUtDLGVBQUw7QUFDRDs7QUFFRFAsS0FBSyxDQUFDUSxTQUFOLEdBQWtCQyxNQUFNLENBQUNDLE1BQVAsQ0FBY1Isd0JBQUEsQ0FBZU0sU0FBN0IsQ0FBbEI7QUFDQVIsS0FBSyxDQUFDUSxTQUFOLENBQWdCRyxXQUFoQixHQUE4QlgsS0FBOUI7QUFFQUEsS0FBSyxDQUFDUSxTQUFOLENBQWdCRixlQUFoQixHQUFrQ0EseUJBQWxDOztBQUVBTixLQUFLLENBQUNRLFNBQU4sQ0FB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","map":{"version":3,"names":["red","clc","green","sum","array","prop","total","i","len","length","Check","options","GenericCommand","call","errors","translations","TranslationHash","setUpProcessors","prototype","Object","create","constructor","processors","key","Processor","push","checkWrapper","bind","only","directory","checkFiles","file","checker","print","e","friendlyFile","startsWith","process","cwd","slice","Error","line","message","stack","isSuccess","printSummary","summary","errorsLen","translationCount","fileCount","elapsed","Date","getTime","startTime","error","run","JsProcessor","TsProcessor"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/","sources":["check.js"],"sourcesContent":["import clc from \"cli-color\";\n\nimport TranslationHash from \"../extractors/translation_hash\";\nimport GenericCommand from \"./generic_command\";\nimport JsProcessor from \"../processors/js_processor\";\nimport TsProcessor from \"../processors/ts_processor\";\n\nvar red = clc.red;\nvar green = clc.green;\n\nfunction sum(array, prop) {\n  var total = 0;\n  for (var i = 0, len = array.length; i < len; i++) {\n    total += array[i][prop];\n  }\n  return total;\n}\n\nfunction Check(options) {\n  GenericCommand.call(this, options);\n  this.errors = [];\n  this.translations = new this.TranslationHash();\n  this.setUpProcessors();\n}\n\nCheck.prototype = Object.create(GenericCommand.prototype);\nCheck.prototype.constructor = Check;\n\nCheck.prototype.TranslationHash = TranslationHash;\n\nCheck.prototype.setUpProcessors = function() {\n  this.processors = [];\n  for (var key in Check.processors) {\n    var Processor = Check.processors[key];\n    this.processors.push(\n      new Processor(this.translations, {\n        translations: this.translations,\n        checkWrapper: this.checkWrapper.bind(this),\n        only: this.options.only,\n        directory: this.options.directory\n      })\n    );\n  }\n};\n\nCheck.prototype.checkFiles = function() {\n  for (var i = 0; i < this.processors.length; i++) {\n    this.processors[i].checkFiles();\n  }\n};\n\nCheck.prototype.checkWrapper = function(file, checker) {\n  try {\n    checker(file);\n    this.print(green(\".\"));\n  } catch (e) {\n    const friendlyFile = file.startsWith(process.cwd()) ?\n      file.slice(process.cwd().length + 1) :\n      file\n    ;\n    if (!(e instanceof Error)) {\n      this.errors.push(`${friendlyFile}:${e.line}: ${e.message}`);\n      this.print(red(\"F\"));\n    }\n    else {\n      this.errors.push(`${friendlyFile}: InternalError: ${e.message}\\n${e.stack}`)\n      this.print(red(\"F\"));\n    }\n  }\n};\n\nCheck.prototype.isSuccess = function() {\n  return !this.errors.length;\n};\n\nCheck.prototype.printSummary = function() {\n  var processors = this.processors;\n  var summary;\n  var errors = this.errors;\n  var errorsLen = errors.length;\n  var i;\n\n  var translationCount = sum(processors, 'translationCount');\n  var fileCount = sum(processors, 'fileCount');\n  var elapsed = (new Date()).getTime() - this.startTime;\n\n  if (errors.length) {\n    this.print(\"\\n\\n\");\n\n    for (const error of errors) {\n      this.print(red(error) + \"\\n\");\n    }\n\n    this.print(\"\\n\");\n  }\n\n  this.print(\"Finished in \" + (elapsed / 1000) + \" seconds\\n\\n\");\n  summary = fileCount + \" files, \" + translationCount + \" strings, \" + errorsLen + \" failures\";\n  this.print((this.isSuccess() ? green : red)(summary) + \"\\n\");\n};\n\nCheck.prototype.run = function() {\n  this.startTime = (new Date()).getTime();\n  this.checkFiles();\n  this.printSummary();\n  return this.isSuccess();\n};\n\nCheck.processors = { JsProcessor, TsProcessor };\n\nexport default Check;\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,IAAIA,GAAG,GAAGC,iBAAA,CAAID,GAAd;AACA,IAAIE,KAAK,GAAGD,iBAAA,CAAIC,KAAhB;;AAEA,SAASC,GAAT,CAAaC,KAAb,EAAoBC,IAApB,EAA0B;EACxB,IAAIC,KAAK,GAAG,CAAZ;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGJ,KAAK,CAACK,MAA5B,EAAoCF,CAAC,GAAGC,GAAxC,EAA6CD,CAAC,EAA9C,EAAkD;IAChDD,KAAK,IAAIF,KAAK,CAACG,CAAD,CAAL,CAASF,IAAT,CAAT;EACD;;EACD,OAAOC,KAAP;AACD;;AAED,SAASI,KAAT,CAAeC,OAAf,EAAwB;EACtBC,wBAAA,CAAeC,IAAf,CAAoB,IAApB,EAA0BF,OAA1B;;EACA,KAAKG,MAAL,GAAc,EAAd;EACA,KAAKC,YAAL,GAAoB,IAAI,KAAKC,eAAT,EAApB;EACA,KAAKC,eAAL;AACD;;AAEDP,KAAK,CAACQ,SAAN,GAAkBC,MAAM,CAACC,MAAP,CAAcR,wBAAA,CAAeM,SAA7B,CAAlB;AACAR,KAAK,CAACQ,SAAN,CAAgBG,WAAhB,GAA8BX,KAA9B;AAEAA,KAAK,CAACQ,SAAN,CAAgBF,eAAhB,GAAkCA,yBAAlC;;AAEAN,KAAK,CAACQ,SAAN,CAAgBD,eAAhB,GAAkC,YAAW;EAC3C,KAAKK,UAAL,GAAkB,EAAlB;;EACA,KAAK,IAAIC,GAAT,IAAgBb,KAAK,CAACY,UAAtB,EAAkC;IAChC,IAAIE,SAAS,GAAGd,KAAK,CAACY,UAAN,CAAiBC,GAAjB,CAAhB;IACA,KAAKD,UAAL,CAAgBG,IAAhB,CACE,IAAID,SAAJ,CAAc,KAAKT,YAAnB,EAAiC;MAC/BA,YAAY,EAAE,KAAKA,YADY;MAE/BW,YAAY,EAAE,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAFiB;MAG/BC,IAAI,EAAE,KAAKjB,OAAL,CAAaiB,IAHY;MAI/BC,SAAS,EAAE,KAAKlB,OAAL,CAAakB;IAJO,CAAjC,CADF;EAQD;AACF,CAbD;;AAeAnB,KAAK,CAACQ,SAAN,CAAgBY,UAAhB,GAA6B,YAAW;EACtC,KAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKe,UAAL,CAAgBb,MAApC,EAA4CF,CAAC,EAA7C,EAAiD;IAC/C,KAAKe,UAAL,CAAgBf,CAAhB,EAAmBuB,UAAnB;EACD;AACF,CAJD;;AAMApB,KAAK,CAACQ,SAAN,CAAgBQ,YAAhB,GAA+B,UAASK,IAAT,EAAeC,OAAf,EAAwB;EACrD,IAAI;IACFA,OAAO,CAACD,IAAD,CAAP;IACA,KAAKE,KAAL,CAAW/B,KAAK,CAAC,GAAD,CAAhB;EACD,CAHD,CAGE,OAAOgC,CAAP,EAAU;IACV,MAAMC,YAAY,GAAGJ,IAAI,CAACK,UAAL,CAAgBC,OAAO,CAACC,GAAR,EAAhB,IACnBP,IAAI,CAACQ,KAAL,CAAWF,OAAO,CAACC,GAAR,GAAc7B,MAAd,GAAuB,CAAlC,CADmB,GAEnBsB,IAFF;;IAIA,IAAI,EAAEG,CAAC,YAAYM,KAAf,CAAJ,EAA2B;MACzB,KAAK1B,MAAL,CAAYW,IAAZ,CAAkB,GAAEU,YAAa,IAAGD,CAAC,CAACO,IAAK,KAAIP,CAAC,CAACQ,OAAQ,EAAzD;MACA,KAAKT,KAAL,CAAWjC,GAAG,CAAC,GAAD,CAAd;IACD,CAHD,MAIK;MACH,KAAKc,MAAL,CAAYW,IAAZ,CAAkB,GAAEU,YAAa,oBAAmBD,CAAC,CAACQ,OAAQ,KAAIR,CAAC,CAACS,KAAM,EAA1E;MACA,KAAKV,KAAL,CAAWjC,GAAG,CAAC,GAAD,CAAd;IACD;EACF;AACF,CAlBD;;AAoBAU,KAAK,CAACQ,SAAN,CAAgB0B,SAAhB,GAA4B,YAAW;EACrC,OAAO,CAAC,KAAK9B,MAAL,CAAYL,MAApB;AACD,CAFD;;AAIAC,KAAK,CAACQ,SAAN,CAAgB2B,YAAhB,GAA+B,YAAW;EACxC,IAAIvB,UAAU,GAAG,KAAKA,UAAtB;EACA,IAAIwB,OAAJ;EACA,IAAIhC,MAAM,GAAG,KAAKA,MAAlB;EACA,IAAIiC,SAAS,GAAGjC,MAAM,CAACL,MAAvB;EACA,IAAIF,CAAJ;EAEA,IAAIyC,gBAAgB,GAAG7C,GAAG,CAACmB,UAAD,EAAa,kBAAb,CAA1B;EACA,IAAI2B,SAAS,GAAG9C,GAAG,CAACmB,UAAD,EAAa,WAAb,CAAnB;EACA,IAAI4B,OAAO,GAAI,IAAIC,IAAJ,EAAD,CAAaC,OAAb,KAAyB,KAAKC,SAA5C;;EAEA,IAAIvC,MAAM,CAACL,MAAX,EAAmB;IACjB,KAAKwB,KAAL,CAAW,MAAX;;IAEA,KAAK,MAAMqB,KAAX,IAAoBxC,MAApB,EAA4B;MAC1B,KAAKmB,KAAL,CAAWjC,GAAG,CAACsD,KAAD,CAAH,GAAa,IAAxB;IACD;;IAED,KAAKrB,KAAL,CAAW,IAAX;EACD;;EAED,KAAKA,KAAL,CAAW,iBAAkBiB,OAAO,GAAG,IAA5B,GAAoC,cAA/C;EACAJ,OAAO,GAAGG,SAAS,GAAG,UAAZ,GAAyBD,gBAAzB,GAA4C,YAA5C,GAA2DD,SAA3D,GAAuE,WAAjF;EACA,KAAKd,KAAL,CAAW,CAAC,KAAKW,SAAL,KAAmB1C,KAAnB,GAA2BF,GAA5B,EAAiC8C,OAAjC,IAA4C,IAAvD;AACD,CAxBD;;AA0BApC,KAAK,CAACQ,SAAN,CAAgBqC,GAAhB,GAAsB,YAAW;EAC/B,KAAKF,SAAL,GAAkB,IAAIF,IAAJ,EAAD,CAAaC,OAAb,EAAjB;EACA,KAAKtB,UAAL;EACA,KAAKe,YAAL;EACA,OAAO,KAAKD,SAAL,EAAP;AACD,CALD;;AAOAlC,KAAK,CAACY,UAAN,GAAmB;EAAEkC,WAAW,EAAXA,qBAAF;EAAeC,WAAW,EAAXA;AAAf,CAAnB;eAEe/C,K"}},"mtime":1653408737574},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/translation_hash.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _errors = _interopRequireDefault(require(\"../errors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction TranslationHash() {\n  this.translations = {};\n}\n\nTranslationHash.prototype.set = function (key, value, meta) {\n  var parts = key.split('.');\n  var context = this.getScope(parts.slice(0, -1), meta);\n  var finalKey = parts[parts.length - 1];\n\n  if (context[finalKey]) {\n    if (typeof context[finalKey] === 'object') {\n      throw new _errors.default.KeyAsScope(meta.line, key);\n    } else if (context[finalKey] !== value) {\n      throw new _errors.default.KeyInUse(meta.line, key);\n    }\n  }\n\n  context[finalKey] = value;\n};\n\nTranslationHash.prototype.getScope = function (parts, meta) {\n  var context = this.translations;\n  var partsLen = parts.length;\n  var key;\n  var i;\n\n  for (i = 0; i < partsLen; i++) {\n    key = parts[i];\n\n    if (typeof context[key] === 'string') {\n      throw new _errors.default.KeyAsScope(meta.line, parts.slice(0, i + 1).join(\".\"));\n    }\n\n    context = context[key] || (context[key] = {});\n  }\n\n  return context;\n};\n\nvar _default = TranslationHash;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUcmFuc2xhdGlvbkhhc2giLCJ0cmFuc2xhdGlvbnMiLCJwcm90b3R5cGUiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsIm1ldGEiLCJwYXJ0cyIsInNwbGl0IiwiY29udGV4dCIsImdldFNjb3BlIiwic2xpY2UiLCJmaW5hbEtleSIsImxlbmd0aCIsIkVycm9ycyIsIktleUFzU2NvcGUiLCJsaW5lIiwiS2V5SW5Vc2UiLCJwYXJ0c0xlbiIsImkiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci9saWIvZXh0cmFjdG9ycy8iLCJzb3VyY2VzIjpbInRyYW5zbGF0aW9uX2hhc2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVycm9ycyBmcm9tICcuLi9lcnJvcnMnO1xuXG5mdW5jdGlvbiBUcmFuc2xhdGlvbkhhc2goKSB7XG4gIHRoaXMudHJhbnNsYXRpb25zID0ge307XG59XG5cblRyYW5zbGF0aW9uSGFzaC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgbWV0YSkge1xuICB2YXIgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLmdldFNjb3BlKHBhcnRzLnNsaWNlKDAsIC0xKSwgbWV0YSk7XG4gIHZhciBmaW5hbEtleSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuXG4gIGlmIChjb250ZXh0W2ZpbmFsS2V5XSkge1xuICAgIGlmICh0eXBlb2YgY29udGV4dFtmaW5hbEtleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLktleUFzU2NvcGUobWV0YS5saW5lLCBrZXkpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dFtmaW5hbEtleV0gIT09IHZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLktleUluVXNlKG1ldGEubGluZSwga2V5KTtcbiAgICB9XG4gIH1cbiAgY29udGV4dFtmaW5hbEtleV0gPSB2YWx1ZTtcbn07XG5cblRyYW5zbGF0aW9uSGFzaC5wcm90b3R5cGUuZ2V0U2NvcGUgPSBmdW5jdGlvbihwYXJ0cywgbWV0YSkge1xuICB2YXIgY29udGV4dCA9IHRoaXMudHJhbnNsYXRpb25zO1xuICB2YXIgcGFydHNMZW4gPSBwYXJ0cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBwYXJ0c0xlbjsgaSsrKSB7XG4gICAga2V5ID0gcGFydHNbaV07XG4gICAgaWYgKHR5cGVvZiBjb250ZXh0W2tleV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLktleUFzU2NvcGUobWV0YS5saW5lLCBwYXJ0cy5zbGljZSgwLCBpICsgMSkuam9pbihcIi5cIikpO1xuICAgIH1cbiAgICBjb250ZXh0ID0gY29udGV4dFtrZXldIHx8IChjb250ZXh0W2tleV0gPSB7fSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc2xhdGlvbkhhc2g7XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsU0FBU0EsZUFBVCxHQUEyQjtFQUN6QixLQUFLQyxZQUFMLEdBQW9CLEVBQXBCO0FBQ0Q7O0FBRURELGVBQWUsQ0FBQ0UsU0FBaEIsQ0FBMEJDLEdBQTFCLEdBQWdDLFVBQVNDLEdBQVQsRUFBY0MsS0FBZCxFQUFxQkMsSUFBckIsRUFBMkI7RUFDekQsSUFBSUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLEtBQUosQ0FBVSxHQUFWLENBQVo7RUFDQSxJQUFJQyxPQUFPLEdBQUcsS0FBS0MsUUFBTCxDQUFjSCxLQUFLLENBQUNJLEtBQU4sQ0FBWSxDQUFaLEVBQWUsQ0FBQyxDQUFoQixDQUFkLEVBQWtDTCxJQUFsQyxDQUFkO0VBQ0EsSUFBSU0sUUFBUSxHQUFHTCxLQUFLLENBQUNBLEtBQUssQ0FBQ00sTUFBTixHQUFlLENBQWhCLENBQXBCOztFQUVBLElBQUlKLE9BQU8sQ0FBQ0csUUFBRCxDQUFYLEVBQXVCO0lBQ3JCLElBQUksT0FBT0gsT0FBTyxDQUFDRyxRQUFELENBQWQsS0FBNkIsUUFBakMsRUFBMkM7TUFDekMsTUFBTSxJQUFJRSxlQUFBLENBQU9DLFVBQVgsQ0FBc0JULElBQUksQ0FBQ1UsSUFBM0IsRUFBaUNaLEdBQWpDLENBQU47SUFDRCxDQUZELE1BRU8sSUFBSUssT0FBTyxDQUFDRyxRQUFELENBQVAsS0FBc0JQLEtBQTFCLEVBQWlDO01BQ3RDLE1BQU0sSUFBSVMsZUFBQSxDQUFPRyxRQUFYLENBQW9CWCxJQUFJLENBQUNVLElBQXpCLEVBQStCWixHQUEvQixDQUFOO0lBQ0Q7RUFDRjs7RUFDREssT0FBTyxDQUFDRyxRQUFELENBQVAsR0FBb0JQLEtBQXBCO0FBQ0QsQ0FiRDs7QUFlQUwsZUFBZSxDQUFDRSxTQUFoQixDQUEwQlEsUUFBMUIsR0FBcUMsVUFBU0gsS0FBVCxFQUFnQkQsSUFBaEIsRUFBc0I7RUFDekQsSUFBSUcsT0FBTyxHQUFHLEtBQUtSLFlBQW5CO0VBQ0EsSUFBSWlCLFFBQVEsR0FBR1gsS0FBSyxDQUFDTSxNQUFyQjtFQUNBLElBQUlULEdBQUo7RUFDQSxJQUFJZSxDQUFKOztFQUVBLEtBQUtBLENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR0QsUUFBaEIsRUFBMEJDLENBQUMsRUFBM0IsRUFBK0I7SUFDN0JmLEdBQUcsR0FBR0csS0FBSyxDQUFDWSxDQUFELENBQVg7O0lBQ0EsSUFBSSxPQUFPVixPQUFPLENBQUNMLEdBQUQsQ0FBZCxLQUF3QixRQUE1QixFQUFzQztNQUNwQyxNQUFNLElBQUlVLGVBQUEsQ0FBT0MsVUFBWCxDQUFzQlQsSUFBSSxDQUFDVSxJQUEzQixFQUFpQ1QsS0FBSyxDQUFDSSxLQUFOLENBQVksQ0FBWixFQUFlUSxDQUFDLEdBQUcsQ0FBbkIsRUFBc0JDLElBQXRCLENBQTJCLEdBQTNCLENBQWpDLENBQU47SUFDRDs7SUFDRFgsT0FBTyxHQUFHQSxPQUFPLENBQUNMLEdBQUQsQ0FBUCxLQUFpQkssT0FBTyxDQUFDTCxHQUFELENBQVAsR0FBZSxFQUFoQyxDQUFWO0VBQ0Q7O0VBQ0QsT0FBT0ssT0FBUDtBQUNELENBZEQ7O2VBZ0JlVCxlIn0=","map":{"version":3,"names":["TranslationHash","translations","prototype","set","key","value","meta","parts","split","context","getScope","slice","finalKey","length","Errors","KeyAsScope","line","KeyInUse","partsLen","i","join"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/","sources":["translation_hash.js"],"sourcesContent":["import Errors from '../errors';\n\nfunction TranslationHash() {\n  this.translations = {};\n}\n\nTranslationHash.prototype.set = function(key, value, meta) {\n  var parts = key.split('.');\n  var context = this.getScope(parts.slice(0, -1), meta);\n  var finalKey = parts[parts.length - 1];\n\n  if (context[finalKey]) {\n    if (typeof context[finalKey] === 'object') {\n      throw new Errors.KeyAsScope(meta.line, key);\n    } else if (context[finalKey] !== value) {\n      throw new Errors.KeyInUse(meta.line, key);\n    }\n  }\n  context[finalKey] = value;\n};\n\nTranslationHash.prototype.getScope = function(parts, meta) {\n  var context = this.translations;\n  var partsLen = parts.length;\n  var key;\n  var i;\n\n  for (i = 0; i < partsLen; i++) {\n    key = parts[i];\n    if (typeof context[key] === 'string') {\n      throw new Errors.KeyAsScope(meta.line, parts.slice(0, i + 1).join(\".\"));\n    }\n    context = context[key] || (context[key] = {});\n  }\n  return context;\n};\n\nexport default TranslationHash;\n\n"],"mappings":";;;;;;;AAAA;;;;AAEA,SAASA,eAAT,GAA2B;EACzB,KAAKC,YAAL,GAAoB,EAApB;AACD;;AAEDD,eAAe,CAACE,SAAhB,CAA0BC,GAA1B,GAAgC,UAASC,GAAT,EAAcC,KAAd,EAAqBC,IAArB,EAA2B;EACzD,IAAIC,KAAK,GAAGH,GAAG,CAACI,KAAJ,CAAU,GAAV,CAAZ;EACA,IAAIC,OAAO,GAAG,KAAKC,QAAL,CAAcH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAd,EAAkCL,IAAlC,CAAd;EACA,IAAIM,QAAQ,GAAGL,KAAK,CAACA,KAAK,CAACM,MAAN,GAAe,CAAhB,CAApB;;EAEA,IAAIJ,OAAO,CAACG,QAAD,CAAX,EAAuB;IACrB,IAAI,OAAOH,OAAO,CAACG,QAAD,CAAd,KAA6B,QAAjC,EAA2C;MACzC,MAAM,IAAIE,eAAA,CAAOC,UAAX,CAAsBT,IAAI,CAACU,IAA3B,EAAiCZ,GAAjC,CAAN;IACD,CAFD,MAEO,IAAIK,OAAO,CAACG,QAAD,CAAP,KAAsBP,KAA1B,EAAiC;MACtC,MAAM,IAAIS,eAAA,CAAOG,QAAX,CAAoBX,IAAI,CAACU,IAAzB,EAA+BZ,GAA/B,CAAN;IACD;EACF;;EACDK,OAAO,CAACG,QAAD,CAAP,GAAoBP,KAApB;AACD,CAbD;;AAeAL,eAAe,CAACE,SAAhB,CAA0BQ,QAA1B,GAAqC,UAASH,KAAT,EAAgBD,IAAhB,EAAsB;EACzD,IAAIG,OAAO,GAAG,KAAKR,YAAnB;EACA,IAAIiB,QAAQ,GAAGX,KAAK,CAACM,MAArB;EACA,IAAIT,GAAJ;EACA,IAAIe,CAAJ;;EAEA,KAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,QAAhB,EAA0BC,CAAC,EAA3B,EAA+B;IAC7Bf,GAAG,GAAGG,KAAK,CAACY,CAAD,CAAX;;IACA,IAAI,OAAOV,OAAO,CAACL,GAAD,CAAd,KAAwB,QAA5B,EAAsC;MACpC,MAAM,IAAIU,eAAA,CAAOC,UAAX,CAAsBT,IAAI,CAACU,IAA3B,EAAiCT,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeQ,CAAC,GAAG,CAAnB,EAAsBC,IAAtB,CAA2B,GAA3B,CAAjC,CAAN;IACD;;IACDX,OAAO,GAAGA,OAAO,CAACL,GAAD,CAAP,KAAiBK,OAAO,CAACL,GAAD,CAAP,GAAe,EAAhC,CAAV;EACD;;EACD,OAAOK,OAAP;AACD,CAdD;;eAgBeT,e"}},"mtime":1643211188001},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/errors.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _call_helpers = _interopRequireDefault(require(\"./call_helpers\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction wordify(string) {\n  return string.replace(/[A-Z]/g, function (s) {\n    return \" \" + s.toLowerCase();\n  }).trim();\n}\n\nvar Errors = {\n  register: function (name) {\n    this[name] = function (line, details) {\n      this.line = line;\n\n      if (details) {\n        var parts = [];\n        var part;\n        if (typeof details === \"string\" || !details.length) details = [details];\n\n        for (var i = 0; i < details.length; i++) {\n          part = details[i];\n          part = part === _call_helpers.default.UNSUPPORTED_EXPRESSION ? \"<unsupported expression>\" : JSON.stringify(part);\n          parts.push(part);\n        }\n\n        details = parts.join(', ');\n      }\n\n      this.name = name;\n      this.message = wordify(name) + (details ? \": \" + details : \"\");\n      this.line = line;\n    };\n  }\n};\nErrors.register('InvalidSignature');\nErrors.register('InvalidPluralizationKey');\nErrors.register('MissingPluralizationKey');\nErrors.register('InvalidPluralizationDefault');\nErrors.register('MissingInterpolationValue');\nErrors.register('MissingCountValue');\nErrors.register('InvalidOptionKey');\nErrors.register('KeyAsScope');\nErrors.register('KeyInUse');\nvar _default = Errors;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3b3JkaWZ5Iiwic3RyaW5nIiwicmVwbGFjZSIsInMiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJFcnJvcnMiLCJyZWdpc3RlciIsIm5hbWUiLCJsaW5lIiwiZGV0YWlscyIsInBhcnRzIiwicGFydCIsImxlbmd0aCIsImkiLCJDYWxsSGVscGVycyIsIlVOU1VQUE9SVEVEX0VYUFJFU1NJT04iLCJKU09OIiwic3RyaW5naWZ5IiwicHVzaCIsImpvaW4iLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci9saWIvIiwic291cmNlcyI6WyJlcnJvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhbGxIZWxwZXJzIGZyb20gXCIuL2NhbGxfaGVscGVyc1wiO1xuXG5mdW5jdGlvbiB3b3JkaWZ5KHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uKHMpIHtcbiAgICByZXR1cm4gXCIgXCIgKyBzLnRvTG93ZXJDYXNlKCk7XG4gIH0pLnRyaW0oKTtcbn1cblxudmFyIEVycm9ycyA9IHtcbiAgcmVnaXN0ZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB0aGlzW25hbWVdID0gZnVuY3Rpb24obGluZSwgZGV0YWlscykge1xuICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgICAgICB2YXIgcGFydDtcbiAgICAgICAgaWYgKHR5cGVvZiBkZXRhaWxzID09PSBcInN0cmluZ1wiIHx8ICFkZXRhaWxzLmxlbmd0aCkgZGV0YWlscyA9IFtkZXRhaWxzXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXRhaWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcGFydCA9IGRldGFpbHNbaV07XG4gICAgICAgICAgcGFydCA9IHBhcnQgPT09IENhbGxIZWxwZXJzLlVOU1VQUE9SVEVEX0VYUFJFU1NJT04gP1xuICAgICAgICAgICAgXCI8dW5zdXBwb3J0ZWQgZXhwcmVzc2lvbj5cIiA6XG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwYXJ0KTtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFpbHMgPSBwYXJ0cy5qb2luKCcsICcpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgIHRoaXMubWVzc2FnZSA9IHdvcmRpZnkobmFtZSkgKyAoZGV0YWlscyA/IFwiOiBcIiArIGRldGFpbHMgOiBcIlwiKTtcbiAgICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgfTtcbiAgfVxufTtcblxuRXJyb3JzLnJlZ2lzdGVyKCdJbnZhbGlkU2lnbmF0dXJlJyk7XG5FcnJvcnMucmVnaXN0ZXIoJ0ludmFsaWRQbHVyYWxpemF0aW9uS2V5Jyk7XG5FcnJvcnMucmVnaXN0ZXIoJ01pc3NpbmdQbHVyYWxpemF0aW9uS2V5Jyk7XG5FcnJvcnMucmVnaXN0ZXIoJ0ludmFsaWRQbHVyYWxpemF0aW9uRGVmYXVsdCcpO1xuRXJyb3JzLnJlZ2lzdGVyKCdNaXNzaW5nSW50ZXJwb2xhdGlvblZhbHVlJyk7XG5FcnJvcnMucmVnaXN0ZXIoJ01pc3NpbmdDb3VudFZhbHVlJyk7XG5FcnJvcnMucmVnaXN0ZXIoJ0ludmFsaWRPcHRpb25LZXknKTtcbkVycm9ycy5yZWdpc3RlcignS2V5QXNTY29wZScpO1xuRXJyb3JzLnJlZ2lzdGVyKCdLZXlJblVzZScpO1xuXG5leHBvcnQgZGVmYXVsdCBFcnJvcnM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLFNBQVNBLE9BQVQsQ0FBaUJDLE1BQWpCLEVBQXlCO0VBQ3ZCLE9BQU9BLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlLFFBQWYsRUFBeUIsVUFBU0MsQ0FBVCxFQUFZO0lBQzFDLE9BQU8sTUFBTUEsQ0FBQyxDQUFDQyxXQUFGLEVBQWI7RUFDRCxDQUZNLEVBRUpDLElBRkksRUFBUDtBQUdEOztBQUVELElBQUlDLE1BQU0sR0FBRztFQUNYQyxRQUFRLEVBQUUsVUFBU0MsSUFBVCxFQUFlO0lBQ3ZCLEtBQUtBLElBQUwsSUFBYSxVQUFTQyxJQUFULEVBQWVDLE9BQWYsRUFBd0I7TUFDbkMsS0FBS0QsSUFBTCxHQUFZQSxJQUFaOztNQUNBLElBQUlDLE9BQUosRUFBYTtRQUNYLElBQUlDLEtBQUssR0FBRyxFQUFaO1FBQ0EsSUFBSUMsSUFBSjtRQUNBLElBQUksT0FBT0YsT0FBUCxLQUFtQixRQUFuQixJQUErQixDQUFDQSxPQUFPLENBQUNHLE1BQTVDLEVBQW9ESCxPQUFPLEdBQUcsQ0FBQ0EsT0FBRCxDQUFWOztRQUNwRCxLQUFLLElBQUlJLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdKLE9BQU8sQ0FBQ0csTUFBNUIsRUFBb0NDLENBQUMsRUFBckMsRUFBeUM7VUFDdkNGLElBQUksR0FBR0YsT0FBTyxDQUFDSSxDQUFELENBQWQ7VUFDQUYsSUFBSSxHQUFHQSxJQUFJLEtBQUtHLHFCQUFBLENBQVlDLHNCQUFyQixHQUNMLDBCQURLLEdBRUxDLElBQUksQ0FBQ0MsU0FBTCxDQUFlTixJQUFmLENBRkY7VUFHQUQsS0FBSyxDQUFDUSxJQUFOLENBQVdQLElBQVg7UUFDRDs7UUFDREYsT0FBTyxHQUFHQyxLQUFLLENBQUNTLElBQU4sQ0FBVyxJQUFYLENBQVY7TUFDRDs7TUFDRCxLQUFLWixJQUFMLEdBQVlBLElBQVo7TUFDQSxLQUFLYSxPQUFMLEdBQWVyQixPQUFPLENBQUNRLElBQUQsQ0FBUCxJQUFpQkUsT0FBTyxHQUFHLE9BQU9BLE9BQVYsR0FBb0IsRUFBNUMsQ0FBZjtNQUNBLEtBQUtELElBQUwsR0FBWUEsSUFBWjtJQUNELENBbEJEO0VBbUJEO0FBckJVLENBQWI7QUF3QkFILE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQixrQkFBaEI7QUFDQUQsTUFBTSxDQUFDQyxRQUFQLENBQWdCLHlCQUFoQjtBQUNBRCxNQUFNLENBQUNDLFFBQVAsQ0FBZ0IseUJBQWhCO0FBQ0FELE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQiw2QkFBaEI7QUFDQUQsTUFBTSxDQUFDQyxRQUFQLENBQWdCLDJCQUFoQjtBQUNBRCxNQUFNLENBQUNDLFFBQVAsQ0FBZ0IsbUJBQWhCO0FBQ0FELE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQixrQkFBaEI7QUFDQUQsTUFBTSxDQUFDQyxRQUFQLENBQWdCLFlBQWhCO0FBQ0FELE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQixVQUFoQjtlQUVlRCxNIn0=","map":{"version":3,"names":["wordify","string","replace","s","toLowerCase","trim","Errors","register","name","line","details","parts","part","length","i","CallHelpers","UNSUPPORTED_EXPRESSION","JSON","stringify","push","join","message"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/","sources":["errors.js"],"sourcesContent":["import CallHelpers from \"./call_helpers\";\n\nfunction wordify(string) {\n  return string.replace(/[A-Z]/g, function(s) {\n    return \" \" + s.toLowerCase();\n  }).trim();\n}\n\nvar Errors = {\n  register: function(name) {\n    this[name] = function(line, details) {\n      this.line = line;\n      if (details) {\n        var parts = [];\n        var part;\n        if (typeof details === \"string\" || !details.length) details = [details];\n        for (var i = 0; i < details.length; i++) {\n          part = details[i];\n          part = part === CallHelpers.UNSUPPORTED_EXPRESSION ?\n            \"<unsupported expression>\" :\n            JSON.stringify(part);\n          parts.push(part);\n        }\n        details = parts.join(', ');\n      }\n      this.name = name;\n      this.message = wordify(name) + (details ? \": \" + details : \"\");\n      this.line = line;\n    };\n  }\n};\n\nErrors.register('InvalidSignature');\nErrors.register('InvalidPluralizationKey');\nErrors.register('MissingPluralizationKey');\nErrors.register('InvalidPluralizationDefault');\nErrors.register('MissingInterpolationValue');\nErrors.register('MissingCountValue');\nErrors.register('InvalidOptionKey');\nErrors.register('KeyAsScope');\nErrors.register('KeyInUse');\n\nexport default Errors;\n"],"mappings":";;;;;;;AAAA;;;;AAEA,SAASA,OAAT,CAAiBC,MAAjB,EAAyB;EACvB,OAAOA,MAAM,CAACC,OAAP,CAAe,QAAf,EAAyB,UAASC,CAAT,EAAY;IAC1C,OAAO,MAAMA,CAAC,CAACC,WAAF,EAAb;EACD,CAFM,EAEJC,IAFI,EAAP;AAGD;;AAED,IAAIC,MAAM,GAAG;EACXC,QAAQ,EAAE,UAASC,IAAT,EAAe;IACvB,KAAKA,IAAL,IAAa,UAASC,IAAT,EAAeC,OAAf,EAAwB;MACnC,KAAKD,IAAL,GAAYA,IAAZ;;MACA,IAAIC,OAAJ,EAAa;QACX,IAAIC,KAAK,GAAG,EAAZ;QACA,IAAIC,IAAJ;QACA,IAAI,OAAOF,OAAP,KAAmB,QAAnB,IAA+B,CAACA,OAAO,CAACG,MAA5C,EAAoDH,OAAO,GAAG,CAACA,OAAD,CAAV;;QACpD,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,OAAO,CAACG,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;UACvCF,IAAI,GAAGF,OAAO,CAACI,CAAD,CAAd;UACAF,IAAI,GAAGA,IAAI,KAAKG,qBAAA,CAAYC,sBAArB,GACL,0BADK,GAELC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFF;UAGAD,KAAK,CAACQ,IAAN,CAAWP,IAAX;QACD;;QACDF,OAAO,GAAGC,KAAK,CAACS,IAAN,CAAW,IAAX,CAAV;MACD;;MACD,KAAKZ,IAAL,GAAYA,IAAZ;MACA,KAAKa,OAAL,GAAerB,OAAO,CAACQ,IAAD,CAAP,IAAiBE,OAAO,GAAG,OAAOA,OAAV,GAAoB,EAA5C,CAAf;MACA,KAAKD,IAAL,GAAYA,IAAZ;IACD,CAlBD;EAmBD;AArBU,CAAb;AAwBAH,MAAM,CAACC,QAAP,CAAgB,kBAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,yBAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,yBAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,6BAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,2BAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,mBAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,kBAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,YAAhB;AACAD,MAAM,CAACC,QAAP,CAAgB,UAAhB;eAEeD,M"}},"mtime":1653408737574},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/generic_command.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/* global process */\nfunction GenericCommand(options) {\n  this.options = options;\n\n  if (this.options.silent) {\n    this.print = function () {};\n  }\n}\n\nGenericCommand.prototype.print = function (string) {\n  process.stdout.write(string);\n};\n\nvar _default = GenericCommand;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHZW5lcmljQ29tbWFuZCIsIm9wdGlvbnMiLCJzaWxlbnQiLCJwcmludCIsInByb3RvdHlwZSIsInN0cmluZyIsInByb2Nlc3MiLCJzdGRvdXQiLCJ3cml0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvbGliL2NvbW1hbmRzLyIsInNvdXJjZXMiOlsiZ2VuZXJpY19jb21tYW5kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBwcm9jZXNzICovXG5cbmZ1bmN0aW9uIEdlbmVyaWNDb21tYW5kKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICB0aGlzLnByaW50ID0gZnVuY3Rpb24oKXt9O1xuICB9XG59XG5cbkdlbmVyaWNDb21tYW5kLnByb3RvdHlwZS5wcmludCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICBwcm9jZXNzLnN0ZG91dC53cml0ZShzdHJpbmcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2VuZXJpY0NvbW1hbmQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUVBLFNBQVNBLGNBQVQsQ0FBd0JDLE9BQXhCLEVBQWlDO0VBQy9CLEtBQUtBLE9BQUwsR0FBZUEsT0FBZjs7RUFDQSxJQUFJLEtBQUtBLE9BQUwsQ0FBYUMsTUFBakIsRUFBeUI7SUFDdkIsS0FBS0MsS0FBTCxHQUFhLFlBQVUsQ0FBRSxDQUF6QjtFQUNEO0FBQ0Y7O0FBRURILGNBQWMsQ0FBQ0ksU0FBZixDQUF5QkQsS0FBekIsR0FBaUMsVUFBU0UsTUFBVCxFQUFpQjtFQUNoREMsT0FBTyxDQUFDQyxNQUFSLENBQWVDLEtBQWYsQ0FBcUJILE1BQXJCO0FBQ0QsQ0FGRDs7ZUFJZUwsYyJ9","map":{"version":3,"names":["GenericCommand","options","silent","print","prototype","string","process","stdout","write"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/","sources":["generic_command.js"],"sourcesContent":["/* global process */\n\nfunction GenericCommand(options) {\n  this.options = options;\n  if (this.options.silent) {\n    this.print = function(){};\n  }\n}\n\nGenericCommand.prototype.print = function(string) {\n  process.stdout.write(string);\n};\n\nexport default GenericCommand;\n"],"mappings":";;;;;;;AAAA;AAEA,SAASA,cAAT,CAAwBC,OAAxB,EAAiC;EAC/B,KAAKA,OAAL,GAAeA,OAAf;;EACA,IAAI,KAAKA,OAAL,CAAaC,MAAjB,EAAyB;IACvB,KAAKC,KAAL,GAAa,YAAU,CAAE,CAAzB;EACD;AACF;;AAEDH,cAAc,CAACI,SAAf,CAAyBD,KAAzB,GAAiC,UAASE,MAAT,EAAiB;EAChDC,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBH,MAArB;AACD,CAFD;;eAIeL,c"}},"mtime":1643211188001},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/js_processor.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _parser = require(\"@babel/parser\");\n\nvar _abstract_processor = _interopRequireDefault(require(\"./abstract_processor\"));\n\nvar _i18n_js_extractor = _interopRequireDefault(require(\"../extractors/i18n_js_extractor\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../i18nliner\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction JsProcessor(translations, options) {\n  _abstract_processor.default.call(this, translations, options);\n}\n\nJsProcessor.prototype = Object.create(_abstract_processor.default.prototype);\nJsProcessor.prototype.constructor = JsProcessor;\nJsProcessor.prototype.defaultPattern = \"**/*.js\";\nJsProcessor.prototype.I18nJsExtractor = _i18n_js_extractor.default;\n\nJsProcessor.prototype.checkContents = function (source) {\n  var fileData = this.preProcess(source);\n  if (fileData.skip) return;\n  fileData.ast = fileData.ast || this.parse(fileData.source);\n  var extractor = new this.I18nJsExtractor(fileData);\n  extractor.forEach(function (key, value, meta) {\n    this.translations.set(key, value, meta);\n    this.translationCount++;\n  }.bind(this));\n};\n\nJsProcessor.prototype.sourceFor = function (file) {\n  return _fs.default.readFileSync(file).toString();\n};\n\nJsProcessor.prototype.parse = function (source) {\n  return (0, _parser.parse)(source, {\n    plugins: _i18nliner.default.config.babylonPlugins,\n    sourceType: \"module\"\n  });\n};\n\nJsProcessor.prototype.preProcess = function (source) {\n  return {\n    source: source,\n    skip: !source.match(/I18n\\.t/)\n  };\n};\n\nvar _default = JsProcessor;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKc1Byb2Nlc3NvciIsInRyYW5zbGF0aW9ucyIsIm9wdGlvbnMiLCJBYnN0cmFjdFByb2Nlc3NvciIsImNhbGwiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImRlZmF1bHRQYXR0ZXJuIiwiSTE4bkpzRXh0cmFjdG9yIiwiY2hlY2tDb250ZW50cyIsInNvdXJjZSIsImZpbGVEYXRhIiwicHJlUHJvY2VzcyIsInNraXAiLCJhc3QiLCJwYXJzZSIsImV4dHJhY3RvciIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsIm1ldGEiLCJzZXQiLCJ0cmFuc2xhdGlvbkNvdW50IiwiYmluZCIsInNvdXJjZUZvciIsImZpbGUiLCJmcyIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwicGx1Z2lucyIsIkkxOG5saW5lciIsImNvbmZpZyIsImJhYnlsb25QbHVnaW5zIiwic291cmNlVHlwZSIsIm1hdGNoIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci9saWIvcHJvY2Vzc29ycy8iLCJzb3VyY2VzIjpbImpzX3Byb2Nlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJAYmFiZWwvcGFyc2VyXCI7XG5pbXBvcnQgQWJzdHJhY3RQcm9jZXNzb3IgZnJvbSBcIi4vYWJzdHJhY3RfcHJvY2Vzc29yXCI7XG5pbXBvcnQgSTE4bkpzRXh0cmFjdG9yIGZyb20gXCIuLi9leHRyYWN0b3JzL2kxOG5fanNfZXh0cmFjdG9yXCI7XG5pbXBvcnQgSTE4bmxpbmVyIGZyb20gJy4uL2kxOG5saW5lcic7XG5cbmZ1bmN0aW9uIEpzUHJvY2Vzc29yKHRyYW5zbGF0aW9ucywgb3B0aW9ucykge1xuICBBYnN0cmFjdFByb2Nlc3Nvci5jYWxsKHRoaXMsIHRyYW5zbGF0aW9ucywgb3B0aW9ucyk7XG59XG5cbkpzUHJvY2Vzc29yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RQcm9jZXNzb3IucHJvdG90eXBlKTtcbkpzUHJvY2Vzc29yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzUHJvY2Vzc29yO1xuSnNQcm9jZXNzb3IucHJvdG90eXBlLmRlZmF1bHRQYXR0ZXJuID0gXCIqKi8qLmpzXCI7XG5Kc1Byb2Nlc3Nvci5wcm90b3R5cGUuSTE4bkpzRXh0cmFjdG9yID0gSTE4bkpzRXh0cmFjdG9yO1xuXG5Kc1Byb2Nlc3Nvci5wcm90b3R5cGUuY2hlY2tDb250ZW50cyA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICB2YXIgZmlsZURhdGEgPSB0aGlzLnByZVByb2Nlc3Moc291cmNlKTtcbiAgaWYgKGZpbGVEYXRhLnNraXApIHJldHVybjtcbiAgZmlsZURhdGEuYXN0ID0gZmlsZURhdGEuYXN0IHx8IHRoaXMucGFyc2UoZmlsZURhdGEuc291cmNlKTtcbiAgdmFyIGV4dHJhY3RvciA9IG5ldyB0aGlzLkkxOG5Kc0V4dHJhY3RvcihmaWxlRGF0YSk7XG4gIGV4dHJhY3Rvci5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUsIG1ldGEpIHtcbiAgICB0aGlzLnRyYW5zbGF0aW9ucy5zZXQoa2V5LCB2YWx1ZSwgbWV0YSk7XG4gICAgdGhpcy50cmFuc2xhdGlvbkNvdW50Kys7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG5Kc1Byb2Nlc3Nvci5wcm90b3R5cGUuc291cmNlRm9yID0gZnVuY3Rpb24oZmlsZSkge1xuICByZXR1cm4gZnMucmVhZEZpbGVTeW5jKGZpbGUpLnRvU3RyaW5nKCk7XG59O1xuXG5Kc1Byb2Nlc3Nvci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihzb3VyY2UpIHtcbiAgcmV0dXJuIHBhcnNlKHNvdXJjZSwgeyBwbHVnaW5zOiBJMThubGluZXIuY29uZmlnLmJhYnlsb25QbHVnaW5zLCBzb3VyY2VUeXBlOiBcIm1vZHVsZVwiIH0pO1xufTtcblxuSnNQcm9jZXNzb3IucHJvdG90eXBlLnByZVByb2Nlc3MgPSBmdW5jdGlvbihzb3VyY2UpIHtcbiAgcmV0dXJuIHtcbiAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICBza2lwOiAhc291cmNlLm1hdGNoKC9JMThuXFwudC8pXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBKc1Byb2Nlc3NvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsU0FBU0EsV0FBVCxDQUFxQkMsWUFBckIsRUFBbUNDLE9BQW5DLEVBQTRDO0VBQzFDQywyQkFBQSxDQUFrQkMsSUFBbEIsQ0FBdUIsSUFBdkIsRUFBNkJILFlBQTdCLEVBQTJDQyxPQUEzQztBQUNEOztBQUVERixXQUFXLENBQUNLLFNBQVosR0FBd0JDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjSiwyQkFBQSxDQUFrQkUsU0FBaEMsQ0FBeEI7QUFDQUwsV0FBVyxDQUFDSyxTQUFaLENBQXNCRyxXQUF0QixHQUFvQ1IsV0FBcEM7QUFDQUEsV0FBVyxDQUFDSyxTQUFaLENBQXNCSSxjQUF0QixHQUF1QyxTQUF2QztBQUNBVCxXQUFXLENBQUNLLFNBQVosQ0FBc0JLLGVBQXRCLEdBQXdDQSwwQkFBeEM7O0FBRUFWLFdBQVcsQ0FBQ0ssU0FBWixDQUFzQk0sYUFBdEIsR0FBc0MsVUFBU0MsTUFBVCxFQUFpQjtFQUNyRCxJQUFJQyxRQUFRLEdBQUcsS0FBS0MsVUFBTCxDQUFnQkYsTUFBaEIsQ0FBZjtFQUNBLElBQUlDLFFBQVEsQ0FBQ0UsSUFBYixFQUFtQjtFQUNuQkYsUUFBUSxDQUFDRyxHQUFULEdBQWVILFFBQVEsQ0FBQ0csR0FBVCxJQUFnQixLQUFLQyxLQUFMLENBQVdKLFFBQVEsQ0FBQ0QsTUFBcEIsQ0FBL0I7RUFDQSxJQUFJTSxTQUFTLEdBQUcsSUFBSSxLQUFLUixlQUFULENBQXlCRyxRQUF6QixDQUFoQjtFQUNBSyxTQUFTLENBQUNDLE9BQVYsQ0FBa0IsVUFBU0MsR0FBVCxFQUFjQyxLQUFkLEVBQXFCQyxJQUFyQixFQUEyQjtJQUMzQyxLQUFLckIsWUFBTCxDQUFrQnNCLEdBQWxCLENBQXNCSCxHQUF0QixFQUEyQkMsS0FBM0IsRUFBa0NDLElBQWxDO0lBQ0EsS0FBS0UsZ0JBQUw7RUFDRCxDQUhpQixDQUdoQkMsSUFIZ0IsQ0FHWCxJQUhXLENBQWxCO0FBSUQsQ0FURDs7QUFXQXpCLFdBQVcsQ0FBQ0ssU0FBWixDQUFzQnFCLFNBQXRCLEdBQWtDLFVBQVNDLElBQVQsRUFBZTtFQUMvQyxPQUFPQyxXQUFBLENBQUdDLFlBQUgsQ0FBZ0JGLElBQWhCLEVBQXNCRyxRQUF0QixFQUFQO0FBQ0QsQ0FGRDs7QUFJQTlCLFdBQVcsQ0FBQ0ssU0FBWixDQUFzQlksS0FBdEIsR0FBOEIsVUFBU0wsTUFBVCxFQUFpQjtFQUM3QyxPQUFPLElBQUFLLGFBQUEsRUFBTUwsTUFBTixFQUFjO0lBQUVtQixPQUFPLEVBQUVDLGtCQUFBLENBQVVDLE1BQVYsQ0FBaUJDLGNBQTVCO0lBQTRDQyxVQUFVLEVBQUU7RUFBeEQsQ0FBZCxDQUFQO0FBQ0QsQ0FGRDs7QUFJQW5DLFdBQVcsQ0FBQ0ssU0FBWixDQUFzQlMsVUFBdEIsR0FBbUMsVUFBU0YsTUFBVCxFQUFpQjtFQUNsRCxPQUFPO0lBQ0xBLE1BQU0sRUFBRUEsTUFESDtJQUVMRyxJQUFJLEVBQUUsQ0FBQ0gsTUFBTSxDQUFDd0IsS0FBUCxDQUFhLFNBQWI7RUFGRixDQUFQO0FBSUQsQ0FMRDs7ZUFPZXBDLFcifQ==","map":{"version":3,"names":["JsProcessor","translations","options","AbstractProcessor","call","prototype","Object","create","constructor","defaultPattern","I18nJsExtractor","checkContents","source","fileData","preProcess","skip","ast","parse","extractor","forEach","key","value","meta","set","translationCount","bind","sourceFor","file","fs","readFileSync","toString","plugins","I18nliner","config","babylonPlugins","sourceType","match"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/","sources":["js_processor.js"],"sourcesContent":["import fs from \"fs\";\nimport { parse } from \"@babel/parser\";\nimport AbstractProcessor from \"./abstract_processor\";\nimport I18nJsExtractor from \"../extractors/i18n_js_extractor\";\nimport I18nliner from '../i18nliner';\n\nfunction JsProcessor(translations, options) {\n  AbstractProcessor.call(this, translations, options);\n}\n\nJsProcessor.prototype = Object.create(AbstractProcessor.prototype);\nJsProcessor.prototype.constructor = JsProcessor;\nJsProcessor.prototype.defaultPattern = \"**/*.js\";\nJsProcessor.prototype.I18nJsExtractor = I18nJsExtractor;\n\nJsProcessor.prototype.checkContents = function(source) {\n  var fileData = this.preProcess(source);\n  if (fileData.skip) return;\n  fileData.ast = fileData.ast || this.parse(fileData.source);\n  var extractor = new this.I18nJsExtractor(fileData);\n  extractor.forEach(function(key, value, meta) {\n    this.translations.set(key, value, meta);\n    this.translationCount++;\n  }.bind(this));\n};\n\nJsProcessor.prototype.sourceFor = function(file) {\n  return fs.readFileSync(file).toString();\n};\n\nJsProcessor.prototype.parse = function(source) {\n  return parse(source, { plugins: I18nliner.config.babylonPlugins, sourceType: \"module\" });\n};\n\nJsProcessor.prototype.preProcess = function(source) {\n  return {\n    source: source,\n    skip: !source.match(/I18n\\.t/)\n  };\n};\n\nexport default JsProcessor;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,WAAT,CAAqBC,YAArB,EAAmCC,OAAnC,EAA4C;EAC1CC,2BAAA,CAAkBC,IAAlB,CAAuB,IAAvB,EAA6BH,YAA7B,EAA2CC,OAA3C;AACD;;AAEDF,WAAW,CAACK,SAAZ,GAAwBC,MAAM,CAACC,MAAP,CAAcJ,2BAAA,CAAkBE,SAAhC,CAAxB;AACAL,WAAW,CAACK,SAAZ,CAAsBG,WAAtB,GAAoCR,WAApC;AACAA,WAAW,CAACK,SAAZ,CAAsBI,cAAtB,GAAuC,SAAvC;AACAT,WAAW,CAACK,SAAZ,CAAsBK,eAAtB,GAAwCA,0BAAxC;;AAEAV,WAAW,CAACK,SAAZ,CAAsBM,aAAtB,GAAsC,UAASC,MAAT,EAAiB;EACrD,IAAIC,QAAQ,GAAG,KAAKC,UAAL,CAAgBF,MAAhB,CAAf;EACA,IAAIC,QAAQ,CAACE,IAAb,EAAmB;EACnBF,QAAQ,CAACG,GAAT,GAAeH,QAAQ,CAACG,GAAT,IAAgB,KAAKC,KAAL,CAAWJ,QAAQ,CAACD,MAApB,CAA/B;EACA,IAAIM,SAAS,GAAG,IAAI,KAAKR,eAAT,CAAyBG,QAAzB,CAAhB;EACAK,SAAS,CAACC,OAAV,CAAkB,UAASC,GAAT,EAAcC,KAAd,EAAqBC,IAArB,EAA2B;IAC3C,KAAKrB,YAAL,CAAkBsB,GAAlB,CAAsBH,GAAtB,EAA2BC,KAA3B,EAAkCC,IAAlC;IACA,KAAKE,gBAAL;EACD,CAHiB,CAGhBC,IAHgB,CAGX,IAHW,CAAlB;AAID,CATD;;AAWAzB,WAAW,CAACK,SAAZ,CAAsBqB,SAAtB,GAAkC,UAASC,IAAT,EAAe;EAC/C,OAAOC,WAAA,CAAGC,YAAH,CAAgBF,IAAhB,EAAsBG,QAAtB,EAAP;AACD,CAFD;;AAIA9B,WAAW,CAACK,SAAZ,CAAsBY,KAAtB,GAA8B,UAASL,MAAT,EAAiB;EAC7C,OAAO,IAAAK,aAAA,EAAML,MAAN,EAAc;IAAEmB,OAAO,EAAEC,kBAAA,CAAUC,MAAV,CAAiBC,cAA5B;IAA4CC,UAAU,EAAE;EAAxD,CAAd,CAAP;AACD,CAFD;;AAIAnC,WAAW,CAACK,SAAZ,CAAsBS,UAAtB,GAAmC,UAASF,MAAT,EAAiB;EAClD,OAAO;IACLA,MAAM,EAAEA,MADH;IAELG,IAAI,EAAE,CAACH,MAAM,CAACwB,KAAP,CAAa,SAAb;EAFF,CAAP;AAID,CALD;;eAOepC,W"}},"mtime":1643211218760},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/abstract_processor.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _gglobby = _interopRequireDefault(require(\"gglobby\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../i18nliner\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global process */\nfunction chdir(dir, cb) {\n  var origDir = process.cwd();\n\n  try {\n    process.chdir(dir);\n    return cb();\n  } finally {\n    process.chdir(origDir);\n  }\n}\n\nfunction AbstractProcessor(translations, options) {\n  this.translations = translations;\n  this.translationCount = 0;\n  this.fileCount = 0;\n  this.checkWrapper = options.checkWrapper || this.checkWrapper;\n  this.pattern = options.pattern || this.defaultPattern;\n  this.file = options.file;\n  if (options.directory) this.directories = [options.directory];\n  this.only = options.only;\n}\n\nAbstractProcessor.prototype.checkWrapper = function (file, checker) {\n  checker(file);\n};\n\nAbstractProcessor.prototype.files = function (directory) {\n  var pattern = this.pattern instanceof Array ? this.pattern : [this.pattern];\n  return chdir(directory, function () {\n    var fileScope = _gglobby.default.select(pattern).reject([\"/node_modules\", \"/bower_components\"]).reject(_i18nliner.default.ignore());\n\n    if (this.only) {\n      var only = this.only instanceof Array ? this.only : [this.only];\n      fileScope = fileScope.select(only);\n    }\n\n    return fileScope.files;\n  }.bind(this));\n};\n\nAbstractProcessor.prototype.checkFiles = function () {\n  var directories = this.getDirectories();\n  var directoriesLen = directories.length;\n  var i;\n\n  for (i = 0; i < directoriesLen; i++) {\n    this.checkFilesIn(directories[i]);\n  }\n};\n\nAbstractProcessor.prototype.checkFilesIn = function (directory) {\n  var files = this.files(directory);\n  var filesLen = files.length;\n  var checkWrapper = this.checkWrapper;\n  var checkFile = this.checkFile.bind(this);\n  var i;\n\n  for (i = 0; i < filesLen; i++) {\n    checkWrapper(directory + \"/\" + files[i], checkFile);\n  }\n};\n\nAbstractProcessor.prototype.checkFile = function (file) {\n  this.fileCount++;\n  return this.checkContents(this.sourceFor(file), file);\n};\n\nAbstractProcessor.prototype.getDirectories = function () {\n  if (this.directories) return this.directories;\n  if (_i18nliner.default.config.directories.length) return _i18nliner.default.config.directories;\n  return [_i18nliner.default.config.basePath];\n};\n\nvar _default = AbstractProcessor;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGRpciIsImRpciIsImNiIiwib3JpZ0RpciIsInByb2Nlc3MiLCJjd2QiLCJBYnN0cmFjdFByb2Nlc3NvciIsInRyYW5zbGF0aW9ucyIsIm9wdGlvbnMiLCJ0cmFuc2xhdGlvbkNvdW50IiwiZmlsZUNvdW50IiwiY2hlY2tXcmFwcGVyIiwicGF0dGVybiIsImRlZmF1bHRQYXR0ZXJuIiwiZmlsZSIsImRpcmVjdG9yeSIsImRpcmVjdG9yaWVzIiwib25seSIsInByb3RvdHlwZSIsImNoZWNrZXIiLCJmaWxlcyIsIkFycmF5IiwiZmlsZVNjb3BlIiwiR2xvYmJ5Iiwic2VsZWN0IiwicmVqZWN0IiwiSTE4bmxpbmVyIiwiaWdub3JlIiwiYmluZCIsImNoZWNrRmlsZXMiLCJnZXREaXJlY3RvcmllcyIsImRpcmVjdG9yaWVzTGVuIiwibGVuZ3RoIiwiaSIsImNoZWNrRmlsZXNJbiIsImZpbGVzTGVuIiwiY2hlY2tGaWxlIiwiY2hlY2tDb250ZW50cyIsInNvdXJjZUZvciIsImNvbmZpZyIsImJhc2VQYXRoIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci9saWIvcHJvY2Vzc29ycy8iLCJzb3VyY2VzIjpbImFic3RyYWN0X3Byb2Nlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgcHJvY2VzcyAqL1xuXG5pbXBvcnQgR2xvYmJ5IGZyb20gXCJnZ2xvYmJ5XCI7XG5pbXBvcnQgSTE4bmxpbmVyIGZyb20gXCIuLi9pMThubGluZXJcIjtcblxuZnVuY3Rpb24gY2hkaXIoZGlyLCBjYikge1xuICB2YXIgb3JpZ0RpciA9IHByb2Nlc3MuY3dkKCk7XG4gIHRyeSB7XG4gICAgcHJvY2Vzcy5jaGRpcihkaXIpO1xuICAgIHJldHVybiBjYigpO1xuICB9XG4gIGZpbmFsbHkge1xuICAgIHByb2Nlc3MuY2hkaXIob3JpZ0Rpcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gQWJzdHJhY3RQcm9jZXNzb3IodHJhbnNsYXRpb25zLCBvcHRpb25zKSB7XG4gIHRoaXMudHJhbnNsYXRpb25zID0gdHJhbnNsYXRpb25zO1xuICB0aGlzLnRyYW5zbGF0aW9uQ291bnQgPSAwO1xuICB0aGlzLmZpbGVDb3VudCA9IDA7XG4gIHRoaXMuY2hlY2tXcmFwcGVyID0gb3B0aW9ucy5jaGVja1dyYXBwZXIgfHwgdGhpcy5jaGVja1dyYXBwZXI7XG4gIHRoaXMucGF0dGVybiA9IG9wdGlvbnMucGF0dGVybiB8fCB0aGlzLmRlZmF1bHRQYXR0ZXJuO1xuICB0aGlzLmZpbGUgPSBvcHRpb25zLmZpbGU7XG4gIGlmIChvcHRpb25zLmRpcmVjdG9yeSlcbiAgICB0aGlzLmRpcmVjdG9yaWVzID0gW29wdGlvbnMuZGlyZWN0b3J5XTtcbiAgdGhpcy5vbmx5ID0gb3B0aW9ucy5vbmx5O1xufVxuXG5BYnN0cmFjdFByb2Nlc3Nvci5wcm90b3R5cGUuY2hlY2tXcmFwcGVyID0gZnVuY3Rpb24oZmlsZSwgY2hlY2tlcikge1xuICBjaGVja2VyKGZpbGUpO1xufTtcblxuQWJzdHJhY3RQcm9jZXNzb3IucHJvdG90eXBlLmZpbGVzID0gZnVuY3Rpb24oZGlyZWN0b3J5KSB7XG4gIHZhciBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuIGluc3RhbmNlb2YgQXJyYXkgPyB0aGlzLnBhdHRlcm4gOiBbdGhpcy5wYXR0ZXJuXTtcbiAgcmV0dXJuIGNoZGlyKGRpcmVjdG9yeSwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZpbGVTY29wZSA9IEdsb2JieS5cbiAgICAgIHNlbGVjdChwYXR0ZXJuKS5cbiAgICAgIHJlamVjdChbXCIvbm9kZV9tb2R1bGVzXCIsIFwiL2Jvd2VyX2NvbXBvbmVudHNcIl0pLlxuICAgICAgcmVqZWN0KEkxOG5saW5lci5pZ25vcmUoKSk7XG4gICAgaWYgKHRoaXMub25seSkge1xuICAgICAgdmFyIG9ubHkgPSB0aGlzLm9ubHkgaW5zdGFuY2VvZiBBcnJheSA/IHRoaXMub25seSA6IFt0aGlzLm9ubHldO1xuICAgICAgZmlsZVNjb3BlID0gZmlsZVNjb3BlLnNlbGVjdChvbmx5KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGVTY29wZS5maWxlcztcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbkFic3RyYWN0UHJvY2Vzc29yLnByb3RvdHlwZS5jaGVja0ZpbGVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkaXJlY3RvcmllcyA9IHRoaXMuZ2V0RGlyZWN0b3JpZXMoKTtcbiAgdmFyIGRpcmVjdG9yaWVzTGVuID0gZGlyZWN0b3JpZXMubGVuZ3RoO1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGRpcmVjdG9yaWVzTGVuOyBpKyspIHtcbiAgICB0aGlzLmNoZWNrRmlsZXNJbihkaXJlY3Rvcmllc1tpXSk7XG4gIH1cbn07XG5cbkFic3RyYWN0UHJvY2Vzc29yLnByb3RvdHlwZS5jaGVja0ZpbGVzSW4gPSBmdW5jdGlvbihkaXJlY3RvcnkpIHtcbiAgdmFyIGZpbGVzID0gdGhpcy5maWxlcyhkaXJlY3RvcnkpO1xuICB2YXIgZmlsZXNMZW4gPSBmaWxlcy5sZW5ndGg7XG4gIHZhciBjaGVja1dyYXBwZXIgPSB0aGlzLmNoZWNrV3JhcHBlcjtcbiAgdmFyIGNoZWNrRmlsZSA9IHRoaXMuY2hlY2tGaWxlLmJpbmQodGhpcyk7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgZmlsZXNMZW47IGkrKykge1xuICAgIGNoZWNrV3JhcHBlcihkaXJlY3RvcnkgKyBcIi9cIiArIGZpbGVzW2ldLCBjaGVja0ZpbGUpO1xuICB9XG59O1xuXG5BYnN0cmFjdFByb2Nlc3Nvci5wcm90b3R5cGUuY2hlY2tGaWxlID0gZnVuY3Rpb24oZmlsZSkge1xuICB0aGlzLmZpbGVDb3VudCsrO1xuICByZXR1cm4gdGhpcy5jaGVja0NvbnRlbnRzKHRoaXMuc291cmNlRm9yKGZpbGUpLCBmaWxlKTtcbn07XG5cbkFic3RyYWN0UHJvY2Vzc29yLnByb3RvdHlwZS5nZXREaXJlY3RvcmllcyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5kaXJlY3RvcmllcykgcmV0dXJuIHRoaXMuZGlyZWN0b3JpZXM7XG4gIGlmIChJMThubGluZXIuY29uZmlnLmRpcmVjdG9yaWVzLmxlbmd0aCkgcmV0dXJuIEkxOG5saW5lci5jb25maWcuZGlyZWN0b3JpZXM7XG4gIHJldHVybiBbSTE4bmxpbmVyLmNvbmZpZy5iYXNlUGF0aF07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdFByb2Nlc3NvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUNBOzs7O0FBSEE7QUFLQSxTQUFTQSxLQUFULENBQWVDLEdBQWYsRUFBb0JDLEVBQXBCLEVBQXdCO0VBQ3RCLElBQUlDLE9BQU8sR0FBR0MsT0FBTyxDQUFDQyxHQUFSLEVBQWQ7O0VBQ0EsSUFBSTtJQUNGRCxPQUFPLENBQUNKLEtBQVIsQ0FBY0MsR0FBZDtJQUNBLE9BQU9DLEVBQUUsRUFBVDtFQUNELENBSEQsU0FJUTtJQUNORSxPQUFPLENBQUNKLEtBQVIsQ0FBY0csT0FBZDtFQUNEO0FBQ0Y7O0FBRUQsU0FBU0csaUJBQVQsQ0FBMkJDLFlBQTNCLEVBQXlDQyxPQUF6QyxFQUFrRDtFQUNoRCxLQUFLRCxZQUFMLEdBQW9CQSxZQUFwQjtFQUNBLEtBQUtFLGdCQUFMLEdBQXdCLENBQXhCO0VBQ0EsS0FBS0MsU0FBTCxHQUFpQixDQUFqQjtFQUNBLEtBQUtDLFlBQUwsR0FBb0JILE9BQU8sQ0FBQ0csWUFBUixJQUF3QixLQUFLQSxZQUFqRDtFQUNBLEtBQUtDLE9BQUwsR0FBZUosT0FBTyxDQUFDSSxPQUFSLElBQW1CLEtBQUtDLGNBQXZDO0VBQ0EsS0FBS0MsSUFBTCxHQUFZTixPQUFPLENBQUNNLElBQXBCO0VBQ0EsSUFBSU4sT0FBTyxDQUFDTyxTQUFaLEVBQ0UsS0FBS0MsV0FBTCxHQUFtQixDQUFDUixPQUFPLENBQUNPLFNBQVQsQ0FBbkI7RUFDRixLQUFLRSxJQUFMLEdBQVlULE9BQU8sQ0FBQ1MsSUFBcEI7QUFDRDs7QUFFRFgsaUJBQWlCLENBQUNZLFNBQWxCLENBQTRCUCxZ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","map":{"version":3,"names":["chdir","dir","cb","origDir","process","cwd","AbstractProcessor","translations","options","translationCount","fileCount","checkWrapper","pattern","defaultPattern","file","directory","directories","only","prototype","checker","files","Array","fileScope","Globby","select","reject","I18nliner","ignore","bind","checkFiles","getDirectories","directoriesLen","length","i","checkFilesIn","filesLen","checkFile","checkContents","sourceFor","config","basePath"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/","sources":["abstract_processor.js"],"sourcesContent":["/* global process */\n\nimport Globby from \"gglobby\";\nimport I18nliner from \"../i18nliner\";\n\nfunction chdir(dir, cb) {\n  var origDir = process.cwd();\n  try {\n    process.chdir(dir);\n    return cb();\n  }\n  finally {\n    process.chdir(origDir);\n  }\n}\n\nfunction AbstractProcessor(translations, options) {\n  this.translations = translations;\n  this.translationCount = 0;\n  this.fileCount = 0;\n  this.checkWrapper = options.checkWrapper || this.checkWrapper;\n  this.pattern = options.pattern || this.defaultPattern;\n  this.file = options.file;\n  if (options.directory)\n    this.directories = [options.directory];\n  this.only = options.only;\n}\n\nAbstractProcessor.prototype.checkWrapper = function(file, checker) {\n  checker(file);\n};\n\nAbstractProcessor.prototype.files = function(directory) {\n  var pattern = this.pattern instanceof Array ? this.pattern : [this.pattern];\n  return chdir(directory, function() {\n    var fileScope = Globby.\n      select(pattern).\n      reject([\"/node_modules\", \"/bower_components\"]).\n      reject(I18nliner.ignore());\n    if (this.only) {\n      var only = this.only instanceof Array ? this.only : [this.only];\n      fileScope = fileScope.select(only);\n    }\n    return fileScope.files;\n  }.bind(this));\n};\n\nAbstractProcessor.prototype.checkFiles = function() {\n  var directories = this.getDirectories();\n  var directoriesLen = directories.length;\n  var i;\n  for (i = 0; i < directoriesLen; i++) {\n    this.checkFilesIn(directories[i]);\n  }\n};\n\nAbstractProcessor.prototype.checkFilesIn = function(directory) {\n  var files = this.files(directory);\n  var filesLen = files.length;\n  var checkWrapper = this.checkWrapper;\n  var checkFile = this.checkFile.bind(this);\n  var i;\n  for (i = 0; i < filesLen; i++) {\n    checkWrapper(directory + \"/\" + files[i], checkFile);\n  }\n};\n\nAbstractProcessor.prototype.checkFile = function(file) {\n  this.fileCount++;\n  return this.checkContents(this.sourceFor(file), file);\n};\n\nAbstractProcessor.prototype.getDirectories = function() {\n  if (this.directories) return this.directories;\n  if (I18nliner.config.directories.length) return I18nliner.config.directories;\n  return [I18nliner.config.basePath];\n};\n\nexport default AbstractProcessor;\n"],"mappings":"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"}},"mtime":1643211188001},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/i18n_js_extractor.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _traverse = _interopRequireDefault(require(\"@babel/traverse\"));\n\nvar _translate_call = _interopRequireDefault(require(\"./translate_call\"));\n\nvar _utils = _interopRequireDefault(require(\"../utils\"));\n\nvar _call_helpers = _interopRequireDefault(require(\"../call_helpers\"));\n\nvar _translation_hash = _interopRequireDefault(require(\"./translation_hash\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../i18nliner\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction I18nJsExtractor(options) {\n  this.ast = options.ast;\n}\n\n_utils.default.extend(I18nJsExtractor.prototype, _call_helpers.default);\n\nI18nJsExtractor.prototype.forEach = function (handler) {\n  this.handler = handler;\n  this.run();\n  delete this.handler;\n};\n\nI18nJsExtractor.prototype.run = function () {\n  if (!this.handler) {\n    this.translations = new _translation_hash.default();\n    this.handler = this.translations.set.bind(this.translations);\n  }\n\n  (0, _traverse.default)(this.ast, {\n    enter: this.enter.bind(this),\n    exit: this.exit.bind(this)\n  });\n};\n\nI18nJsExtractor.prototype.isExtractableCall = function (node, receiver, method) {\n  return node.type === \"MemberExpression\" && !node.computed && receiver.type === \"Identifier\" && receiver.name === \"I18n\" && method.type === \"Identifier\" && (method.name === \"t\" || method.name === \"translate\");\n};\n\nI18nJsExtractor.prototype.enter = function (path) {\n  if (path.type === \"CallExpression\") this.processCall(path.node, path);\n};\n\nI18nJsExtractor.prototype.exit = function (path) {};\n\nI18nJsExtractor.prototype.processCall = function (node, path) {\n  var callee = node.callee;\n  var receiver = callee.object;\n  var method = callee.property;\n\n  if (this.isExtractableCall(callee, receiver, method)) {\n    var line = receiver.loc.start.line;\n    receiver = receiver.name;\n    method = method.name; // convert nodes to literals where possible\n\n    var args = this.processArguments(node.arguments);\n    this.processTranslateCall(line, receiver, method, args, path);\n  }\n};\n\nI18nJsExtractor.prototype.processArguments = function (args) {\n  var result = [];\n\n  for (var i = 0, len = args.length; i < len; i++) {\n    result.push(this.evaluateExpression(args[i]));\n  }\n\n  return result;\n};\n\nI18nJsExtractor.prototype.evaluateExpression = function (node, identifierToString) {\n  if (node.type === \"StringLiteral\") return node.value;\n  if (node.type === \"Identifier\" && identifierToString) return node.name;\n  if (node.type === \"ObjectExpression\") return this.objectFrom(node);\n  if (node.type === \"BinaryExpression\" && node.operator === \"+\") return this.stringFromConcatenation(node);\n  if (node.type === \"TemplateLiteral\") return this.stringFromTemplateLiteral(node);\n  return this.UNSUPPORTED_EXPRESSION;\n};\n\nI18nJsExtractor.prototype.buildTranslateCall = function (line, method, args, path) {\n  return new _translate_call.default(line, method, args, path);\n};\n\nI18nJsExtractor.prototype.processTranslateCall = function (line, receiver, method, args, path) {\n  var call = this.buildTranslateCall(line, method, args, path);\n  var translations = call.translations();\n\n  for (var i = 0, len = translations.length; i < len; i++) this.handler(translations[i][0], translations[i][1], call);\n};\n\nI18nJsExtractor.prototype.objectFrom = function (node) {\n  var object = {};\n  var props = node.properties;\n  var prop;\n  var key;\n\n  for (var i = 0, len = props.length; i < len; i++) {\n    prop = props[i];\n    key = this.evaluateExpression(prop.key, true);\n    if (typeof key !== 'string') return this.UNSUPPORTED_EXPRESSION;\n    object[key] = this.evaluateExpression(prop.value);\n  }\n\n  return object;\n};\n\nI18nJsExtractor.prototype.stringFromConcatenation = function (node) {\n  var left = this.evaluateExpression(node.left);\n  var right = this.evaluateExpression(node.right);\n  if (typeof left !== \"string\" || typeof right !== \"string\") return this.UNSUPPORTED_EXPRESSION;\n  return left + right;\n};\n\nI18nJsExtractor.prototype.stringFromTemplateLiteral = function (node) {\n  if (node.quasis.length === 1 && node.quasis[0].type === \"TemplateElement\") {\n    return node.quasis[0].value.raw;\n  }\n\n  return this.UNSUPPORTED_EXPRESSION;\n};\n\nvar _default = I18nJsExtractor;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJMThuSnNFeHRyYWN0b3IiLCJvcHRpb25zIiwiYXN0IiwiVXRpbHMiLCJleHRlbmQiLCJwcm90b3R5cGUiLCJDYWxsSGVscGVycyIsImZvckVhY2giLCJoYW5kbGVyIiwicnVuIiwidHJhbnNsYXRpb25zIiwiVHJhbnNsYXRpb25IYXNoIiwic2V0IiwiYmluZCIsInRyYXZlcnNlIiwiZW50ZXIiLCJleGl0IiwiaXNFeHRyYWN0YWJsZUNhbGwiLCJub2RlIiwicmVjZWl2ZXIiLCJtZXRob2QiLCJ0eXBlIiwiY29tcHV0ZWQiLCJuYW1lIiwicGF0aCIsInByb2Nlc3NDYWxsIiwiY2FsbGVlIiwib2JqZWN0IiwicHJvcGVydHkiLCJsaW5lIiwibG9jIiwic3RhcnQiLCJhcmdzIiwicHJvY2Vzc0FyZ3VtZW50cyIsImFyZ3VtZW50cyIsInByb2Nlc3NUcmFuc2xhdGVDYWxsIiwicmVzdWx0IiwiaSIsImxlbiIsImxlbmd0aCIsInB1c2giLCJldmFsdWF0ZUV4cHJlc3Npb24iLCJpZGVudGlmaWVyVG9TdHJpbmciLCJ2YWx1ZSIsIm9iamVjdEZyb20iLCJvcGVyYXRvciIsInN0cmluZ0Zyb21Db25jYXRlbmF0aW9uIiwic3RyaW5nRnJvbVRlbXBsYXRlTGl0ZXJhbCIsIlVOU1VQUE9SVEVEX0VYUFJFU1NJT04iLCJidWlsZFRyYW5zbGF0ZUNhbGwiLCJUcmFuc2xhdGVDYWxsIiwiY2FsbCIsInByb3BzIiwicHJvcGVydGllcyIsInByb3AiLCJrZXkiLCJsZWZ0IiwicmlnaHQiLCJxdWFzaXMiLCJyYXciXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL2xpYi9leHRyYWN0b3JzLyIsInNvdXJjZXMiOlsiaTE4bl9qc19leHRyYWN0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRyYXZlcnNlIGZyb20gXCJAYmFiZWwvdHJhdmVyc2VcIjtcblxuaW1wb3J0IFRyYW5zbGF0ZUNhbGwgZnJvbSBcIi4vdHJhbnNsYXRlX2NhbGxcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBDYWxsSGVscGVycyBmcm9tIFwiLi4vY2FsbF9oZWxwZXJzXCI7XG5pbXBvcnQgVHJhbnNsYXRpb25IYXNoIGZyb20gXCIuL3RyYW5zbGF0aW9uX2hhc2hcIjtcbmltcG9ydCBJMThubGluZXIgZnJvbSBcIi4uL2kxOG5saW5lclwiO1xuXG5mdW5jdGlvbiBJMThuSnNFeHRyYWN0b3Iob3B0aW9ucykge1xuICB0aGlzLmFzdCA9IG9wdGlvbnMuYXN0O1xufVxuXG5VdGlscy5leHRlbmQoSTE4bkpzRXh0cmFjdG9yLnByb3RvdHlwZSwgQ2FsbEhlbHBlcnMpO1xuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gIHRoaXMucnVuKCk7XG4gIGRlbGV0ZSB0aGlzLmhhbmRsZXI7XG59O1xuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaGFuZGxlcikge1xuICAgIHRoaXMudHJhbnNsYXRpb25zID0gbmV3IFRyYW5zbGF0aW9uSGFzaCgpO1xuICAgIHRoaXMuaGFuZGxlciA9IHRoaXMudHJhbnNsYXRpb25zLnNldC5iaW5kKHRoaXMudHJhbnNsYXRpb25zKTtcbiAgfVxuXG4gIHRyYXZlcnNlKHRoaXMuYXN0LCB7XG4gICAgZW50ZXI6IHRoaXMuZW50ZXIuYmluZCh0aGlzKSxcbiAgICBleGl0OiB0aGlzLmV4aXQuYmluZCh0aGlzKVxuICB9KTtcbn07XG5cbkkxOG5Kc0V4dHJhY3Rvci5wcm90b3R5cGUuaXNFeHRyYWN0YWJsZUNhbGwgPSBmdW5jdGlvbihub2RlLCByZWNlaXZlciwgbWV0aG9kKSB7XG4gIHJldHVybiBub2RlLnR5cGUgPT09IFwiTWVtYmVyRXhwcmVzc2lvblwiICYmXG4gICAgIW5vZGUuY29tcHV0ZWQgJiZcbiAgICByZWNlaXZlci50eXBlID09PSBcIklkZW50aWZpZXJcIiAmJlxuICAgIHJlY2VpdmVyLm5hbWUgPT09IFwiSTE4blwiICYmXG4gICAgbWV0aG9kLnR5cGUgPT09IFwiSWRlbnRpZmllclwiICYmXG4gICAgKG1ldGhvZC5uYW1lID09PSBcInRcIiB8fCBtZXRob2QubmFtZSA9PT0gXCJ0cmFuc2xhdGVcIik7XG59O1xuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24ocGF0aCkge1xuICBpZiAocGF0aC50eXBlID09PSBcIkNhbGxFeHByZXNzaW9uXCIpXG4gICAgdGhpcy5wcm9jZXNzQ2FsbChwYXRoLm5vZGUsIHBhdGgpO1xufTtcblxuSTE4bkpzRXh0cmFjdG9yLnByb3RvdHlwZS5leGl0ID0gZnVuY3Rpb24ocGF0aCkge1xufVxuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLnByb2Nlc3NDYWxsID0gZnVuY3Rpb24obm9kZSwgcGF0aCkge1xuICB2YXIgY2FsbGVlID0gbm9kZS5jYWxsZWU7XG4gIHZhciByZWNlaXZlciA9IGNhbGxlZS5vYmplY3Q7XG4gIHZhciBtZXRob2QgPSBjYWxsZWUucHJvcGVydHk7XG5cbiAgaWYgKHRoaXMuaXNFeHRyYWN0YWJsZUNhbGwoY2FsbGVlLCByZWNlaXZlciwgbWV0aG9kKSkge1xuICAgIHZhciBsaW5lID0gcmVjZWl2ZXIubG9jLnN0YXJ0LmxpbmU7XG4gICAgcmVjZWl2ZXIgPSByZWNlaXZlci5uYW1lO1xuICAgIG1ldGhvZCA9IG1ldGhvZC5uYW1lO1xuXG4gICAgLy8gY29udmVydCBub2RlcyB0byBsaXRlcmFscyB3aGVyZSBwb3NzaWJsZVxuICAgIHZhciBhcmdzID0gdGhpcy5wcm9jZXNzQXJndW1lbnRzKG5vZGUuYXJndW1lbnRzKTtcbiAgICB0aGlzLnByb2Nlc3NUcmFuc2xhdGVDYWxsKGxpbmUsIHJlY2VpdmVyLCBtZXRob2QsIGFyZ3MsIHBhdGgpO1xuICB9XG59O1xuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLnByb2Nlc3NBcmd1bWVudHMgPSBmdW5jdGlvbihhcmdzKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXN1bHQucHVzaCh0aGlzLmV2YWx1YXRlRXhwcmVzc2lvbihhcmdzW2ldKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkkxOG5Kc0V4dHJhY3Rvci5wcm90b3R5cGUuZXZhbHVhdGVFeHByZXNzaW9uID0gZnVuY3Rpb24obm9kZSwgaWRlbnRpZmllclRvU3RyaW5nKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IFwiU3RyaW5nTGl0ZXJhbFwiKVxuICAgIHJldHVybiBub2RlLnZhbHVlO1xuICBpZiAobm9kZS50eXBlID09PSBcIklkZW50aWZpZXJcIiAmJiBpZGVudGlmaWVyVG9TdHJpbmcpXG4gICAgcmV0dXJuIG5vZGUubmFtZTtcbiAgaWYgKG5vZGUudHlwZSA9PT0gXCJPYmplY3RFeHByZXNzaW9uXCIpXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0RnJvbShub2RlKTtcbiAgaWYgKG5vZGUudHlwZSA9PT0gXCJCaW5hcnlFeHByZXNzaW9uXCIgJiYgbm9kZS5vcGVyYXRvciA9PT0gXCIrXCIpXG4gICAgcmV0dXJuIHRoaXMuc3RyaW5nRnJvbUNvbmNhdGVuYXRpb24obm9kZSk7XG4gIGlmIChub2RlLnR5cGUgPT09IFwiVGVtcGxhdGVMaXRlcmFsXCIpXG4gICAgcmV0dXJuIHRoaXMuc3RyaW5nRnJvbVRlbXBsYXRlTGl0ZXJhbChub2RlKTtcbiAgcmV0dXJuIHRoaXMuVU5TVVBQT1JURURfRVhQUkVTU0lPTjtcbn07XG5cbkkxOG5Kc0V4dHJhY3Rvci5wcm90b3R5cGUuYnVpbGRUcmFuc2xhdGVDYWxsID0gZnVuY3Rpb24obGluZSwgbWV0aG9kLCBhcmdzLCBwYXRoKSB7XG4gIHJldHVybiBuZXcgVHJhbnNsYXRlQ2FsbChsaW5lLCBtZXRob2QsIGFyZ3MsIHBhdGgpO1xufTtcblxuSTE4bkpzRXh0cmFjdG9yLnByb3RvdHlwZS5wcm9jZXNzVHJhbnNsYXRlQ2FsbCA9IGZ1bmN0aW9uKGxpbmUsIHJlY2VpdmVyLCBtZXRob2QsIGFyZ3MsIHBhdGgpIHtcbiAgdmFyIGNhbGwgPSB0aGlzLmJ1aWxkVHJhbnNsYXRlQ2FsbChsaW5lLCBtZXRob2QsIGFyZ3MsIHBhdGgpO1xuICB2YXIgdHJhbnNsYXRpb25zID0gY2FsbC50cmFuc2xhdGlvbnMoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRyYW5zbGF0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICB0aGlzLmhhbmRsZXIodHJhbnNsYXRpb25zW2ldWzBdLCB0cmFuc2xhdGlvbnNbaV1bMV0sIGNhbGwpO1xufTtcblxuSTE4bkpzRXh0cmFjdG9yLnByb3RvdHlwZS5vYmplY3RGcm9tID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgb2JqZWN0ID0ge307XG4gIHZhciBwcm9wcyA9IG5vZGUucHJvcGVydGllcztcbiAgdmFyIHByb3A7XG4gIHZhciBrZXk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwcm9wcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICBrZXkgPSB0aGlzLmV2YWx1YXRlRXhwcmVzc2lvbihwcm9wLmtleSwgdHJ1ZSk7XG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKVxuICAgICAgcmV0dXJuIHRoaXMuVU5TVVBQT1JURURfRVhQUkVTU0lPTjtcbiAgICBvYmplY3Rba2V5XSA9IHRoaXMuZXZhbHVhdGVFeHByZXNzaW9uKHByb3AudmFsdWUpO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLnN0cmluZ0Zyb21Db25jYXRlbmF0aW9uID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgbGVmdCA9IHRoaXMuZXZhbHVhdGVFeHByZXNzaW9uKG5vZGUubGVmdCk7XG4gIHZhciByaWdodCA9IHRoaXMuZXZhbHVhdGVFeHByZXNzaW9uKG5vZGUucmlnaHQpO1xuICBpZiAodHlwZW9mIGxlZnQgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHJpZ2h0ICE9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiB0aGlzLlVOU1VQUE9SVEVEX0VYUFJFU1NJT047XG4gIHJldHVybiBsZWZ0ICsgcmlnaHQ7XG59O1xuXG5JMThuSnNFeHRyYWN0b3IucHJvdG90eXBlLnN0cmluZ0Zyb21UZW1wbGF0ZUxpdGVyYWwgPSBmdW5jdGlvbihub2RlKSB7XG4gIGlmIChub2RlLnF1YXNpcy5sZW5ndGggPT09IDEgJiYgbm9kZS5xdWFzaXNbMF0udHlwZSA9PT0gXCJUZW1wbGF0ZUVsZW1lbnRcIikge1xuICAgIHJldHVybiBub2RlLnF1YXNpc1swXS52YWx1ZS5yYXc7XG4gIH1cbiAgcmV0dXJuIHRoaXMuVU5TVVBQT1JURURfRVhQUkVTU0lPTjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSTE4bkpzRXh0cmFjdG9yO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxTQUFTQSxlQUFULENBQXlCQyxPQUF6QixFQUFrQztFQUNoQyxLQUFLQyxHQUFMLEdBQVdELE9BQU8sQ0FBQ0MsR0FBbkI7QUFDRDs7QUFFREMsY0FBQSxDQUFNQyxNQUFOLENBQWFKLGVBQWUsQ0FBQ0ssU0FBN0IsRUFBd0NDLHFCQUF4Qzs7QUFFQU4sZUFBZSxDQUFDSyxTQUFoQixDQUEwQkUsT0FBMUIsR0FBb0MsVUFBU0MsT0FBVCxFQUFrQjtFQUNwRCxLQUFLQSxPQUFMLEdBQWVBLE9BQWY7RUFDQSxLQUFLQyxHQUFMO0VBQ0EsT0FBTyxLQUFLRCxPQUFaO0FBQ0QsQ0FKRDs7QUFNQVIsZUFBZSxDQUFDSyxTQUFoQixDQUEwQkksR0FBMUIsR0FBZ0MsWUFBVztFQUN6QyxJQUFJLENBQUMsS0FBS0QsT0FBVixFQUFtQjtJQUNqQixLQUFLRSxZQUFMLEdB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","map":{"version":3,"names":["I18nJsExtractor","options","ast","Utils","extend","prototype","CallHelpers","forEach","handler","run","translations","TranslationHash","set","bind","traverse","enter","exit","isExtractableCall","node","receiver","method","type","computed","name","path","processCall","callee","object","property","line","loc","start","args","processArguments","arguments","processTranslateCall","result","i","len","length","push","evaluateExpression","identifierToString","value","objectFrom","operator","stringFromConcatenation","stringFromTemplateLiteral","UNSUPPORTED_EXPRESSION","buildTranslateCall","TranslateCall","call","props","properties","prop","key","left","right","quasis","raw"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/","sources":["i18n_js_extractor.js"],"sourcesContent":["import traverse from \"@babel/traverse\";\n\nimport TranslateCall from \"./translate_call\";\nimport Utils from \"../utils\";\nimport CallHelpers from \"../call_helpers\";\nimport TranslationHash from \"./translation_hash\";\nimport I18nliner from \"../i18nliner\";\n\nfunction I18nJsExtractor(options) {\n  this.ast = options.ast;\n}\n\nUtils.extend(I18nJsExtractor.prototype, CallHelpers);\n\nI18nJsExtractor.prototype.forEach = function(handler) {\n  this.handler = handler;\n  this.run();\n  delete this.handler;\n};\n\nI18nJsExtractor.prototype.run = function() {\n  if (!this.handler) {\n    this.translations = new TranslationHash();\n    this.handler = this.translations.set.bind(this.translations);\n  }\n\n  traverse(this.ast, {\n    enter: this.enter.bind(this),\n    exit: this.exit.bind(this)\n  });\n};\n\nI18nJsExtractor.prototype.isExtractableCall = function(node, receiver, method) {\n  return node.type === \"MemberExpression\" &&\n    !node.computed &&\n    receiver.type === \"Identifier\" &&\n    receiver.name === \"I18n\" &&\n    method.type === \"Identifier\" &&\n    (method.name === \"t\" || method.name === \"translate\");\n};\n\nI18nJsExtractor.prototype.enter = function(path) {\n  if (path.type === \"CallExpression\")\n    this.processCall(path.node, path);\n};\n\nI18nJsExtractor.prototype.exit = function(path) {\n}\n\nI18nJsExtractor.prototype.processCall = function(node, path) {\n  var callee = node.callee;\n  var receiver = callee.object;\n  var method = callee.property;\n\n  if (this.isExtractableCall(callee, receiver, method)) {\n    var line = receiver.loc.start.line;\n    receiver = receiver.name;\n    method = method.name;\n\n    // convert nodes to literals where possible\n    var args = this.processArguments(node.arguments);\n    this.processTranslateCall(line, receiver, method, args, path);\n  }\n};\n\nI18nJsExtractor.prototype.processArguments = function(args) {\n  var result = [];\n  for (var i = 0, len = args.length; i < len; i++) {\n    result.push(this.evaluateExpression(args[i]));\n  }\n  return result;\n};\n\nI18nJsExtractor.prototype.evaluateExpression = function(node, identifierToString) {\n  if (node.type === \"StringLiteral\")\n    return node.value;\n  if (node.type === \"Identifier\" && identifierToString)\n    return node.name;\n  if (node.type === \"ObjectExpression\")\n    return this.objectFrom(node);\n  if (node.type === \"BinaryExpression\" && node.operator === \"+\")\n    return this.stringFromConcatenation(node);\n  if (node.type === \"TemplateLiteral\")\n    return this.stringFromTemplateLiteral(node);\n  return this.UNSUPPORTED_EXPRESSION;\n};\n\nI18nJsExtractor.prototype.buildTranslateCall = function(line, method, args, path) {\n  return new TranslateCall(line, method, args, path);\n};\n\nI18nJsExtractor.prototype.processTranslateCall = function(line, receiver, method, args, path) {\n  var call = this.buildTranslateCall(line, method, args, path);\n  var translations = call.translations();\n  for (var i = 0, len = translations.length; i < len; i++)\n    this.handler(translations[i][0], translations[i][1], call);\n};\n\nI18nJsExtractor.prototype.objectFrom = function(node) {\n  var object = {};\n  var props = node.properties;\n  var prop;\n  var key;\n  for (var i = 0, len = props.length; i < len; i++) {\n    prop = props[i];\n    key = this.evaluateExpression(prop.key, true);\n    if (typeof key !== 'string')\n      return this.UNSUPPORTED_EXPRESSION;\n    object[key] = this.evaluateExpression(prop.value);\n  }\n  return object;\n};\n\nI18nJsExtractor.prototype.stringFromConcatenation = function(node) {\n  var left = this.evaluateExpression(node.left);\n  var right = this.evaluateExpression(node.right);\n  if (typeof left !== \"string\" || typeof right !== \"string\")\n    return this.UNSUPPORTED_EXPRESSION;\n  return left + right;\n};\n\nI18nJsExtractor.prototype.stringFromTemplateLiteral = function(node) {\n  if (node.quasis.length === 1 && node.quasis[0].type === \"TemplateElement\") {\n    return node.quasis[0].value.raw;\n  }\n  return this.UNSUPPORTED_EXPRESSION;\n}\n\nexport default I18nJsExtractor;\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,eAAT,CAAyBC,OAAzB,EAAkC;EAChC,KAAKC,GAAL,GAAWD,OAAO,CAACC,GAAnB;AACD;;AAEDC,cAAA,CAAMC,MAAN,CAAaJ,eAAe,CAACK,SAA7B,EAAwCC,qBAAxC;;AAEAN,eAAe,CAACK,SAAhB,CAA0BE,OAA1B,GAAoC,UAASC,OAAT,EAAkB;EACpD,KAAKA,OAAL,GAAeA,OAAf;EACA,KAAKC,GAAL;EACA,OAAO,KAAKD,OAAZ;AACD,CAJD;;AAMAR,eAAe,CAACK,SAAhB,CAA0BI,GAA1B,GAAgC,YAAW;EACzC,IAAI,CAAC,KAAKD,OAAV,EAAmB;IACjB,KAAKE,YAAL,GAAoB,IAAIC,yBAAJ,EAApB;IACA,KAAKH,OAAL,GAAe,KAAKE,YAAL,CAAkBE,GAAlB,CAAsBC,IAAtB,CAA2B,KAAKH,YAAhC,CAAf;EACD;;EAED,IAAAI,iBAAA,EAAS,KAAKZ,GAAd,EAAmB;IACjBa,KAAK,EAAE,KAAKA,KAAL,CAAWF,IAAX,CAAgB,IAAhB,CADU;IAEjBG,IAAI,EAAE,KAAKA,IAAL,CAAUH,IAAV,CAAe,IAAf;EAFW,CAAnB;AAID,CAVD;;AAYAb,eAAe,CAACK,SAAhB,CAA0BY,iBAA1B,GAA8C,UAASC,IAAT,EAAeC,QAAf,EAAyBC,MAAzB,EAAiC;EAC7E,OAAOF,IAAI,CAACG,IAAL,KAAc,kBAAd,IACL,CAACH,IAAI,CAACI,QADD,IAELH,QAAQ,CAACE,IAAT,KAAkB,YAFb,IAGLF,QAAQ,CAACI,IAAT,KAAkB,MAHb,IAILH,MAAM,CAACC,IAAP,KAAgB,YAJX,KAKJD,MAAM,CAACG,IAAP,KAAgB,GAAhB,IAAuBH,MAAM,CAACG,IAAP,KAAgB,WALnC,CAAP;AAMD,CAPD;;AASAvB,eAAe,CAACK,SAAhB,CAA0BU,KAA1B,GAAkC,UAASS,IAAT,EAAe;EAC/C,IAAIA,IAAI,CAACH,IAAL,KAAc,gBAAlB,EACE,KAAKI,WAAL,CAAiBD,IAAI,CAACN,IAAtB,EAA4BM,IAA5B;AACH,CAHD;;AAKAxB,eAAe,CAACK,SAAhB,CAA0BW,IAA1B,GAAiC,UAASQ,IAAT,EAAe,CAC/C,CADD;;AAGAxB,eAAe,CAACK,SAAhB,CAA0BoB,WAA1B,GAAwC,UAASP,IAAT,EAAeM,IAAf,EAAqB;EAC3D,IAAIE,MAAM,GAAGR,IAAI,CAACQ,MAAlB;EACA,IAAIP,QAAQ,GAAGO,MAAM,CAACC,MAAtB;EACA,IAAIP,MAAM,GAAGM,MAAM,CAACE,QAApB;;EAEA,IAAI,KAAKX,iBAAL,CAAuBS,MAAvB,EAA+BP,QAA/B,EAAyCC,MAAzC,CAAJ,EAAsD;IACpD,IAAIS,IAAI,GAAGV,QAAQ,CAACW,GAAT,CAAaC,KAAb,CAAmBF,IAA9B;IACAV,QAAQ,GAAGA,QAAQ,CAACI,IAApB;IACAH,MAAM,GAAGA,MAAM,CAACG,IAAhB,CAHoD,CAKpD;;IACA,IAAIS,IAAI,GAAG,KAAKC,gBAAL,CAAsBf,IAAI,CAACgB,SAA3B,CAAX;IACA,KAAKC,oBAAL,CAA0BN,IAA1B,EAAgCV,QAAhC,EAA0CC,MAA1C,EAAkDY,IAAlD,EAAwDR,IAAxD;EACD;AACF,CAdD;;AAgBAxB,eAAe,CAACK,SAAhB,CAA0B4B,gBAA1B,GAA6C,UAASD,IAAT,EAAe;EAC1D,IAAII,MAAM,GAAG,EAAb;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGN,IAAI,CAACO,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;IAC/CD,MAAM,CAACI,IAAP,CAAY,KAAKC,kBAAL,CAAwBT,IAAI,CAACK,CAAD,CAA5B,CAAZ;EACD;;EACD,OAAOD,MAAP;AACD,CAND;;AAQApC,eAAe,CAACK,SAAhB,CAA0BoC,kBAA1B,GAA+C,UAASvB,IAAT,EAAewB,kBAAf,EAAmC;EAChF,IAAIxB,IAAI,CAACG,IAAL,KAAc,eAAlB,EACE,OAAOH,IAAI,CAACyB,KAAZ;EACF,IAAIzB,IAAI,CAACG,IAAL,KAAc,YAAd,IAA8BqB,kBAAlC,EACE,OAAOxB,IAAI,CAACK,IAAZ;EACF,IAAIL,IAAI,CAACG,IAAL,KAAc,kBAAlB,EACE,OAAO,KAAKuB,UAAL,CAAgB1B,IAAhB,CAAP;EACF,IAAIA,IAAI,CAACG,IAAL,KAAc,kBAAd,IAAoCH,IAAI,CAAC2B,QAAL,KAAkB,GAA1D,EACE,OAAO,KAAKC,uBAAL,CAA6B5B,IAA7B,CAAP;EACF,IAAIA,IAAI,CAACG,IAAL,KAAc,iBAAlB,EACE,OAAO,KAAK0B,yBAAL,CAA+B7B,IAA/B,CAAP;EACF,OAAO,KAAK8B,sBAAZ;AACD,CAZD;;AAcAhD,eAAe,CAACK,SAAhB,CAA0B4C,kBAA1B,GAA+C,UAASpB,IAAT,EAAeT,MAAf,EAAuBY,IAAvB,EAA6BR,IAA7B,EAAmC;EAChF,OAAO,IAAI0B,uBAAJ,CAAkBrB,IAAlB,EAAwBT,MAAxB,EAAgCY,IAAhC,EAAsCR,IAAtC,CAAP;AACD,CAFD;;AAIAxB,eAAe,CAACK,SAAhB,CAA0B8B,oBAA1B,GAAiD,UAASN,IAAT,EAAeV,QAAf,EAAyBC,MAAzB,EAAiCY,IAAjC,EAAuCR,IAAvC,EAA6C;EAC5F,IAAI2B,IAAI,GAAG,KAAKF,kBAAL,CAAwBpB,IAAxB,EAA8BT,MAA9B,EAAsCY,IAAtC,EAA4CR,IAA5C,CAAX;EACA,IAAId,YAAY,GAAGyC,IAAI,CAACzC,YAAL,EAAnB;;EACA,KAAK,IAAI2B,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG5B,YAAY,CAAC6B,MAAnC,EAA2CF,CAAC,GAAGC,GAA/C,EAAoDD,CAAC,EAArD,EACE,KAAK7B,OAAL,CAAaE,YAAY,CAAC2B,CAAD,CAAZ,CAAgB,CAAhB,CAAb,EAAiC3B,YAAY,CAAC2B,CAAD,CAAZ,CAAgB,CAAhB,CAAjC,EAAqDc,IAArD;AACH,CALD;;AAOAnD,eAAe,CAACK,SAAhB,CAA0BuC,UAA1B,GAAuC,UAAS1B,IAAT,EAAe;EACpD,IAAIS,MAAM,GAAG,EAAb;EACA,IAAIyB,KAAK,GAAGlC,IAAI,CAACmC,UAAjB;EACA,IAAIC,IAAJ;EACA,IAAIC,GAAJ;;EACA,KAAK,IAAIlB,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGc,KAAK,CAACb,MAA5B,EAAoCF,CAAC,GAAGC,GAAxC,EAA6CD,CAAC,EAA9C,EAAkD;IAChDiB,IAAI,GAAGF,KAAK,CAACf,CAAD,CAAZ;IACAkB,GAAG,GAAG,KAAKd,kBAAL,CAAwBa,IAAI,CAACC,GAA7B,EAAkC,IAAlC,CAAN;IACA,IAAI,OAAOA,GAAP,KAAe,QAAnB,EACE,OAAO,KAAKP,sBAAZ;IACFrB,MAAM,CAAC4B,GAAD,CAAN,GAAc,KAAKd,kBAAL,CAAwBa,IAAI,CAACX,KAA7B,CAAd;EACD;;EACD,OAAOhB,MAAP;AACD,CAbD;;AAeA3B,eAAe,CAACK,SAAhB,CAA0ByC,uBAA1B,GAAoD,UAAS5B,IAAT,EAAe;EACjE,IAAIsC,IAAI,GAAG,KAAKf,kBAAL,CAAwBvB,IAAI,CAACsC,IAA7B,CAAX;EACA,IAAIC,KAAK,GAAG,KAAKhB,kBAAL,CAAwBvB,IAAI,CAACuC,KAA7B,CAAZ;EACA,IAAI,OAAOD,IAAP,KAAgB,QAAhB,IAA4B,OAAOC,KAAP,KAAiB,QAAjD,EACE,OAAO,KAAKT,sBAAZ;EACF,OAAOQ,IAAI,GAAGC,KAAd;AACD,CAND;;AAQAzD,eAAe,CAACK,SAAhB,CAA0B0C,yBAA1B,GAAsD,UAAS7B,IAAT,EAAe;EACnE,IAAIA,IAAI,CAACwC,MAAL,CAAYnB,MAAZ,KAAuB,CAAvB,IAA4BrB,IAAI,CAACwC,MAAL,CAAY,CAAZ,EAAerC,IAAf,KAAwB,iBAAxD,EAA2E;IACzE,OAAOH,IAAI,CAACwC,MAAL,CAAY,CAAZ,EAAef,KAAf,CAAqBgB,GAA5B;EACD;;EACD,OAAO,KAAKX,sBAAZ;AACD,CALD;;eAOehD,e"}},"mtime":1653408253237},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/translate_call.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _call_helpers = _interopRequireDefault(require(\"../call_helpers\"));\n\nvar _errors = _interopRequireDefault(require(\"../errors\"));\n\nvar _utils = _interopRequireDefault(require(\"../utils\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction TranslateCall(line, method, args) {\n  this.line = line;\n  this.method = method;\n  this.normalizeArguments(args);\n  this.validate();\n  this.normalize();\n}\n\n_utils.default.extend(TranslateCall.prototype, _call_helpers.default);\n\nTranslateCall.prototype.validate = function () {\n  this.validateKey();\n  this.validateDefault();\n  this.validateOptions();\n};\n\nTranslateCall.prototype.normalize = function () {\n  this.defaultValue = this.normalizeDefault(this.defaultValue, this.options || {});\n};\n\nTranslateCall.prototype.translations = function () {\n  var key = this.key;\n  var defaultValue = this.defaultValue;\n  if (!defaultValue) return [];\n  if (typeof defaultValue === 'string') return [[key, defaultValue]];\n  var translations = [];\n\n  for (var k in defaultValue) {\n    if (defaultValue.hasOwnProperty(k)) {\n      translations.push([key + \".\" + k, defaultValue[k]]);\n    }\n  }\n\n  return translations;\n};\n\nTranslateCall.prototype.validateKey = function () {};\n\nTranslateCall.prototype.validateDefault = function () {\n  var defaultValue = this.defaultValue;\n\n  if (typeof defaultValue === 'object') {\n    var defaultKeys = _utils.default.keys(defaultValue);\n\n    var dKeys;\n    if ((dKeys = _utils.default.difference(defaultKeys, this.ALLOWED_PLURALIZATION_KEYS)).length > 0) throw new _errors.default.InvalidPluralizationKey(this.line, dKeys);\n    if ((dKeys = _utils.default.difference(this.REQUIRED_PLURALIZATION_KEYS, defaultKeys)).length > 0) throw new _errors.default.MissingPluralizationKey(this.line, dKeys);\n\n    for (var k in defaultValue) {\n      if (defaultValue.hasOwnProperty(k)) {\n        var v = defaultValue[k];\n        if (typeof v !== 'string') throw new _errors.default.InvalidPluralizationDefault(this.line);\n        this.validateInterpolationValues(k, v);\n      }\n    }\n  } else {\n    this.validateInterpolationValues(this.key, this.defaultValue);\n  }\n};\n/**\n * Possible translate signatures:\n *\n * key [, options]\n * key, default_string [, options]\n * key, default_object, options\n * default_string [, options]\n * default_object, options\n **/\n\n\nTranslateCall.prototype.normalizeArguments = function (args) {\n  if (!args.length) throw new _errors.default.InvalidSignature(this.line, args);\n  var others = this.inferArguments(args.slice(), this);\n  var key = this.key = others.shift();\n  var options = this.options = others.shift();\n  if (others.length) throw new _errors.default.InvalidSignature(this.line, args);\n  if (typeof key !== 'string') throw new _errors.default.InvalidSignature(this.line, args);\n  if (options && !this.isObject(options)) throw new _errors.default.InvalidSignature(this.line, args);\n\n  if (options) {\n    this.defaultValue = options.defaultValue;\n    delete options.defaultValue;\n  }\n\n  if (!this.validDefault(true)) throw new _errors.default.InvalidSignature(this.line, args);\n};\n\nTranslateCall.prototype.validateInterpolationValues = function (key, defaultValue) {\n  var match;\n  var pattern = /%\\{([^\\}]+)\\}/g;\n  var options = this.options;\n  var placeholder;\n\n  while ((match = pattern.exec(defaultValue)) !== null) {\n    placeholder = match[1];\n    if (!(placeholder in options)) throw new _errors.default.MissingInterpolationValue(this.line, placeholder);\n  }\n};\n\nTranslateCall.prototype.validateOptions = function () {\n  var options = this.options;\n  if (typeof this.defaultValue === 'object' && (!options || !options.count)) throw new _errors.default.MissingCountValue(this.line);\n\n  if (options) {\n    for (var k in options) {\n      if (typeof k !== 'string') throw new _errors.default.InvalidOptionKey(this.line);\n    }\n  }\n};\n\nvar _default = TranslateCall;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUcmFuc2xhdGVDYWxsIiwibGluZSIsIm1ldGhvZCIsImFyZ3MiLCJub3JtYWxpemVBcmd1bWVudHMiLCJ2YWxpZGF0ZSIsIm5vcm1hbGl6ZSIsIlV0aWxzIiwiZXh0ZW5kIiwicHJvdG90eXBlIiwiQ2FsbEhlbHBlcnMiLCJ2YWxpZGF0ZUtleSIsInZhbGlkYXRlRGVmYXVsdCIsInZhbGlkYXRlT3B0aW9ucyIsImRlZmF1bHRWYWx1ZSIsIm5vcm1hbGl6ZURlZmF1bHQiLCJvcHRpb25zIiwidHJhbnNsYXRpb25zIiwia2V5IiwiayIsImhhc093blByb3BlcnR5IiwicHVzaCIsImRlZmF1bHRLZXlzIiwia2V5cyIsImRLZXlzIiwiZGlmZmVyZW5jZSIsIkFMTE9XRURfUExVUkFMSVpBVElPTl9LRVlTIiwibGVuZ3RoIiwiRXJyb3JzIiwiSW52YWxpZFBsdXJhbGl6YXRpb25LZXkiLCJSRVFVSVJFRF9QTFVSQUxJWkFUSU9OX0tFWVMiLCJNaXNzaW5nUGx1cmFsaXphdGlvbktleSIsInYiLCJJbnZhbGlkUGx1cmFsaXphdGlvbkRlZmF1bHQiLCJ2YWxpZGF0ZUludGVycG9sYXRpb25WYWx1ZXMiLCJJbnZhbGlkU2lnbmF0dXJlIiwib3RoZXJzIiwiaW5mZXJBcmd1bWVudHMiLCJzbGljZSIsInNoaWZ0IiwiaXNPYmplY3QiLCJ2YWxpZERlZmF1bHQiLCJtYXRjaCIsInBhdHRlcm4iLCJwbGFjZWhvbGRlciIsImV4ZWMiLCJNaXNzaW5nSW50ZXJwb2xhdGlvblZhbHVlIiwiY291bnQiLCJNaXNzaW5nQ291bnRWYWx1ZSIsIkludmFsaWRPcHRpb25LZXkiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL2xpYi9leHRyYWN0b3JzLyIsInNvdXJjZXMiOlsidHJhbnNsYXRlX2NhbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhbGxIZWxwZXJzIGZyb20gJy4uL2NhbGxfaGVscGVycyc7XG5pbXBvcnQgRXJyb3JzIGZyb20gXCIuLi9lcnJvcnNcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZnVuY3Rpb24gVHJhbnNsYXRlQ2FsbChsaW5lLCBtZXRob2QsIGFyZ3MpIHtcbiAgdGhpcy5saW5lID0gbGluZTtcbiAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG5cbiAgdGhpcy5ub3JtYWxpemVBcmd1bWVudHMoYXJncyk7XG5cbiAgdGhpcy52YWxpZGF0ZSgpO1xuICB0aGlzLm5vcm1hbGl6ZSgpO1xufVxuXG5VdGlscy5leHRlbmQoVHJhbnNsYXRlQ2FsbC5wcm90b3R5cGUsIENhbGxIZWxwZXJzKTtcblxuVHJhbnNsYXRlQ2FsbC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy52YWxpZGF0ZUtleSgpO1xuICB0aGlzLnZhbGlkYXRlRGVmYXVsdCgpO1xuICB0aGlzLnZhbGlkYXRlT3B0aW9ucygpO1xufTtcblxuVHJhbnNsYXRlQ2FsbC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVmYXVsdFZhbHVlID0gdGhpcy5ub3JtYWxpemVEZWZhdWx0KHRoaXMuZGVmYXVsdFZhbHVlLCB0aGlzLm9wdGlvbnMgfHwge30pO1xufTtcblxuVHJhbnNsYXRlQ2FsbC5wcm90b3R5cGUudHJhbnNsYXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHZhciBrZXkgPSB0aGlzLmtleTtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IHRoaXMuZGVmYXVsdFZhbHVlO1xuXG4gIGlmICghZGVmYXVsdFZhbHVlKVxuICAgIHJldHVybiBbXTtcbiAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICdzdHJpbmcnKVxuICAgIHJldHVybiBbW2tleSwgZGVmYXVsdFZhbHVlXV07XG5cbiAgdmFyIHRyYW5zbGF0aW9ucyA9IFtdO1xuICBmb3IgKHZhciBrIGluIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChkZWZhdWx0VmFsdWUuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgIHRyYW5zbGF0aW9ucy5wdXNoKFtrZXkgKyBcIi5cIiArIGssIGRlZmF1bHRWYWx1ZVtrXV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJhbnNsYXRpb25zO1xufTtcblxuVHJhbnNsYXRlQ2FsbC5wcm90b3R5cGUudmFsaWRhdGVLZXkgPSBmdW5jdGlvbigpIHt9O1xuXG5UcmFuc2xhdGVDYWxsLnByb3RvdHlwZS52YWxpZGF0ZURlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IHRoaXMuZGVmYXVsdFZhbHVlO1xuICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGVmYXVsdEtleXMgPSBVdGlscy5rZXlzKGRlZmF1bHRWYWx1ZSk7XG4gICAgdmFyIGRLZXlzO1xuICAgIGlmICgoZEtleXMgPSBVdGlscy5kaWZmZXJlbmNlKGRlZmF1bHRLZXlzLCB0aGlzLkFMTE9XRURfUExVUkFMSVpBVElPTl9LRVlTKSkubGVuZ3RoID4gMClcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuSW52YWxpZFBsdXJhbGl6YXRpb25LZXkodGhpcy5saW5lLCBkS2V5cyk7XG4gICAgaWYgKChkS2V5cyA9IFV0aWxzLmRpZmZlcmVuY2UodGhpcy5SRVFVSVJFRF9QTFVSQUxJWkFUSU9OX0tFWVMsIGRlZmF1bHRLZXlzKSkubGVuZ3RoID4gMClcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuTWlzc2luZ1BsdXJhbGl6YXRpb25LZXkodGhpcy5saW5lLCBkS2V5cyk7XG5cbiAgICBmb3IgKHZhciBrIGluIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICB2YXIgdiA9IGRlZmF1bHRWYWx1ZVtrXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLkludmFsaWRQbHVyYWxpemF0aW9uRGVmYXVsdCh0aGlzLmxpbmUpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlSW50ZXJwb2xhdGlvblZhbHVlcyhrLCB2KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy52YWxpZGF0ZUludGVycG9sYXRpb25WYWx1ZXModGhpcy5rZXksIHRoaXMuZGVmYXVsdFZhbHVlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBQb3NzaWJsZSB0cmFuc2xhdGUgc2lnbmF0dXJlczpcbiAqXG4gKiBrZXkgWywgb3B0aW9uc11cbiAqIGtleSwgZGVmYXVsdF9zdHJpbmcgWywgb3B0aW9uc11cbiAqIGtleSwgZGVmYXVsdF9vYmplY3QsIG9wdGlvbnNcbiAqIGRlZmF1bHRfc3RyaW5nIFssIG9wdGlvbnNdXG4gKiBkZWZhdWx0X29iamVjdCwgb3B0aW9uc1xuICoqL1xuVHJhbnNsYXRlQ2FsbC5wcm90b3R5cGUubm9ybWFsaXplQXJndW1lbnRzID0gZnVuY3Rpb24oYXJncykge1xuICBpZiAoIWFyZ3MubGVuZ3RoKVxuICAgIHRocm93IG5ldyBFcnJvcnMuSW52YWxpZFNpZ25hdHVyZSh0aGlzLmxpbmUsIGFyZ3MpO1xuXG4gIHZhciBvdGhlcnMgPSB0aGlzLmluZmVyQXJndW1lbnRzKGFyZ3Muc2xpY2UoKSwgdGhpcyk7XG4gIHZhciBrZXkgPSB0aGlzLmtleSA9IG90aGVycy5zaGlmdCgpO1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyA9IG90aGVycy5zaGlmdCgpO1xuXG4gIGlmIChvdGhlcnMubGVuZ3RoKVxuICAgIHRocm93IG5ldyBFcnJvcnMuSW52YWxpZFNpZ25hdHVyZSh0aGlzLmxpbmUsIGFyZ3MpO1xuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpXG4gICAgdGhyb3cgbmV3IEVycm9ycy5JbnZhbGlkU2lnbmF0dXJlKHRoaXMubGluZSwgYXJncyk7XG4gIGlmIChvcHRpb25zICYmICF0aGlzLmlzT2JqZWN0KG9wdGlvbnMpKVxuICAgIHRocm93IG5ldyBFcnJvcnMuSW52YWxpZFNpZ25hdHVyZSh0aGlzLmxpbmUsIGFyZ3MpO1xuICBpZiAob3B0aW9ucykge1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gb3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gICAgZGVsZXRlIG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICB9XG4gIGlmICghdGhpcy52YWxpZERlZmF1bHQodHJ1ZSkpXG4gICAgdGhyb3cgbmV3IEVycm9ycy5JbnZhbGlkU2lnbmF0dXJlKHRoaXMubGluZSwgYXJncyk7XG59O1xuXG5UcmFuc2xhdGVDYWxsLnByb3RvdHlwZS52YWxpZGF0ZUludGVycG9sYXRpb25WYWx1ZXMgPSBmdW5jdGlvbihrZXksIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgbWF0Y2g7XG4gIHZhciBwYXR0ZXJuID0gLyVcXHsoW15cXH1dKylcXH0vZztcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gIHZhciBwbGFjZWhvbGRlcjtcbiAgd2hpbGUgKChtYXRjaCA9IHBhdHRlcm4uZXhlYyhkZWZhdWx0VmFsdWUpKSAhPT0gbnVsbCkge1xuICAgIHBsYWNlaG9sZGVyID0gbWF0Y2hbMV07XG4gICAgaWYgKCEocGxhY2Vob2xkZXIgaW4gb3B0aW9ucykpXG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLk1pc3NpbmdJbnRlcnBvbGF0aW9uVmFsdWUodGhpcy5saW5lLCBwbGFjZWhvbGRlcik7XG4gIH1cbn07XG5cblRyYW5zbGF0ZUNhbGwucHJvdG90eXBlLnZhbGlkYXRlT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgaWYgKHR5cGVvZiB0aGlzLmRlZmF1bHRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmNvdW50KSlcbiAgICB0aHJvdyBuZXcgRXJyb3JzLk1pc3NpbmdDb3VudFZhbHVlKHRoaXMubGluZSk7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZm9yICh2YXIgayBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAodHlwZW9mIGsgIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLkludmFsaWRPcHRpb25LZXkodGhpcy5saW5lKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zbGF0ZUNhbGw7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVNBLGFBQVQsQ0FBdUJDLElBQXZCLEVBQTZCQyxNQUE3QixFQUFxQ0MsSUFBckMsRUFBMkM7RUFDekMsS0FBS0YsSUFBTCxHQUFZQSxJQUFaO0VBQ0EsS0FBS0MsTUFBTCxHQUFjQSxNQUFkO0VBRUEsS0FBS0Usa0JBQUwsQ0FBd0JELElBQXhCO0VBRUEsS0FBS0UsUUFBTDtFQUNBLEtBQUtDLFNBQUw7QUFDRDs7QUFFREMsY0FBQSxDQUFNQyxNQUFOLENBQWFSLGFBQWEsQ0FBQ1MsU0FBM0IsRUFBc0NDLHFCQUF0Qzs7QUFFQVYsYUFBYSxDQUFDUyxTQUFkLENBQXdCSixRQUF4QixHQUFtQyxZQUFXO0VBQzVDLEtBQUtNLFdBQUw7RUFDQSxLQUFLQyxlQUFMO0VBQ0EsS0FBS0MsZUFBTDtBQUNELENBSkQ7O0FBTUFiLGFBQWEsQ0FBQ1MsU0FBZCxDQUF3QkgsU0FBeEIsR0FBb0MsWUFBVztFQUM3QyxLQUFLUSxZQUFMLEdBQW9CLEtBQUtDLGdCQUFMLENBQXNCLEtBQUtELFlBQTNCLEVBQXlDLEtBQUtFLE9BQUwsSUFBZ0IsRUFBekQsQ0FBcEI7QUFDRCxDQUZEOztBQUlBaEIsYUFBYSxDQUFDUyxTQUFkLENBQXdCUSxZQUF4QixHQUF1QyxZQUFXO0VBQ2hELElBQUlDLEdBQUcsR0FBRyxLQUFLQSxHQUFmO0VBQ0EsSUFBSUosWUFBWSxHQUFHLEtBQUtBLFlBQXhCO0VBRUEsSUFBSSxDQUFDQSxZQUFMLEVBQ0UsT0FBTyxFQUFQO0VBQ0YsSUFBSSxPQUFPQSxZQUFQLEtBQXdCLFFBQTVCLEVBQ0UsT0FBTyxDQUFDLENBQUNJLEdBQUQsRUFBTUosWUFBTixDQUFELENBQVA7RUFFRixJQUFJRyxZQUFZLEdBQUcsRUFBbkI7O0VBQ0EsS0FBSyxJQUFJRSxDQUFULElBQWNMLFlBQWQsRUFBNEI7SUFDMUIsSUFBSUEsWUFBWSxDQUFDTSxjQUFiLENBQTRCRCxDQUE1QixDQUFKLEVBQW9DO01BQ2xDRixZQUFZLENBQUNJLElBQWIsQ0FBa0IsQ0FBQ0gsR0FBRyxHQUFHLEdBQU4sR0FBWUMsQ0FBYixFQUFnQkwsWUFBWSxDQUFDSyxDQUFELENBQTVCLENBQWxCO0lBQ0Q7RUFDRjs7RUFDRCxPQUFPRixZQUFQO0FBQ0QsQ0FoQkQ7O0FBa0JBakIsYUFBYSxDQUFDUyxTQUFkLENBQXdCRSxXQUF4QixHQUFzQyxZQUFXLENBQUUsQ0FBbkQ7O0FBRUFYLGFBQWEsQ0FBQ1MsU0FBZCxDQUF3QkcsZUFBeEIsR0FBMEMsWUFBVztFQUNuRCxJQUFJRSxZQUFZLEdBQUcsS0FBS0EsWUFBeEI7O0VBQ0EsSUFBSSxPQUFPQSxZQUFQLEtBQXdCLFFBQTVCLEVBQXNDO0lBQ3BDLElBQUlRLFdBQVcsR0FBR2YsY0FBQSxDQUFNZ0IsSUFBTixDQUFXVCxZQUFYLENBQWxCOztJQUNBLElBQUlVLEtBQUo7SUFDQSxJQUFJLENBQUNBLEtBQUssR0FBR2pCLGNBQUEsQ0FBTWtCLFVBQU4sQ0FBaUJILFdBQWpCLEVBQThCLEtBQUtJLDBCQUFuQyxDQUFULEVBQXlFQyxNQUF6RSxHQUFrRixDQUF0RixFQUNFLE1BQU0sSUFBSUMsZUFBQSxDQUFPQyx1QkFBWCxDQUFtQyxLQUFLNUIsSUFBeEMsRUFBOEN1QixLQUE5QyxDQUFOO0lBQ0YsSUFBSSxDQUFDQSxLQUFLLEdBQUdqQixjQUFBLENBQU1rQixVQUFOLENBQWlCLEtBQUtLLDJCQUF0QixFQUFtRFIsV0FBbkQsQ0FBVCxFQUEwRUssTUFBMUUsR0FBbUYsQ0FBdkYsRUFDRSxNQUFNLElBQUlDLGVBQUEsQ0FBT0csdUJBQVgsQ0FBbUMsS0FBSzlCLElBQXhDLEVBQThDdUIsS0FBOUMsQ0FBTjs7SUFFRixLQUFLLElBQUlMLENBQVQsSUFBY0wsWUFBZCxFQUE0QjtNQUMxQixJQUFJQSxZQUFZLENBQUNNLGNBQWIsQ0FBNEJELENBQTVCLENBQUosRUFBb0M7UUFDbEMsSUFBSWEsQ0FBQyxHQUFHbEIsWUFBWSxDQUFDSyxDQUFELENBQXBCO1FBQ0EsSUFBSSxPQUFPYSxDQUFQLEtBQWEsUUFBakIsRUFDRSxNQUFNLElBQUlKLGVBQUEsQ0FBT0ssMkJBQVgsQ0FBdUMsS0FBS2hDLElBQTVDLENBQU47UUFDRixLQUFLaUMsMkJBQUwsQ0FBaUNmLENBQWpDLEVBQW9DYSxDQUFwQztNQUNEO0lBQ0Y7RUFDRixDQWhCRCxNQWlCSztJQUNILEtBQUtFLDJCQUFMLENBQWlDLEtBQUtoQixHQUF0QyxFQUEyQyxLQUFLSixZQUFoRDtFQUNEO0FBQ0YsQ0F0QkQ7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQWQsYUFBYSxDQUFDUyxTQUFkLENBQXdCTCxrQkFBeEIsR0FBNkMsVUFBU0QsSUFBVCxFQUFlO0VBQzFELElBQUksQ0FBQ0EsSUFBSSxDQUFDd0IsTUFBVixFQUNFLE1BQU0sSUFBSUMsZUFBQSxDQUFPTyxnQkFBWCxDQUE0QixLQUFLbEMsSUFBakMsRUFBdUNFLElBQXZDLENBQU47RUFFRixJQUFJaUMsTUFBTSxHQUFHLEtBQUtDLGNBQUwsQ0FBb0JsQyxJQUFJLENBQUNtQyxLQUFMLEVBQXBCLEVBQWtDLElBQWxDLENBQWI7RUFDQSxJQUFJcEIsR0FBRyxHQUFHLEtBQUtBLEdBQUwsR0FBV2tCLE1BQU0sQ0FBQ0csS0FBUCxFQUFyQjtFQUNBLElBQUl2QixPQUFPLEdBQUcsS0FBS0EsT0FBTCxHQUFlb0IsTUFBTSxDQUFDRyxLQUFQLEVBQTdCO0VBRUEsSUFBSUgsTUFBTSxDQUFDVCxNQUFYLEVBQ0UsTUFBTSxJQUFJQyxlQUFBLENBQU9PLGdCQUFYLENBQTRCLEtBQUtsQyxJQUFqQyxFQUF1Q0UsSUFBdkMsQ0FBTjtFQUNGLElBQUksT0FBT2UsR0FBUCxLQUFlLFFBQW5CLEVBQ0UsTUFBTSxJQUFJVSxlQUFBLENBQU9PLGdCQUFYLENBQTRCLEtBQUtsQyxJQUFqQyxFQUF1Q0UsSUFBdkMsQ0FBTjtFQUNGLElBQUlhLE9BQU8sSUFBSSxDQUFDLEtBQUt3QixRQUFMLENBQWN4QixPQUFkLENBQWhCLEVBQ0UsTUFBTSxJQUFJWSxlQUFBLENBQU9PLGdCQUFYLENBQTRCLEtBQUtsQyxJQUFqQyxFQUF1Q0UsSUFBdkMsQ0FBTjs7RUFDRixJQUFJYSxPQUFKLEVBQWE7SUFDWCxLQUFLRixZQUFMLEdBQW9CRSxPQUFPLENBQUNGLFlBQTVCO0lBQ0EsT0FBT0UsT0FBTyxDQUFDRixZQUFmO0VBQ0Q7O0VBQ0QsSUFBSSxDQUFDLEtBQUsyQixZQUFMLENBQWtCLElBQWxCLENBQUwsRUFDRSxNQUFNLElBQUliLGVBQUEsQ0FBT08sZ0JBQVgsQ0FBNEIsS0FBS2xDLElBQWpDLEVBQXVDRSxJQUF2QyxDQUFOO0FBQ0gsQ0FwQkQ7O0FBc0JBSCxhQUFhLENBQUNTLFNBQWQsQ0FBd0J5QiwyQkFBeEIsR0FBc0QsVUFBU2hCLEdBQVQsRUFBY0osWUFBZCxFQUE0QjtFQUNoRixJQUFJNEIsS0FBSjtFQUNBLElBQUlDLE9BQU8sR0FBRyxnQkFBZDtFQUNBLElBQUkzQixPQUFPLEdBQUcsS0FBS0EsT0FBbkI7RUFDQSxJQUFJNEIsV0FBSjs7RUFDQSxPQUFPLENBQUNGLEtBQUssR0FBR0MsT0FBTyxDQUFDRSxJQUFSLENBQWEvQixZQUFiLENBQVQsTUFBeUMsSUFBaEQsRUFBc0Q7SUFDcEQ4QixXQUFXLEdBQUdGLEtBQUssQ0FBQyxDQUFELENBQW5CO0lBQ0EsSUFBSSxFQUFFRSxXQUFXLElBQUk1QixPQUFqQixDQUFKLEVBQ0UsTUFBTSxJQUFJWSxlQUFBLENBQU9rQix5QkFBWCxDQUFxQyxLQUFLN0MsSUFBMUMsRUFBZ0QyQyxXQUFoRCxDQUFOO0VBQ0g7QUFDRixDQVZEOztBQVlBNUMsYUFBYSxDQUFDUyxTQUFkLENBQXdCSSxlQUF4QixHQUEwQyxZQUFXO0VBQ25ELElBQUlHLE9BQU8sR0FBRyxLQUFLQSxPQUFuQjtFQUNBLElBQUksT0FBTyxLQUFLRixZQUFaLEtBQTZCLFFBQTdCLEtBQTBDLENBQUNFLE9BQUQsSUFBWSxDQUFDQSxPQUFPLENBQUMrQixLQUEvRCxDQUFKLEVBQ0UsTUFBTSxJQUFJbkIsZUFBQSxDQUFPb0IsaUJBQVgsQ0FBNkIsS0FBSy9DLElBQWxDLENBQU47O0VBQ0YsSUFBSWUsT0FBSixFQUFhO0lBQ1gsS0FBSyxJQUFJRyxDQUFULElBQWNILE9BQWQsRUFBdUI7TUFDckIsSUFBSSxPQUFPRyxDQUFQLEtBQWEsUUFBakIsRUFDRSxNQUFNLElBQUlTLGVBQUEsQ0FBT3FCLGdCQUFYLENBQTRCLEtBQUtoRCxJQUFqQyxDQUFOO0lBQ0g7RUFDRjtBQUNGLENBVkQ7O2VBWWVELGEifQ==","map":{"version":3,"names":["TranslateCall","line","method","args","normalizeArguments","validate","normalize","Utils","extend","prototype","CallHelpers","validateKey","validateDefault","validateOptions","defaultValue","normalizeDefault","options","translations","key","k","hasOwnProperty","push","defaultKeys","keys","dKeys","difference","ALLOWED_PLURALIZATION_KEYS","length","Errors","InvalidPluralizationKey","REQUIRED_PLURALIZATION_KEYS","MissingPluralizationKey","v","InvalidPluralizationDefault","validateInterpolationValues","InvalidSignature","others","inferArguments","slice","shift","isObject","validDefault","match","pattern","placeholder","exec","MissingInterpolationValue","count","MissingCountValue","InvalidOptionKey"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extractors/","sources":["translate_call.js"],"sourcesContent":["import CallHelpers from '../call_helpers';\nimport Errors from \"../errors\";\nimport Utils from \"../utils\";\n\nfunction TranslateCall(line, method, args) {\n  this.line = line;\n  this.method = method;\n\n  this.normalizeArguments(args);\n\n  this.validate();\n  this.normalize();\n}\n\nUtils.extend(TranslateCall.prototype, CallHelpers);\n\nTranslateCall.prototype.validate = function() {\n  this.validateKey();\n  this.validateDefault();\n  this.validateOptions();\n};\n\nTranslateCall.prototype.normalize = function() {\n  this.defaultValue = this.normalizeDefault(this.defaultValue, this.options || {});\n};\n\nTranslateCall.prototype.translations = function() {\n  var key = this.key;\n  var defaultValue = this.defaultValue;\n\n  if (!defaultValue)\n    return [];\n  if (typeof defaultValue === 'string')\n    return [[key, defaultValue]];\n\n  var translations = [];\n  for (var k in defaultValue) {\n    if (defaultValue.hasOwnProperty(k)) {\n      translations.push([key + \".\" + k, defaultValue[k]]);\n    }\n  }\n  return translations;\n};\n\nTranslateCall.prototype.validateKey = function() {};\n\nTranslateCall.prototype.validateDefault = function() {\n  var defaultValue = this.defaultValue;\n  if (typeof defaultValue === 'object') {\n    var defaultKeys = Utils.keys(defaultValue);\n    var dKeys;\n    if ((dKeys = Utils.difference(defaultKeys, this.ALLOWED_PLURALIZATION_KEYS)).length > 0)\n      throw new Errors.InvalidPluralizationKey(this.line, dKeys);\n    if ((dKeys = Utils.difference(this.REQUIRED_PLURALIZATION_KEYS, defaultKeys)).length > 0)\n      throw new Errors.MissingPluralizationKey(this.line, dKeys);\n\n    for (var k in defaultValue) {\n      if (defaultValue.hasOwnProperty(k)) {\n        var v = defaultValue[k];\n        if (typeof v !== 'string')\n          throw new Errors.InvalidPluralizationDefault(this.line);\n        this.validateInterpolationValues(k, v);\n      }\n    }\n  }\n  else {\n    this.validateInterpolationValues(this.key, this.defaultValue);\n  }\n};\n\n/**\n * Possible translate signatures:\n *\n * key [, options]\n * key, default_string [, options]\n * key, default_object, options\n * default_string [, options]\n * default_object, options\n **/\nTranslateCall.prototype.normalizeArguments = function(args) {\n  if (!args.length)\n    throw new Errors.InvalidSignature(this.line, args);\n\n  var others = this.inferArguments(args.slice(), this);\n  var key = this.key = others.shift();\n  var options = this.options = others.shift();\n\n  if (others.length)\n    throw new Errors.InvalidSignature(this.line, args);\n  if (typeof key !== 'string')\n    throw new Errors.InvalidSignature(this.line, args);\n  if (options && !this.isObject(options))\n    throw new Errors.InvalidSignature(this.line, args);\n  if (options) {\n    this.defaultValue = options.defaultValue;\n    delete options.defaultValue;\n  }\n  if (!this.validDefault(true))\n    throw new Errors.InvalidSignature(this.line, args);\n};\n\nTranslateCall.prototype.validateInterpolationValues = function(key, defaultValue) {\n  var match;\n  var pattern = /%\\{([^\\}]+)\\}/g;\n  var options = this.options;\n  var placeholder;\n  while ((match = pattern.exec(defaultValue)) !== null) {\n    placeholder = match[1];\n    if (!(placeholder in options))\n      throw new Errors.MissingInterpolationValue(this.line, placeholder);\n  }\n};\n\nTranslateCall.prototype.validateOptions = function() {\n  var options = this.options;\n  if (typeof this.defaultValue === 'object' && (!options || !options.count))\n    throw new Errors.MissingCountValue(this.line);\n  if (options) {\n    for (var k in options) {\n      if (typeof k !== 'string')\n        throw new Errors.InvalidOptionKey(this.line);\n    }\n  }\n};\n\nexport default TranslateCall;\n"],"mappings":"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"}},"mtime":1653408253237},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/ts_processor.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _parser = require(\"@babel/parser\");\n\nvar _js_processor = _interopRequireDefault(require(\"./js_processor\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../i18nliner\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction TsProcessor(translations, options) {\n  _js_processor.default.call(this, translations, options);\n}\n\nTsProcessor.prototype = Object.create(_js_processor.default.prototype);\nTsProcessor.prototype.constructor = TsProcessor;\nTsProcessor.prototype.defaultPattern = [\"**/*.ts\", \"**/*.tsx\"];\n\nTsProcessor.prototype.parse = function (source) {\n  return (0, _parser.parse)(source, {\n    plugins: [..._i18nliner.default.config.babylonPlugins, \"typescript\"],\n    sourceType: \"module\"\n  });\n};\n\nvar _default = TsProcessor;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUc1Byb2Nlc3NvciIsInRyYW5zbGF0aW9ucyIsIm9wdGlvbnMiLCJKc1Byb2Nlc3NvciIsImNhbGwiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImRlZmF1bHRQYXR0ZXJuIiwicGFyc2UiLCJzb3VyY2UiLCJwbHVnaW5zIiwiSTE4bmxpbmVyIiwiY29uZmlnIiwiYmFieWxvblBsdWdpbnMiLCJzb3VyY2VUeXBlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci9saWIvcHJvY2Vzc29ycy8iLCJzb3VyY2VzIjpbInRzX3Byb2Nlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJAYmFiZWwvcGFyc2VyXCI7XG5pbXBvcnQgSnNQcm9jZXNzb3IgZnJvbSBcIi4vanNfcHJvY2Vzc29yXCI7XG5pbXBvcnQgSTE4bmxpbmVyIGZyb20gXCIuLi9pMThubGluZXJcIjtcblxuZnVuY3Rpb24gVHNQcm9jZXNzb3IodHJhbnNsYXRpb25zLCBvcHRpb25zKSB7XG4gIEpzUHJvY2Vzc29yLmNhbGwodGhpcywgdHJhbnNsYXRpb25zLCBvcHRpb25zKTtcbn1cblxuVHNQcm9jZXNzb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShKc1Byb2Nlc3Nvci5wcm90b3R5cGUpO1xuVHNQcm9jZXNzb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHNQcm9jZXNzb3I7XG5Uc1Byb2Nlc3Nvci5wcm90b3R5cGUuZGVmYXVsdFBhdHRlcm4gPSBbXCIqKi8qLnRzXCIsIFwiKiovKi50c3hcIl07XG5cblRzUHJvY2Vzc29yLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgcmV0dXJuIHBhcnNlKHNvdXJjZSwge1xuICAgIHBsdWdpbnM6IFsuLi5JMThubGluZXIuY29uZmlnLmJhYnlsb25QbHVnaW5zLCBcInR5cGVzY3JpcHRcIl0sXG4gICAgc291cmNlVHlwZTogXCJtb2R1bGVcIixcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUc1Byb2Nlc3NvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsU0FBU0EsV0FBVCxDQUFxQkMsWUFBckIsRUFBbUNDLE9BQW5DLEVBQTRDO0VBQzFDQyxxQkFBQSxDQUFZQyxJQUFaLENBQWlCLElBQWpCLEVBQXVCSCxZQUF2QixFQUFxQ0MsT0FBckM7QUFDRDs7QUFFREYsV0FBVyxDQUFDSyxTQUFaLEdBQXdCQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0oscUJBQUEsQ0FBWUUsU0FBMUIsQ0FBeEI7QUFDQUwsV0FBVyxDQUFDSyxTQUFaLENBQXNCRyxXQUF0QixHQUFvQ1IsV0FBcEM7QUFDQUEsV0FBVyxDQUFDSyxTQUFaLENBQXNCSSxjQUF0QixHQUF1QyxDQUFDLFNBQUQsRUFBWSxVQUFaLENBQXZDOztBQUVBVCxXQUFXLENBQUNLLFNBQVosQ0FBc0JLLEtBQXRCLEdBQThCLFVBQVVDLE1BQVYsRUFBa0I7RUFDOUMsT0FBTyxJQUFBRCxhQUFBLEVBQU1DLE1BQU4sRUFBYztJQUNuQkMsT0FBTyxFQUFFLENBQUMsR0FBR0Msa0JBQUEsQ0FBVUMsTUFBVixDQUFpQkMsY0FBckIsRUFBcUMsWUFBckMsQ0FEVTtJQUVuQkMsVUFBVSxFQUFFO0VBRk8sQ0FBZCxDQUFQO0FBSUQsQ0FMRDs7ZUFPZWhCLFcifQ==","map":{"version":3,"names":["TsProcessor","translations","options","JsProcessor","call","prototype","Object","create","constructor","defaultPattern","parse","source","plugins","I18nliner","config","babylonPlugins","sourceType"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/processors/","sources":["ts_processor.js"],"sourcesContent":["import { parse } from \"@babel/parser\";\nimport JsProcessor from \"./js_processor\";\nimport I18nliner from \"../i18nliner\";\n\nfunction TsProcessor(translations, options) {\n  JsProcessor.call(this, translations, options);\n}\n\nTsProcessor.prototype = Object.create(JsProcessor.prototype);\nTsProcessor.prototype.constructor = TsProcessor;\nTsProcessor.prototype.defaultPattern = [\"**/*.ts\", \"**/*.tsx\"];\n\nTsProcessor.prototype.parse = function (source) {\n  return parse(source, {\n    plugins: [...I18nliner.config.babylonPlugins, \"typescript\"],\n    sourceType: \"module\",\n  });\n};\n\nexport default TsProcessor;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,SAASA,WAAT,CAAqBC,YAArB,EAAmCC,OAAnC,EAA4C;EAC1CC,qBAAA,CAAYC,IAAZ,CAAiB,IAAjB,EAAuBH,YAAvB,EAAqCC,OAArC;AACD;;AAEDF,WAAW,CAACK,SAAZ,GAAwBC,MAAM,CAACC,MAAP,CAAcJ,qBAAA,CAAYE,SAA1B,CAAxB;AACAL,WAAW,CAACK,SAAZ,CAAsBG,WAAtB,GAAoCR,WAApC;AACAA,WAAW,CAACK,SAAZ,CAAsBI,cAAtB,GAAuC,CAAC,SAAD,EAAY,UAAZ,CAAvC;;AAEAT,WAAW,CAACK,SAAZ,CAAsBK,KAAtB,GAA8B,UAAUC,MAAV,EAAkB;EAC9C,OAAO,IAAAD,aAAA,EAAMC,MAAN,EAAc;IACnBC,OAAO,EAAE,CAAC,GAAGC,kBAAA,CAAUC,MAAV,CAAiBC,cAArB,EAAqC,YAArC,CADU;IAEnBC,UAAU,EAAE;EAFO,CAAd,CAAP;AAID,CALD;;eAOehB,W"}},"mtime":1643726428440},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/commands/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/commands/export_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _export = _interopRequireDefault(require(\"../../lib/commands/export\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../../lib/i18nliner\"));\n\nvar _chai = require(\"chai\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _temp = _interopRequireDefault(require(\"temp\"));\n\nvar _rimraf = _interopRequireDefault(require(\"rimraf\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, it */\ndescribe('Export', function () {\n  describe(\".run\", function () {\n    it(\"should dump translations in utf8\", function () {\n      var tmpDir = _temp.default.mkdirSync();\n\n      _i18nliner.default.set('basePath', tmpDir, function () {\n        var exporter = new _export.default({\n          silent: true\n        });\n\n        exporter.checkFiles = function () {\n          this.translations = {\n            translations: {\n              i18n: \"Iñtërnâtiônàlizætiøn\"\n            }\n          };\n        };\n\n        exporter.run();\n\n        _chai.assert.deepEqual({\n          en: {\n            i18n: \"Iñtërnâtiônàlizætiøn\"\n          }\n        }, JSON.parse(_fs.default.readFileSync(exporter.outputFile)));\n      });\n\n      _rimraf.default.sync(tmpDir);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwidG1wRGlyIiwidGVtcCIsIm1rZGlyU3luYyIsIkkxOG5saW5lciIsInNldCIsImV4cG9ydGVyIiwiRXhwb3J0Iiwic2lsZW50IiwiY2hlY2tGaWxlcyIsInRyYW5zbGF0aW9ucyIsImkxOG4iLCJydW4iLCJhc3NlcnQiLCJkZWVwRXF1YWwiLCJlbiIsIkpTT04iLCJwYXJzZSIsImZzIiwicmVhZEZpbGVTeW5jIiwib3V0cHV0RmlsZSIsInJpbXJhZiIsInN5bmMiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL3Rlc3QvY29tbWFuZHMvIiwic291cmNlcyI6WyJleHBvcnRfdGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgZGVzY3JpYmUsIGl0ICovXG5cbmltcG9ydCBFeHBvcnQgZnJvbSAnLi4vLi4vbGliL2NvbW1hbmRzL2V4cG9ydCc7XG5pbXBvcnQgSTE4bmxpbmVyIGZyb20gJy4uLy4uL2xpYi9pMThubGluZXInO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gXCJjaGFpXCI7XG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgdGVtcCBmcm9tIFwidGVtcFwiO1xuaW1wb3J0IHJpbXJhZiBmcm9tIFwicmltcmFmXCI7XG5cbmRlc2NyaWJlKCdFeHBvcnQnLCBmdW5jdGlvbigpIHtcbiAgZGVzY3JpYmUoXCIucnVuXCIsIGZ1bmN0aW9uKCkge1xuICAgIGl0KFwic2hvdWxkIGR1bXAgdHJhbnNsYXRpb25zIGluIHV0ZjhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdG1wRGlyID0gdGVtcC5ta2RpclN5bmMoKTtcbiAgICAgIEkxOG5saW5lci5zZXQoJ2Jhc2VQYXRoJywgdG1wRGlyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV4cG9ydGVyID0gbmV3IEV4cG9ydCh7c2lsZW50OiB0cnVlfSk7XG4gICAgICAgIGV4cG9ydGVyLmNoZWNrRmlsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zbGF0aW9ucyA9IHt0cmFuc2xhdGlvbnM6IHtpMThuOiBcIknDsXTDq3Juw6J0acO0bsOgbGl6w6Z0acO4blwifX07XG4gICAgICAgIH07XG4gICAgICAgIGV4cG9ydGVyLnJ1bigpO1xuICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICAgIHtlbjoge2kxOG46IFwiScOxdMOrcm7DonRpw7Ruw6BsaXrDpnRpw7huXCJ9fSxcbiAgICAgICAgICBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhleHBvcnRlci5vdXRwdXRGaWxlKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgcmltcmFmLnN5bmModG1wRGlyKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuIl0sIm1hcHBpbmdzIjoiOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBUEE7QUFTQUEsUUFBUSxDQUFDLFFBQUQsRUFBVyxZQUFXO0VBQzVCQSxRQUFRLENBQUMsTUFBRCxFQUFTLFlBQVc7SUFDMUJDLEVBQUUsQ0FBQyxrQ0FBRCxFQUFxQyxZQUFXO01BQ2hELElBQUlDLE1BQU0sR0FBR0MsYUFBQSxDQUFLQyxTQUFMLEVBQWI7O01BQ0FDLGtCQUFBLENBQVVDLEdBQVYsQ0FBYyxVQUFkLEVBQTBCSixNQUExQixFQUFrQyxZQUFXO1FBQzNDLElBQUlLLFFBQVEsR0FBRyxJQUFJQyxlQUFKLENBQVc7VUFBQ0MsTUFBTSxFQUFFO1FBQVQsQ0FBWCxDQUFmOztRQUNBRixRQUFRLENBQUNHLFVBQVQsR0FBc0IsWUFBVztVQUMvQixLQUFLQyxZQUFMLEdBQW9CO1lBQUNBLFlBQVksRUFBRTtjQUFDQyxJQUFJLEVBQUU7WUFBUDtVQUFmLENBQXBCO1FBQ0QsQ0FGRDs7UUFHQUwsUUFBUSxDQUFDTSxHQUFUOztRQUNBQyxZQUFBLENBQU9DLFNBQVAsQ0FDRTtVQUFDQyxFQUFFLEVBQUU7WUFBQ0osSUFBSSxFQUFFO1VBQVA7UUFBTCxDQURGLEVBRUVLLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxXQUFBLENBQUdDLFlBQUgsQ0FBZ0JiLFFBQVEsQ0FBQ2MsVUFBekIsQ0FBWCxDQUZGO01BSUQsQ0FWRDs7TUFXQUMsZUFBQSxDQUFPQyxJQUFQLENBQVlyQixNQUFaO0lBQ0QsQ0FkQyxDQUFGO0VBZUQsQ0FoQk8sQ0FBUjtBQWlCRCxDQWxCTyxDQUFSIn0=","map":{"version":3,"names":["describe","it","tmpDir","temp","mkdirSync","I18nliner","set","exporter","Export","silent","checkFiles","translations","i18n","run","assert","deepEqual","en","JSON","parse","fs","readFileSync","outputFile","rimraf","sync"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/commands/","sources":["export_test.js"],"sourcesContent":["/* global describe, it */\n\nimport Export from '../../lib/commands/export';\nimport I18nliner from '../../lib/i18nliner';\nimport {assert} from \"chai\";\nimport fs from \"fs\";\nimport temp from \"temp\";\nimport rimraf from \"rimraf\";\n\ndescribe('Export', function() {\n  describe(\".run\", function() {\n    it(\"should dump translations in utf8\", function() {\n      var tmpDir = temp.mkdirSync();\n      I18nliner.set('basePath', tmpDir, function() {\n        var exporter = new Export({silent: true});\n        exporter.checkFiles = function() {\n          this.translations = {translations: {i18n: \"Iñtërnâtiônàlizætiøn\"}};\n        };\n        exporter.run();\n        assert.deepEqual(\n          {en: {i18n: \"Iñtërnâtiônàlizætiøn\"}},\n          JSON.parse(fs.readFileSync(exporter.outputFile))\n        );\n      });\n      rimraf.sync(tmpDir);\n    });\n  });\n});\n\n"],"mappings":";;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAPA;AASAA,QAAQ,CAAC,QAAD,EAAW,YAAW;EAC5BA,QAAQ,CAAC,MAAD,EAAS,YAAW;IAC1BC,EAAE,CAAC,kCAAD,EAAqC,YAAW;MAChD,IAAIC,MAAM,GAAGC,aAAA,CAAKC,SAAL,EAAb;;MACAC,kBAAA,CAAUC,GAAV,CAAc,UAAd,EAA0BJ,MAA1B,EAAkC,YAAW;QAC3C,IAAIK,QAAQ,GAAG,IAAIC,eAAJ,CAAW;UAACC,MAAM,EAAE;QAAT,CAAX,CAAf;;QACAF,QAAQ,CAACG,UAAT,GAAsB,YAAW;UAC/B,KAAKC,YAAL,GAAoB;YAACA,YAAY,EAAE;cAACC,IAAI,EAAE;YAAP;UAAf,CAApB;QACD,CAFD;;QAGAL,QAAQ,CAACM,GAAT;;QACAC,YAAA,CAAOC,SAAP,CACE;UAACC,EAAE,EAAE;YAACJ,IAAI,EAAE;UAAP;QAAL,CADF,EAEEK,IAAI,CAACC,KAAL,CAAWC,WAAA,CAAGC,YAAH,CAAgBb,QAAQ,CAACc,UAAzB,CAAX,CAFF;MAID,CAVD;;MAWAC,eAAA,CAAOC,IAAP,CAAYrB,MAAZ;IACD,CAdC,CAAF;EAeD,CAhBO,CAAR;AAiBD,CAlBO,CAAR"}},"mtime":1643211188002},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/export.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _mkdirp = _interopRequireDefault(require(\"mkdirp\"));\n\nvar _check = _interopRequireDefault(require(\"./check\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../../lib/i18nliner\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Export(options) {\n  _check.default.call(this, options);\n}\n\nExport.prototype = Object.create(_check.default.prototype);\nExport.prototype.constructor = Export;\n\nExport.prototype.run = function () {\n  var success = _check.default.prototype.run.call(this);\n\n  var locale = 'en';\n  var translations = {};\n  translations[locale] = this.translations.translations;\n  this.outputFile = _i18nliner.default.config.basePath + '/' + (this.options.outputFile || \"config/locales/generated/\" + locale + \".json\");\n\n  _mkdirp.default.sync(this.outputFile.replace(/\\/[^\\/]+$/, ''));\n\n  if (success) {\n    _fs.default.writeFileSync(this.outputFile, JSON.stringify(translations));\n\n    this.print(\"Wrote default translations to \" + this.outputFile + \"\\n\");\n  }\n\n  return success;\n};\n\nvar _default = Export;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFeHBvcnQiLCJvcHRpb25zIiwiQ2hlY2siLCJjYWxsIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJydW4iLCJzdWNjZXNzIiwibG9jYWxlIiwidHJhbnNsYXRpb25zIiwib3V0cHV0RmlsZSIsIkkxOG5saW5lciIsImNvbmZpZyIsImJhc2VQYXRoIiwibWtkaXJwIiwic3luYyIsInJlcGxhY2UiLCJmcyIsIndyaXRlRmlsZVN5bmMiLCJKU09OIiwic3RyaW5naWZ5IiwicHJpbnQiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL2xpYi9jb21tYW5kcy8iLCJzb3VyY2VzIjpbImV4cG9ydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgbWtkaXJwIGZyb20gXCJta2RpcnBcIjtcbmltcG9ydCBDaGVjayBmcm9tIFwiLi9jaGVja1wiO1xuaW1wb3J0IEkxOG5saW5lciBmcm9tICcuLi8uLi9saWIvaTE4bmxpbmVyJztcblxuZnVuY3Rpb24gRXhwb3J0KG9wdGlvbnMpIHtcbiAgQ2hlY2suY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuRXhwb3J0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2hlY2sucHJvdG90eXBlKTtcbkV4cG9ydC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFeHBvcnQ7XG5cbkV4cG9ydC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdWNjZXNzID0gQ2hlY2sucHJvdG90eXBlLnJ1bi5jYWxsKHRoaXMpO1xuICB2YXIgbG9jYWxlID0gJ2VuJztcbiAgdmFyIHRyYW5zbGF0aW9ucyA9IHt9O1xuICB0cmFuc2xhdGlvbnNbbG9jYWxlXSA9IHRoaXMudHJhbnNsYXRpb25zLnRyYW5zbGF0aW9ucztcbiAgdGhpcy5vdXRwdXRGaWxlID0gSTE4bmxpbmVyLmNvbmZpZy5iYXNlUGF0aCArICcvJyArICh0aGlzLm9wdGlvbnMub3V0cHV0RmlsZSB8fCBcImNvbmZpZy9sb2NhbGVzL2dlbmVyYXRlZC9cIiArIGxvY2FsZSArIFwiLmpzb25cIik7XG4gIG1rZGlycC5zeW5jKHRoaXMub3V0cHV0RmlsZS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sICcnKSk7XG4gIGlmIChzdWNjZXNzKSB7XG4gICAgZnMud3JpdGVGaWxlU3luYyh0aGlzLm91dHB1dEZpbGUsIEpTT04uc3RyaW5naWZ5KHRyYW5zbGF0aW9ucykpO1xuICAgIHRoaXMucHJpbnQoXCJXcm90ZSBkZWZhdWx0IHRyYW5zbGF0aW9ucyB0byBcIiArIHRoaXMub3V0cHV0RmlsZSArIFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBzdWNjZXNzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRXhwb3J0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxTQUFTQSxNQUFULENBQWdCQyxPQUFoQixFQUF5QjtFQUN2QkMsY0FBQSxDQUFNQyxJQUFOLENBQVcsSUFBWCxFQUFpQkYsT0FBakI7QUFDRDs7QUFFREQsTUFBTSxDQUFDSSxTQUFQLEdBQW1CQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0osY0FBQSxDQUFNRSxTQUFwQixDQUFuQjtBQUNBSixNQUFNLENBQUNJLFNBQVAsQ0FBaUJHLFdBQWpCLEdBQStCUCxNQUEvQjs7QUFFQUEsTUFBTSxDQUFDSSxTQUFQLENBQWlCSSxHQUFqQixHQUF1QixZQUFXO0VBQ2hDLElBQUlDLE9BQU8sR0FBR1AsY0FBQSxDQUFNRSxTQUFOLENBQWdCSSxHQUFoQixDQUFvQkwsSUFBcEIsQ0FBeUIsSUFBekIsQ0FBZDs7RUFDQSxJQUFJTyxNQUFNLEdBQUcsSUFBYjtFQUNBLElBQUlDLFlBQVksR0FBRyxFQUFuQjtFQUNBQSxZQUFZLENBQUNELE1BQUQsQ0FBWixHQUF1QixLQUFLQyxZQUFMLENBQWtCQSxZQUF6QztFQUNBLEtBQUtDLFVBQUwsR0FBa0JDLGtCQUFBLENBQVVDLE1BQVYsQ0FBaUJDLFFBQWpCLEdBQTRCLEdBQTVCLElBQW1DLEtBQUtkLE9BQUwsQ0FBYVcsVUFBYixJQUEyQiw4QkFBOEJGLE1BQTlCLEdBQXVDLE9BQXJHLENBQWxCOztFQUNBTSxlQUFBLENBQU9DLElBQVAsQ0FBWSxLQUFLTCxVQUFMLENBQWdCTSxPQUFoQixDQUF3QixXQUF4QixFQUFxQyxFQUFyQyxDQUFaOztFQUNBLElBQUlULE9BQUosRUFBYTtJQUNYVSxXQUFBLENBQUdDLGFBQUgsQ0FBaUIsS0FBS1IsVUFBdEIsRUFBa0NTLElBQUksQ0FBQ0MsU0FBTCxDQUFlWCxZQUFmLENBQWxDOztJQUNBLEtBQUtZLEtBQUwsQ0FBVyxtQ0FBbUMsS0FBS1gsVUFBeEMsR0FBcUQsSUFBaEU7RUFDRDs7RUFDRCxPQUFPSCxPQUFQO0FBQ0QsQ0FaRDs7ZUFjZVQsTSJ9","map":{"version":3,"names":["Export","options","Check","call","prototype","Object","create","constructor","run","success","locale","translations","outputFile","I18nliner","config","basePath","mkdirp","sync","replace","fs","writeFileSync","JSON","stringify","print"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/commands/","sources":["export.js"],"sourcesContent":["import fs from \"fs\";\nimport mkdirp from \"mkdirp\";\nimport Check from \"./check\";\nimport I18nliner from '../../lib/i18nliner';\n\nfunction Export(options) {\n  Check.call(this, options);\n}\n\nExport.prototype = Object.create(Check.prototype);\nExport.prototype.constructor = Export;\n\nExport.prototype.run = function() {\n  var success = Check.prototype.run.call(this);\n  var locale = 'en';\n  var translations = {};\n  translations[locale] = this.translations.translations;\n  this.outputFile = I18nliner.config.basePath + '/' + (this.options.outputFile || \"config/locales/generated/\" + locale + \".json\");\n  mkdirp.sync(this.outputFile.replace(/\\/[^\\/]+$/, ''));\n  if (success) {\n    fs.writeFileSync(this.outputFile, JSON.stringify(translations));\n    this.print(\"Wrote default translations to \" + this.outputFile + \"\\n\");\n  }\n  return success;\n};\n\nexport default Export;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;EACvBC,cAAA,CAAMC,IAAN,CAAW,IAAX,EAAiBF,OAAjB;AACD;;AAEDD,MAAM,CAACI,SAAP,GAAmBC,MAAM,CAACC,MAAP,CAAcJ,cAAA,CAAME,SAApB,CAAnB;AACAJ,MAAM,CAACI,SAAP,CAAiBG,WAAjB,GAA+BP,MAA/B;;AAEAA,MAAM,CAACI,SAAP,CAAiBI,GAAjB,GAAuB,YAAW;EAChC,IAAIC,OAAO,GAAGP,cAAA,CAAME,SAAN,CAAgBI,GAAhB,CAAoBL,IAApB,CAAyB,IAAzB,CAAd;;EACA,IAAIO,MAAM,GAAG,IAAb;EACA,IAAIC,YAAY,GAAG,EAAnB;EACAA,YAAY,CAACD,MAAD,CAAZ,GAAuB,KAAKC,YAAL,CAAkBA,YAAzC;EACA,KAAKC,UAAL,GAAkBC,kBAAA,CAAUC,MAAV,CAAiBC,QAAjB,GAA4B,GAA5B,IAAmC,KAAKd,OAAL,CAAaW,UAAb,IAA2B,8BAA8BF,MAA9B,GAAuC,OAArG,CAAlB;;EACAM,eAAA,CAAOC,IAAP,CAAY,KAAKL,UAAL,CAAgBM,OAAhB,CAAwB,WAAxB,EAAqC,EAArC,CAAZ;;EACA,IAAIT,OAAJ,EAAa;IACXU,WAAA,CAAGC,aAAH,CAAiB,KAAKR,UAAtB,EAAkCS,IAAI,CAACC,SAAL,CAAeX,YAAf,CAAlC;;IACA,KAAKY,KAAL,CAAW,mCAAmC,KAAKX,UAAxC,GAAqD,IAAhE;EACD;;EACD,OAAOH,OAAP;AACD,CAZD;;eAceT,M"}},"mtime":1643211188001},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extensions/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extensions/i18n_js_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\n\nvar _sinon = _interopRequireDefault(require(\"sinon\"));\n\nvar _i18n_js = _interopRequireDefault(require(\"../../lib/extensions/i18n_js\"));\n\nvar _utils = _interopRequireDefault(require(\"../../lib/utils\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, context, it */\ndescribe(\"I18nJs extension\", function () {\n  var I18n = {\n    translate: function (key, options) {\n      var defaultValue = options.defaultValue;\n\n      if (typeof options.count === \"number\") {\n        defaultValue = options.count === 1 ? defaultValue.one : defaultValue.other;\n      }\n\n      return this.interpolate(defaultValue, options);\n    },\n    interpolate: function (string, options) {\n      var matches = string.match(this.PLACEHOLDER);\n      var placeholder;\n      if (!matches) return string;\n\n      for (var i = 0, len = matches.length; i < len; i++) {\n        placeholder = matches[i];\n        var name = placeholder.replace(this.PLACEHOLDER, \"$1\");\n        string = string.replace(placeholder, options[name]);\n      }\n\n      return string;\n    }\n  };\n  (0, _i18n_js.default)(I18n);\n  describe(\"translate\", function () {\n    it(\"should should normalize the arguments passed into the original translate\", function () {\n      var spy = _sinon.default.spy(I18n, \"translateWithoutI18nliner\");\n\n      _chai.assert.equal(I18n.translate(\"Hello %{name}\", {\n        name: \"bob\"\n      }), \"Hello bob\");\n\n      _chai.assert.deepEqual([\"hello_name_84ff273f\", {\n        defaultValue: \"Hello %{name}\",\n        name: \"bob\"\n      }], spy.args[0]);\n\n      spy.restore();\n    });\n    it(\"should infer pluralization objects\", function () {\n      var spy = _sinon.default.spy(I18n, \"translateWithoutI18nliner\");\n\n      I18n.translate(\"light\", {\n        count: 1\n      });\n\n      _chai.assert.deepEqual([\"count_lights_58339e29\", {\n        defaultValue: {\n          one: \"1 light\",\n          other: \"%{count} lights\"\n        },\n        count: 1\n      }], spy.args[0]);\n\n      spy.restore();\n    });\n    context(\"with wrappers\", function () {\n      it(\"should apply a single wrapper\", function () {\n        var result = I18n.translate(\"Hello *bob*.\", {\n          wrapper: '<b>$1</b>'\n        });\n\n        _chai.assert.equal(result, \"Hello <b>bob</b>.\");\n      });\n      it(\"should be html-safe\", function () {\n        var result = I18n.translate(\"Hello *bob*.\", {\n          wrapper: '<b>$1</b>'\n        });\n        (0, _chai.assert)(result instanceof _utils.default.HtmlSafeString);\n      });\n      it(\"should apply multiple wrappers\", function () {\n        var result = I18n.translate(\"Hello *bob*. Click **here**\", {\n          wrappers: ['<b>$1</b>', '<a href=\"/\">$1</a>']\n        });\n\n        _chai.assert.equal(result, \"Hello <b>bob</b>. Click <a href=\\\"/\\\">here</a>\");\n      });\n      it(\"should apply multiple wrappers with arbitrary delimiters\", function () {\n        var result = I18n.translate(\"Hello !!!bob!!!. Click ???here???\", {\n          wrappers: {\n            '!!!': '<b>$1</b>',\n            '???': '<a href=\"/\">$1</a>'\n          }\n        });\n\n        _chai.assert.equal(result, \"Hello <b>bob</b>. Click <a href=\\\"/\\\">here</a>\");\n      });\n      it(\"should html-escape the default when applying wrappers\", function () {\n        var result = I18n.translate(\"*bacon* > narwhals\", {\n          wrappers: ['<b>$1</b>']\n        });\n\n        _chai.assert.equal(result, \"<b>bacon</b> &gt; narwhals\");\n      });\n      it(\"should interpolate placeholders in the wrapper\", function () {\n        var result = I18n.translate(\"ohai *click here*\", {\n          wrapper: '<a href=\"%{url}\">$1</a>',\n          url: \"about:blank\"\n        });\n\n        _chai.assert.equal(result, 'ohai <a href=\"about:blank\">click here</a>');\n      });\n    });\n  });\n  describe(\"interpolate\", function () {\n    it(\"should not escape anything if none of the components are html-safe\", function () {\n      var result = I18n.interpolate(\"hello & good day, %{name}\", {\n        name: \"<script>\"\n      });\n\n      _chai.assert.equal(result, \"hello & good day, <script>\");\n\n      _chai.assert.equal(typeof result, \"string\");\n    });\n    it(\"should html-escape the string and other values if any placeholder is flagged as html-safe\", function () {\n      var markup = \"<input>\";\n      var result = I18n.interpolate(\"type %{input} & you get this: %h{output}\", {\n        input: markup,\n        output: markup\n      });\n\n      _chai.assert.equal(result, \"type &lt;input&gt; &amp; you get this: <input>\");\n\n      (0, _chai.assert)(result instanceof _utils.default.HtmlSafeString);\n    });\n    it(\"should html-escape the string and other values if any value is an HtmlSafeString\", function () {\n      var markup = \"<input>\";\n      var result = I18n.interpolate(\"type %{input} & you get this: %{output}\", {\n        input: markup,\n        output: new I18n.Utils.HtmlSafeString(markup)\n      });\n\n      _chai.assert.equal(result, \"type &lt;input&gt; &amp; you get this: <input>\");\n\n      (0, _chai.assert)(result instanceof _utils.default.HtmlSafeString);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIkkxOG4iLCJ0cmFuc2xhdGUiLCJrZXkiLCJvcHRpb25zIiwiZGVmYXVsdFZhbHVlIiwiY291bnQiLCJvbmUiLCJvdGhlciIsImludGVycG9sYXRlIiwic3RyaW5nIiwibWF0Y2hlcyIsIm1hdGNoIiwiUExBQ0VIT0xERVIiLCJwbGFjZWhvbGRlciIsImkiLCJsZW4iLCJsZW5ndGgiLCJuYW1lIiwicmVwbGFjZSIsImV4dGVuZCIsIml0Iiwic3B5Iiwic2lub24iLCJhc3NlcnQiLCJlcXVhbCIsImRlZXBFcXVhbCIsImFyZ3MiLCJyZXN0b3JlIiwiY29udGV4dCIsInJlc3VsdCIsIndyYXBwZXIiLCJVdGlscyIsIkh0bWxTYWZlU3RyaW5nIiwid3JhcHBlcnMiLCJ1cmwiLCJtYXJrdXAiLCJpbnB1dCIsIm91dHB1dCJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvdGVzdC9leHRlbnNpb25zLyIsInNvdXJjZXMiOlsiaTE4bl9qc190ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZXNjcmliZSwgY29udGV4dCwgaXQgKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IHNpbm9uIGZyb20gXCJzaW5vblwiO1xuaW1wb3J0IGV4dGVuZCBmcm9tIFwiLi4vLi4vbGliL2V4dGVuc2lvbnMvaTE4bl9qc1wiO1xuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi9saWIvdXRpbHNcIjtcblxuZGVzY3JpYmUoXCJJMThuSnMgZXh0ZW5zaW9uXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgSTE4biA9IHtcbiAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uKGtleSwgb3B0aW9ucykge1xuICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvdW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IG9wdGlvbnMuY291bnQgPT09IDEgPyBkZWZhdWx0VmFsdWUub25lIDogZGVmYXVsdFZhbHVlLm90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGUoZGVmYXVsdFZhbHVlLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgaW50ZXJwb2xhdGU6IGZ1bmN0aW9uKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIG1hdGNoZXMgPSBzdHJpbmcubWF0Y2godGhpcy5QTEFDRUhPTERFUik7XG4gICAgICB2YXIgcGxhY2Vob2xkZXI7XG4gICAgICBpZiAoIW1hdGNoZXMpXG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWF0Y2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBwbGFjZWhvbGRlciA9IG1hdGNoZXNbaV07XG4gICAgICAgIHZhciBuYW1lID0gcGxhY2Vob2xkZXIucmVwbGFjZSh0aGlzLlBMQUNFSE9MREVSLCBcIiQxXCIpO1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShwbGFjZWhvbGRlciwgb3B0aW9uc1tuYW1lXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cbiAgfTtcbiAgZXh0ZW5kKEkxOG4pO1xuXG4gIGRlc2NyaWJlKFwidHJhbnNsYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgIGl0KFwic2hvdWxkIHNob3VsZCBub3JtYWxpemUgdGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgb3JpZ2luYWwgdHJhbnNsYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNweSA9IHNpbm9uLnNweShJMThuLCBcInRyYW5zbGF0ZVdpdGhvdXRJMThubGluZXJcIik7XG4gICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgIEkxOG4udHJhbnNsYXRlKFwiSGVsbG8gJXtuYW1lfVwiLCB7bmFtZTogXCJib2JcIn0pLFxuICAgICAgICBcIkhlbGxvIGJvYlwiXG4gICAgICApO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgW1wiaGVsbG9fbmFtZV84NGZmMjczZlwiLCB7ZGVmYXVsdFZhbHVlOiBcIkhlbGxvICV7bmFtZX1cIiwgbmFtZTogXCJib2JcIn1dLFxuICAgICAgICBzcHkuYXJnc1swXVxuICAgICAgKTtcbiAgICAgIHNweS5yZXN0b3JlKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBpbmZlciBwbHVyYWxpemF0aW9uIG9iamVjdHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3B5ID0gc2lub24uc3B5KEkxOG4sIFwidHJhbnNsYXRlV2l0aG91dEkxOG5saW5lclwiKTtcbiAgICAgIEkxOG4udHJhbnNsYXRlKFwibGlnaHRcIiwge2NvdW50OiAxfSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICBbXCJjb3VudF9saWdodHNfNTgzMzllMjlcIiwge2RlZmF1bHRWYWx1ZToge29uZTogXCIxIGxpZ2h0XCIsIG90aGVyOiBcIiV7Y291bnR9IGxpZ2h0c1wifSwgY291bnQ6IDF9XSxcbiAgICAgICAgc3B5LmFyZ3NbMF1cbiAgICAgICk7XG4gICAgICBzcHkucmVzdG9yZSgpO1xuICAgIH0pO1xuXG4gICAgY29udGV4dChcIndpdGggd3JhcHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpdChcInNob3VsZCBhcHBseSBhIHNpbmdsZSB3cmFwcGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gSTE4bi50cmFuc2xhdGUoXCJIZWxsbyAqYm9iKi5cIiwge3dyYXBwZXI6ICc8Yj4kMTwvYj4nfSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQsIFwiSGVsbG8gPGI+Ym9iPC9iPi5cIik7XG4gICAgICB9KTtcblxuICAgICAgaXQoXCJzaG91bGQgYmUgaHRtbC1zYWZlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gSTE4bi50cmFuc2xhdGUoXCJIZWxsbyAqYm9iKi5cIiwge3dyYXBwZXI6ICc8Yj4kMTwvYj4nfSk7XG4gICAgICAgIGFzc2VydChyZXN1bHQgaW5zdGFuY2VvZiBVdGlscy5IdG1sU2FmZVN0cmluZyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoXCJzaG91bGQgYXBwbHkgbXVsdGlwbGUgd3JhcHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBJMThuLnRyYW5zbGF0ZShcIkhlbGxvICpib2IqLiBDbGljayAqKmhlcmUqKlwiLCB7d3JhcHBlcnM6IFsnPGI+JDE8L2I+JywgJzxhIGhyZWY9XCIvXCI+JDE8L2E+J119KTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdCwgXCJIZWxsbyA8Yj5ib2I8L2I+LiBDbGljayA8YSBocmVmPVxcXCIvXFxcIj5oZXJlPC9hPlwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdChcInNob3VsZCBhcHBseSBtdWx0aXBsZSB3cmFwcGVycyB3aXRoIGFyYml0cmFyeSBkZWxpbWl0ZXJzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gSTE4bi50cmFuc2xhdGUoXCJIZWxsbyAhISFib2IhISEuIENsaWNrID8/P2hlcmU/Pz9cIiwge3dyYXBwZXJzOiB7JyEhISc6ICc8Yj4kMTwvYj4nLCAnPz8/JzogJzxhIGhyZWY9XCIvXCI+JDE8L2E+J319KTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdCwgXCJIZWxsbyA8Yj5ib2I8L2I+LiBDbGljayA8YSBocmVmPVxcXCIvXFxcIj5oZXJlPC9hPlwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdChcInNob3VsZCBodG1sLWVzY2FwZSB0aGUgZGVmYXVsdCB3aGVuIGFwcGx5aW5nIHdyYXBwZXJzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gSTE4bi50cmFuc2xhdGUoXCIqYmFjb24qID4gbmFyd2hhbHNcIiwge3dyYXBwZXJzOiBbJzxiPiQxPC9iPiddfSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQsIFwiPGI+YmFjb248L2I+ICZndDsgbmFyd2hhbHNcIik7XG4gICAgICB9KTtcblxuICAgICAgaXQoXCJzaG91bGQgaW50ZXJwb2xhdGUgcGxhY2Vob2xkZXJzIGluIHRoZSB3cmFwcGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gSTE4bi50cmFuc2xhdGUoXCJvaGFpICpjbGljayBoZXJlKlwiLCB7d3JhcHBlcjogJzxhIGhyZWY9XCIle3VybH1cIj4kMTwvYT4nLCB1cmw6IFwiYWJvdXQ6YmxhbmtcIn0pO1xuICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCAnb2hhaSA8YSBocmVmPVwiYWJvdXQ6YmxhbmtcIj5jbGljayBoZXJlPC9hPicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiaW50ZXJwb2xhdGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJzaG91bGQgbm90IGVzY2FwZSBhbnl0aGluZyBpZiBub25lIG9mIHRoZSBjb21wb25lbnRzIGFyZSBodG1sLXNhZmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gSTE4bi5pbnRlcnBvbGF0ZShcImhlbGxvICYgZ29vZCBkYXksICV7bmFtZX1cIiwge25hbWU6IFwiPHNjcmlwdD5cIn0pO1xuICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICByZXN1bHQsXG4gICAgICAgIFwiaGVsbG8gJiBnb29kIGRheSwgPHNjcmlwdD5cIlxuICAgICAgKTtcbiAgICAgIGFzc2VydC5lcXVhbCh0eXBlb2YgcmVzdWx0LCBcInN0cmluZ1wiKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGh0bWwtZXNjYXBlIHRoZSBzdHJpbmcgYW5kIG90aGVyIHZhbHVlcyBpZiBhbnkgcGxhY2Vob2xkZXIgaXMgZmxhZ2dlZCBhcyBodG1sLXNhZmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWFya3VwID0gXCI8aW5wdXQ+XCI7XG4gICAgICB2YXIgcmVzdWx0ID0gSTE4bi5pbnRlcnBvbGF0ZShcInR5cGUgJXtpbnB1dH0gJiB5b3UgZ2V0IHRoaXM6ICVoe291dHB1dH1cIiwge2lucHV0OiBtYXJrdXAsIG91dHB1dDogbWFya3VwfSk7XG4gICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgIHJlc3VsdCxcbiAgICAgICAgXCJ0eXBlICZsdDtpbnB1dCZndDsgJmFtcDsgeW91IGdldCB0aGlzOiA8aW5wdXQ+XCJcbiAgICAgICk7XG4gICAgICBhc3NlcnQocmVzdWx0IGluc3RhbmNlb2YgVXRpbHMuSHRtbFNhZmVTdHJpbmcpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaHRtbC1lc2NhcGUgdGhlIHN0cmluZyBhbmQgb3RoZXIgdmFsdWVzIGlmIGFueSB2YWx1ZSBpcyBhbiBIdG1sU2FmZVN0cmluZ1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXJrdXAgPSBcIjxpbnB1dD5cIjtcbiAgICAgIHZhciByZXN1bHQgPSBJMThuLmludGVycG9sYXRlKFwidHlwZSAle2lucHV0fSAmIHlvdSBnZXQgdGhpczogJXtvdXRwdXR9XCIsIHtpbnB1dDogbWFya3VwLCBvdXRwdXQ6IG5ldyBJMThuLlV0aWxzLkh0bWxTYWZlU3RyaW5nKG1hcmt1cCl9KTtcbiAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBcInR5cGUgJmx0O2lucHV0Jmd0OyAmYW1wOyB5b3UgZ2V0IHRoaXM6IDxpbnB1dD5cIlxuICAgICAgKTtcbiAgICAgIGFzc2VydChyZXN1bHQgaW5zdGFuY2VvZiBVdGlscy5IdG1sU2FmZVN0cmluZyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFKQTtBQU1BQSxRQUFRLENBQUMsa0JBQUQsRUFBcUIsWUFBVztFQUN0QyxJQUFJQyxJQUFJLEdBQUc7SUFDVEMsU0FBUyxF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","map":{"version":3,"names":["describe","I18n","translate","key","options","defaultValue","count","one","other","interpolate","string","matches","match","PLACEHOLDER","placeholder","i","len","length","name","replace","extend","it","spy","sinon","assert","equal","deepEqual","args","restore","context","result","wrapper","Utils","HtmlSafeString","wrappers","url","markup","input","output"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extensions/","sources":["i18n_js_test.js"],"sourcesContent":["/* global describe, context, it */\nimport {assert} from \"chai\";\nimport sinon from \"sinon\";\nimport extend from \"../../lib/extensions/i18n_js\";\nimport Utils from \"../../lib/utils\";\n\ndescribe(\"I18nJs extension\", function() {\n  var I18n = {\n    translate: function(key, options) {\n      var defaultValue = options.defaultValue;\n      if (typeof options.count === \"number\") {\n        defaultValue = options.count === 1 ? defaultValue.one : defaultValue.other;\n      }\n      return this.interpolate(defaultValue, options);\n    },\n\n    interpolate: function(string, options) {\n      var matches = string.match(this.PLACEHOLDER);\n      var placeholder;\n      if (!matches)\n        return string;\n      for (var i = 0, len = matches.length; i < len; i++) {\n        placeholder = matches[i];\n        var name = placeholder.replace(this.PLACEHOLDER, \"$1\");\n        string = string.replace(placeholder, options[name]);\n      }\n      return string;\n    }\n  };\n  extend(I18n);\n\n  describe(\"translate\", function() {\n    it(\"should should normalize the arguments passed into the original translate\", function() {\n      var spy = sinon.spy(I18n, \"translateWithoutI18nliner\");\n      assert.equal(\n        I18n.translate(\"Hello %{name}\", {name: \"bob\"}),\n        \"Hello bob\"\n      );\n      assert.deepEqual(\n        [\"hello_name_84ff273f\", {defaultValue: \"Hello %{name}\", name: \"bob\"}],\n        spy.args[0]\n      );\n      spy.restore();\n    });\n\n    it(\"should infer pluralization objects\", function() {\n      var spy = sinon.spy(I18n, \"translateWithoutI18nliner\");\n      I18n.translate(\"light\", {count: 1});\n      assert.deepEqual(\n        [\"count_lights_58339e29\", {defaultValue: {one: \"1 light\", other: \"%{count} lights\"}, count: 1}],\n        spy.args[0]\n      );\n      spy.restore();\n    });\n\n    context(\"with wrappers\", function() {\n      it(\"should apply a single wrapper\", function() {\n        var result = I18n.translate(\"Hello *bob*.\", {wrapper: '<b>$1</b>'});\n        assert.equal(result, \"Hello <b>bob</b>.\");\n      });\n\n      it(\"should be html-safe\", function() {\n        var result = I18n.translate(\"Hello *bob*.\", {wrapper: '<b>$1</b>'});\n        assert(result instanceof Utils.HtmlSafeString);\n      });\n\n      it(\"should apply multiple wrappers\", function() {\n        var result = I18n.translate(\"Hello *bob*. Click **here**\", {wrappers: ['<b>$1</b>', '<a href=\"/\">$1</a>']});\n        assert.equal(result, \"Hello <b>bob</b>. Click <a href=\\\"/\\\">here</a>\");\n      });\n\n      it(\"should apply multiple wrappers with arbitrary delimiters\", function() {\n        var result = I18n.translate(\"Hello !!!bob!!!. Click ???here???\", {wrappers: {'!!!': '<b>$1</b>', '???': '<a href=\"/\">$1</a>'}});\n        assert.equal(result, \"Hello <b>bob</b>. Click <a href=\\\"/\\\">here</a>\");\n      });\n\n      it(\"should html-escape the default when applying wrappers\", function() {\n        var result = I18n.translate(\"*bacon* > narwhals\", {wrappers: ['<b>$1</b>']});\n        assert.equal(result, \"<b>bacon</b> &gt; narwhals\");\n      });\n\n      it(\"should interpolate placeholders in the wrapper\", function() {\n        var result = I18n.translate(\"ohai *click here*\", {wrapper: '<a href=\"%{url}\">$1</a>', url: \"about:blank\"});\n        assert.equal(result, 'ohai <a href=\"about:blank\">click here</a>');\n      });\n    });\n  });\n\n  describe(\"interpolate\", function() {\n    it(\"should not escape anything if none of the components are html-safe\", function() {\n      var result = I18n.interpolate(\"hello & good day, %{name}\", {name: \"<script>\"});\n      assert.equal(\n        result,\n        \"hello & good day, <script>\"\n      );\n      assert.equal(typeof result, \"string\");\n    });\n\n    it(\"should html-escape the string and other values if any placeholder is flagged as html-safe\", function() {\n      var markup = \"<input>\";\n      var result = I18n.interpolate(\"type %{input} & you get this: %h{output}\", {input: markup, output: markup});\n      assert.equal(\n        result,\n        \"type &lt;input&gt; &amp; you get this: <input>\"\n      );\n      assert(result instanceof Utils.HtmlSafeString);\n    });\n\n    it(\"should html-escape the string and other values if any value is an HtmlSafeString\", function() {\n      var markup = \"<input>\";\n      var result = I18n.interpolate(\"type %{input} & you get this: %{output}\", {input: markup, output: new I18n.Utils.HtmlSafeString(markup)});\n      assert.equal(\n        result,\n        \"type &lt;input&gt; &amp; you get this: <input>\"\n      );\n      assert(result instanceof Utils.HtmlSafeString);\n    });\n  });\n});\n"],"mappings":";;AACA;;AACA;;AACA;;AACA;;;;AAJA;AAMAA,QAAQ,CAAC,kBAAD,EAAqB,YAAW;EACtC,IAAIC,IAAI,GAAG;IACTC,SAAS,EAAE,UAASC,GAAT,EAAcC,OAAd,EAAuB;MAChC,IAAIC,YAAY,GAAGD,OAAO,CAACC,YAA3B;;MACA,IAAI,OAAOD,OAAO,CAACE,KAAf,KAAyB,QAA7B,EAAuC;QACrCD,YAAY,GAAGD,OAAO,CAACE,KAAR,KAAkB,CAAlB,GAAsBD,YAAY,CAACE,GAAnC,GAAyCF,YAAY,CAACG,KAArE;MACD;;MACD,OAAO,KAAKC,WAAL,CAAiBJ,YAAjB,EAA+BD,OAA/B,CAAP;IACD,CAPQ;IASTK,WAAW,EAAE,UAASC,MAAT,EAAiBN,OAAjB,EAA0B;MACrC,IAAIO,OAAO,GAAGD,MAAM,CAACE,KAAP,CAAa,KAAKC,WAAlB,CAAd;MACA,IAAIC,WAAJ;MACA,IAAI,CAACH,OAAL,EACE,OAAOD,MAAP;;MACF,KAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGL,OAAO,CAACM,MAA9B,EAAsCF,CAAC,GAAGC,GAA1C,EAA+CD,CAAC,EAAhD,EAAoD;QAClDD,WAAW,GAAGH,OAAO,CAACI,CAAD,CAArB;QACA,IAAIG,IAAI,GAAGJ,WAAW,CAACK,OAAZ,CAAoB,KAAKN,WAAzB,EAAsC,IAAtC,CAAX;QACAH,MAAM,GAAGA,MAAM,CAACS,OAAP,CAAeL,WAAf,EAA4BV,OAAO,CAACc,IAAD,CAAnC,CAAT;MACD;;MACD,OAAOR,MAAP;IACD;EApBQ,CAAX;EAsBA,IAAAU,gBAAA,EAAOnB,IAAP;EAEAD,QAAQ,CAAC,WAAD,EAAc,YAAW;IAC/BqB,EAAE,CAAC,0EAAD,EAA6E,YAAW;MACxF,IAAIC,GAAG,GAAGC,cAAA,CAAMD,GAAN,CAAUrB,IAAV,EAAgB,2BAAhB,CAAV;;MACAuB,YAAA,CAAOC,KAAP,CACExB,IAAI,CAACC,SAAL,CAAe,eAAf,EAAgC;QAACgB,IAAI,EAAE;MAAP,CAAhC,CADF,EAEE,WAFF;;MAIAM,YAAA,CAAOE,SAAP,CACE,CAAC,qBAAD,EAAwB;QAACrB,YAAY,EAAE,eAAf;QAAgCa,IAAI,EAAE;MAAtC,CAAxB,CADF,EAEEI,GAAG,CAACK,IAAJ,CAAS,CAAT,CAFF;;MAIAL,GAAG,CAACM,OAAJ;IACD,CAXC,CAAF;IAaAP,EAAE,CAAC,oCAAD,EAAuC,YAAW;MAClD,IAAIC,GAAG,GAAGC,cAAA,CAAMD,GAAN,CAAUrB,IAAV,EAAgB,2BAAhB,CAAV;;MACAA,IAAI,CAACC,SAAL,CAAe,OAAf,EAAwB;QAACI,KAAK,EAAE;MAAR,CAAxB;;MACAkB,YAAA,CAAOE,SAAP,CACE,CAAC,uBAAD,EAA0B;QAACrB,YAAY,EAAE;UAACE,GAAG,EAAE,SAAN;UAAiBC,KAAK,EAAE;QAAxB,CAAf;QAA2DF,KAAK,EAAE;MAAlE,CAA1B,CADF,EAEEgB,GAAG,CAACK,IAAJ,CAAS,CAAT,CAFF;;MAIAL,GAAG,CAACM,OAAJ;IACD,CARC,CAAF;IAUAC,OAAO,CAAC,eAAD,EAAkB,YAAW;MAClCR,EAAE,CAAC,+BAAD,EAAkC,YAAW;QAC7C,IAAIS,MAAM,GAAG7B,IAAI,CAACC,SAAL,CAAe,cAAf,EAA+B;UAAC6B,OAAO,EAAE;QAAV,CAA/B,CAAb;;QACAP,YAAA,CAAOC,KAAP,CAAaK,MAAb,EAAqB,mBAArB;MACD,CAHC,CAAF;MAKAT,EAAE,CAAC,qBAAD,EAAwB,YAAW;QACnC,IAAIS,MAAM,GAAG7B,IAAI,CAACC,SAAL,CAAe,cAAf,EAA+B;UAAC6B,OAAO,EAAE;QAAV,CAA/B,CAAb;QACA,IAAAP,YAAA,EAAOM,MAAM,YAAYE,cAAA,CAAMC,cAA/B;MACD,CAHC,CAAF;MAKAZ,EAAE,CAAC,gCAAD,EAAmC,YAAW;QAC9C,IAAIS,MAAM,GAAG7B,IAAI,CAACC,SAAL,CAAe,6BAAf,EAA8C;UAACgC,QAAQ,EAAE,CAAC,WAAD,EAAc,oBAAd;QAAX,CAA9C,CAAb;;QACAV,YAAA,CAAOC,KAAP,CAAaK,MAAb,EAAqB,gDAArB;MACD,CAHC,CAAF;MAKAT,EAAE,CAAC,0DAAD,EAA6D,YAAW;QACxE,IAAIS,MAAM,GAAG7B,IAAI,CAACC,SAAL,CAAe,mCAAf,EAAoD;UAACgC,QAAQ,EAAE;YAAC,OAAO,WAAR;YAAqB,OAAO;UAA5B;QAAX,CAApD,CAAb;;QACAV,YAAA,CAAOC,KAAP,CAAaK,MAAb,EAAqB,gDAArB;MACD,CAHC,CAAF;MAKAT,EAAE,CAAC,uDAAD,EAA0D,YAAW;QACrE,IAAIS,MAAM,GAAG7B,IAAI,CAACC,SAAL,CAAe,oBAAf,EAAqC;UAACgC,QAAQ,EAAE,CAAC,WAAD;QAAX,CAArC,CAAb;;QACAV,YAAA,CAAOC,KAAP,CAAaK,MAAb,EAAqB,4BAArB;MACD,CAHC,CAAF;MAKAT,EAAE,CAAC,gDAAD,EAAmD,YAAW;QAC9D,IAAIS,MAAM,GAAG7B,IAAI,CAACC,SAAL,CAAe,mBAAf,EAAoC;UAAC6B,OAAO,EAAE,yBAAV;UAAqCI,GAAG,EAAE;QAA1C,CAApC,CAAb;;QACAX,YAAA,CAAOC,KAAP,CAAaK,MAAb,EAAqB,2CAArB;MACD,CAHC,CAAF;IAID,CA9BM,CAAP;EA+BD,CAvDO,CAAR;EAyDA9B,QAAQ,CAAC,aAAD,EAAgB,YAAW;IACjCqB,EAAE,CAAC,oEAAD,EAAuE,YAAW;MAClF,IAAIS,MAAM,GAAG7B,IAAI,CAACQ,WAAL,CAAiB,2BAAjB,EAA8C;QAACS,IAAI,EAAE;MAAP,CAA9C,CAAb;;MACAM,YAAA,CAAOC,KAAP,CACEK,MADF,EAEE,4BAFF;;MAIAN,YAAA,CAAOC,KAAP,CAAa,OAAOK,MAApB,EAA4B,QAA5B;IACD,CAPC,CAAF;IASAT,EAAE,CAAC,2FAAD,EAA8F,YAAW;MACzG,IAAIe,MAAM,GAAG,SAAb;MACA,IAAIN,MAAM,GAAG7B,IAAI,CAACQ,WAAL,CAAiB,0CAAjB,EAA6D;QAAC4B,KAAK,EAAED,MAAR;QAAgBE,MAAM,EAAEF;MAAxB,CAA7D,CAAb;;MACAZ,YAAA,CAAOC,KAAP,CACEK,MADF,EAEE,gDAFF;;MAIA,IAAAN,YAAA,EAAOM,MAAM,YAAYE,cAAA,CAAMC,cAA/B;IACD,CARC,CAAF;IAUAZ,EAAE,CAAC,kFAAD,EAAqF,YAAW;MAChG,IAAIe,MAAM,GAAG,SAAb;MACA,IAAIN,MAAM,GAAG7B,IAAI,CAACQ,WAAL,CAAiB,yCAAjB,EAA4D;QAAC4B,KAAK,EAAED,MAAR;QAAgBE,MAAM,EAAE,IAAIrC,IAAI,CAAC+B,KAAL,CAAWC,cAAf,CAA8BG,MAA9B;MAAxB,CAA5D,CAAb;;MACAZ,YAAA,CAAOC,KAAP,CACEK,MADF,EAEE,gDAFF;;MAIA,IAAAN,YAAA,EAAOM,MAAM,YAAYE,cAAA,CAAMC,cAA/B;IACD,CARC,CAAF;EASD,CA7BO,CAAR;AA8BD,CAhHO,CAAR"}},"mtime":1653408253237},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extensions/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extensions/i18n_js.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _call_helpers = _interopRequireDefault(require(\"../call_helpers\"));\n\nvar _utils = _interopRequireDefault(require(\"../utils\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar extend = function (I18n) {\n  var htmlEscape = _utils.default.htmlEscape;\n  I18n.interpolateWithoutHtmlSafety = I18n.interpolate;\n\n  I18n.interpolate = function (message, options) {\n    var needsEscaping = false;\n    var matches = message.match(this.PLACEHOLDER) || [];\n    var len = matches.length;\n    var match;\n    var keys = [];\n    var key;\n    var i;\n    var wrappers = options.wrappers || options.wrapper;\n\n    if (wrappers) {\n      needsEscaping = true;\n      message = htmlEscape(message);\n      message = _call_helpers.default.applyWrappers(message, wrappers);\n    }\n\n    for (i = 0; i < len; i++) {\n      match = matches[i];\n      key = match.replace(this.PLACEHOLDER, \"$1\");\n      keys.push(key);\n      if (!(key in options)) continue;\n      if (match[1] === 'h') options[key] = new _utils.default.HtmlSafeString(options[key]);\n      if (options[key] instanceof _utils.default.HtmlSafeString) needsEscaping = true;\n    }\n\n    if (needsEscaping) {\n      if (!wrappers) message = htmlEscape(message);\n\n      for (i = 0; i < len; i++) {\n        key = keys[i];\n        if (!(key in options)) continue;\n        options[key] = htmlEscape(options[key]);\n      }\n    }\n\n    message = this.interpolateWithoutHtmlSafety(message, options);\n    return needsEscaping ? new _utils.default.HtmlSafeString(message) : message;\n  }; // add html-safety hint, i.e. \"%h{...}\"\n\n\n  I18n.PLACEHOLDER = /(?:\\{\\{|%h?\\{)(.*?)(?:\\}\\}?)/gm;\n  I18n.CallHelpers = _call_helpers.default;\n  I18n.Utils = _utils.default;\n  I18n.translateWithoutI18nliner = I18n.translate;\n\n  I18n.translate = function () {\n    var args = _call_helpers.default.inferArguments([].slice.call(arguments));\n\n    var key = args[0];\n    var options = args[1];\n    key = _call_helpers.default.normalizeKey(key, options);\n    var defaultValue = options.defaultValue;\n    if (defaultValue) options.defaultValue = _call_helpers.default.normalizeDefault(defaultValue, options);\n    return this.translateWithoutI18nliner(key, options);\n  };\n\n  I18n.t = I18n.translate;\n};\n\nvar _default = extend;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHRlbmQiLCJJMThuIiwiaHRtbEVzY2FwZSIsIlV0aWxzIiwiaW50ZXJwb2xhdGVXaXRob3V0SHRtbFNhZmV0eSIsImludGVycG9sYXRlIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJuZWVkc0VzY2FwaW5nIiwibWF0Y2hlcyIsIm1hdGNoIiwiUExBQ0VIT0xERVIiLCJsZW4iLCJsZW5ndGgiLCJrZXlzIiwia2V5IiwiaSIsIndyYXBwZXJzIiwid3JhcHBlciIsIkNhbGxIZWxwZXJzIiwiYXBwbHlXcmFwcGVycyIsInJlcGxhY2UiLCJwdXNoIiwiSHRtbFNhZmVTdHJpbmciLCJ0cmFuc2xhdGVXaXRob3V0STE4bmxpbmVyIiwidHJhbnNsYXRlIiwiYXJncyIsImluZmVyQXJndW1lbnRzIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwibm9ybWFsaXplS2V5IiwiZGVmYXVsdFZhbHVlIiwibm9ybWFsaXplRGVmYXVsdCIsInQiXSwic291cmNlUm9vdCI6Ii9ob21lL2thbmRpZS9zcmMvaW5zdC9pMThubGluZXItanMvcGFja2FnZXMvaTE4bmxpbmVyL2xpYi9leHRlbnNpb25zLyIsInNvdXJjZXMiOlsiaTE4bl9qcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FsbEhlbHBlcnMgZnJvbSAnLi4vY2FsbF9oZWxwZXJzJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscyc7XG5cbnZhciBleHRlbmQgPSBmdW5jdGlvbihJMThuKSB7XG4gIHZhciBodG1sRXNjYXBlID0gVXRpbHMuaHRtbEVzY2FwZTtcblxuICBJMThuLmludGVycG9sYXRlV2l0aG91dEh0bWxTYWZldHkgPSBJMThuLmludGVycG9sYXRlO1xuICBJMThuLmludGVycG9sYXRlID0gZnVuY3Rpb24obWVzc2FnZSwgb3B0aW9ucykge1xuICAgIHZhciBuZWVkc0VzY2FwaW5nID0gZmFsc2U7XG4gICAgdmFyIG1hdGNoZXMgPSBtZXNzYWdlLm1hdGNoKHRoaXMuUExBQ0VIT0xERVIpIHx8IFtdO1xuICAgIHZhciBsZW4gPSBtYXRjaGVzLmxlbmd0aDtcbiAgICB2YXIgbWF0Y2g7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICB2YXIga2V5O1xuICAgIHZhciBpO1xuICAgIHZhciB3cmFwcGVycyA9IG9wdGlvbnMud3JhcHBlcnMgfHwgb3B0aW9ucy53cmFwcGVyO1xuXG4gICAgaWYgKHdyYXBwZXJzKSB7XG4gICAgICBuZWVkc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgIG1lc3NhZ2UgPSBodG1sRXNjYXBlKG1lc3NhZ2UpO1xuICAgICAgbWVzc2FnZSA9IENhbGxIZWxwZXJzLmFwcGx5V3JhcHBlcnMobWVzc2FnZSwgd3JhcHBlcnMpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgbWF0Y2ggPSBtYXRjaGVzW2ldO1xuICAgICAga2V5ID0gbWF0Y2gucmVwbGFjZSh0aGlzLlBMQUNFSE9MREVSLCBcIiQxXCIpO1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIGNvbnRpbnVlO1xuICAgICAgaWYgKG1hdGNoWzFdID09PSAnaCcpXG4gICAgICAgIG9wdGlvbnNba2V5XSA9IG5ldyBVdGlscy5IdG1sU2FmZVN0cmluZyhvcHRpb25zW2tleV0pO1xuICAgICAgaWYgKG9wdGlvbnNba2V5XSBpbnN0YW5jZW9mIFV0aWxzLkh0bWxTYWZlU3RyaW5nKVxuICAgICAgICBuZWVkc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobmVlZHNFc2NhcGluZykge1xuICAgICAgaWYgKCF3cmFwcGVycylcbiAgICAgICAgbWVzc2FnZSA9IGh0bWxFc2NhcGUobWVzc2FnZSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKCEoa2V5IGluIG9wdGlvbnMpKSBjb250aW51ZTtcbiAgICAgICAgb3B0aW9uc1trZXldID0gaHRtbEVzY2FwZShvcHRpb25zW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBtZXNzYWdlID0gdGhpcy5pbnRlcnBvbGF0ZVdpdGhvdXRIdG1sU2FmZXR5KG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBuZWVkc0VzY2FwaW5nID8gbmV3IFV0aWxzLkh0bWxTYWZlU3RyaW5nKG1lc3NhZ2UpIDogbWVzc2FnZTtcbiAgfTtcblxuICAvLyBhZGQgaHRtbC1zYWZldHkgaGludCwgaS5lLiBcIiVoey4uLn1cIlxuICBJMThuLlBMQUNFSE9MREVSID0gLyg/Olxce1xce3wlaD9cXHspKC4qPykoPzpcXH1cXH0/KS9nbTtcblxuICBJMThuLkNhbGxIZWxwZXJzID0gQ2FsbEhlbHBlcnM7XG4gIEkxOG4uVXRpbHMgPSBVdGlscztcblxuICBJMThuLnRyYW5zbGF0ZVdpdGhvdXRJMThubGluZXIgPSBJMThuLnRyYW5zbGF0ZTtcbiAgSTE4bi50cmFuc2xhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IENhbGxIZWxwZXJzLmluZmVyQXJndW1lbnRzKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgdmFyIGtleSA9IGFyZ3NbMF07XG4gICAgdmFyIG9wdGlvbnMgPSBhcmdzWzFdO1xuICAgIGtleSA9IENhbGxIZWxwZXJzLm5vcm1hbGl6ZUtleShrZXksIG9wdGlvbnMpO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBvcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICBpZiAoZGVmYXVsdFZhbHVlKVxuICAgICAgb3B0aW9ucy5kZWZhdWx0VmFsdWUgPSBDYWxsSGVscGVycy5ub3JtYWxpemVEZWZhdWx0KGRlZmF1bHRWYWx1ZSwgb3B0aW9ucyk7XG5cbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVXaXRob3V0STE4bmxpbmVyKGtleSwgb3B0aW9ucyk7XG4gIH07XG4gIEkxOG4udCA9IEkxOG4udHJhbnNsYXRlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZXh0ZW5kO1xuIl0sIm1h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","map":{"version":3,"names":["extend","I18n","htmlEscape","Utils","interpolateWithoutHtmlSafety","interpolate","message","options","needsEscaping","matches","match","PLACEHOLDER","len","length","keys","key","i","wrappers","wrapper","CallHelpers","applyWrappers","replace","push","HtmlSafeString","translateWithoutI18nliner","translate","args","inferArguments","slice","call","arguments","normalizeKey","defaultValue","normalizeDefault","t"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/lib/extensions/","sources":["i18n_js.js"],"sourcesContent":["import CallHelpers from '../call_helpers';\nimport Utils from '../utils';\n\nvar extend = function(I18n) {\n  var htmlEscape = Utils.htmlEscape;\n\n  I18n.interpolateWithoutHtmlSafety = I18n.interpolate;\n  I18n.interpolate = function(message, options) {\n    var needsEscaping = false;\n    var matches = message.match(this.PLACEHOLDER) || [];\n    var len = matches.length;\n    var match;\n    var keys = [];\n    var key;\n    var i;\n    var wrappers = options.wrappers || options.wrapper;\n\n    if (wrappers) {\n      needsEscaping = true;\n      message = htmlEscape(message);\n      message = CallHelpers.applyWrappers(message, wrappers);\n    }\n\n    for (i = 0; i < len; i++) {\n      match = matches[i];\n      key = match.replace(this.PLACEHOLDER, \"$1\");\n      keys.push(key);\n      if (!(key in options)) continue;\n      if (match[1] === 'h')\n        options[key] = new Utils.HtmlSafeString(options[key]);\n      if (options[key] instanceof Utils.HtmlSafeString)\n        needsEscaping = true;\n    }\n\n    if (needsEscaping) {\n      if (!wrappers)\n        message = htmlEscape(message);\n      for (i = 0; i < len; i++) {\n        key = keys[i];\n        if (!(key in options)) continue;\n        options[key] = htmlEscape(options[key]);\n      }\n    }\n    message = this.interpolateWithoutHtmlSafety(message, options);\n    return needsEscaping ? new Utils.HtmlSafeString(message) : message;\n  };\n\n  // add html-safety hint, i.e. \"%h{...}\"\n  I18n.PLACEHOLDER = /(?:\\{\\{|%h?\\{)(.*?)(?:\\}\\}?)/gm;\n\n  I18n.CallHelpers = CallHelpers;\n  I18n.Utils = Utils;\n\n  I18n.translateWithoutI18nliner = I18n.translate;\n  I18n.translate = function() {\n    var args = CallHelpers.inferArguments([].slice.call(arguments));\n    var key = args[0];\n    var options = args[1];\n    key = CallHelpers.normalizeKey(key, options);\n    var defaultValue = options.defaultValue;\n    if (defaultValue)\n      options.defaultValue = CallHelpers.normalizeDefault(defaultValue, options);\n\n    return this.translateWithoutI18nliner(key, options);\n  };\n  I18n.t = I18n.translate;\n};\n\nexport default extend;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAIA,MAAM,GAAG,UAASC,IAAT,EAAe;EAC1B,IAAIC,UAAU,GAAGC,cAAA,CAAMD,UAAvB;EAEAD,IAAI,CAACG,4BAAL,GAAoCH,IAAI,CAACI,WAAzC;;EACAJ,IAAI,CAACI,WAAL,GAAmB,UAASC,OAAT,EAAkBC,OAAlB,EAA2B;IAC5C,IAAIC,aAAa,GAAG,KAApB;IACA,IAAIC,OAAO,GAAGH,OAAO,CAACI,KAAR,CAAc,KAAKC,WAAnB,KAAmC,EAAjD;IACA,IAAIC,GAAG,GAAGH,OAAO,CAACI,MAAlB;IACA,IAAIH,KAAJ;IACA,IAAII,IAAI,GAAG,EAAX;IACA,IAAIC,GAAJ;IACA,IAAIC,CAAJ;IACA,IAAIC,QAAQ,GAAGV,OAAO,CAACU,QAAR,IAAoBV,OAAO,CAACW,OAA3C;;IAEA,IAAID,QAAJ,EAAc;MACZT,aAAa,GAAG,IAAhB;MACAF,OAAO,GAAGJ,UAAU,CAACI,OAAD,CAApB;MACAA,OAAO,GAAGa,qBAAA,CAAYC,aAAZ,CAA0Bd,OAA1B,EAAmCW,QAAnC,CAAV;IACD;;IAED,KAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,GAAhB,EAAqBI,CAAC,EAAtB,EAA0B;MACxBN,KAAK,GAAGD,OAAO,CAACO,CAAD,CAAf;MACAD,GAAG,GAAGL,KAAK,CAACW,OAAN,CAAc,KAAKV,WAAnB,EAAgC,IAAhC,CAAN;MACAG,IAAI,CAACQ,IAAL,CAAUP,GAAV;MACA,IAAI,EAAEA,GAAG,IAAIR,OAAT,CAAJ,EAAuB;MACvB,IAAIG,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EACEH,OAAO,CAACQ,GAAD,CAAP,GAAe,IAAIZ,cAAA,CAAMoB,cAAV,CAAyBhB,OAAO,CAACQ,GAAD,CAAhC,CAAf;MACF,IAAIR,OAAO,CAACQ,GAAD,CAAP,YAAwBZ,cAAA,CAAMoB,cAAlC,EACEf,aAAa,GAAG,IAAhB;IACH;;IAED,IAAIA,aAAJ,EAAmB;MACjB,IAAI,CAACS,QAAL,EACEX,OAAO,GAAGJ,UAAU,CAACI,OAAD,CAApB;;MACF,KAAKU,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,GAAhB,EAAqBI,CAAC,EAAtB,EAA0B;QACxBD,GAAG,GAAGD,IAAI,CAACE,CAAD,CAAV;QACA,IAAI,EAAED,GAAG,IAAIR,OAAT,CAAJ,EAAuB;QACvBA,OAAO,CAACQ,GAAD,CAAP,GAAeb,UAAU,CAACK,OAAO,CAACQ,GAAD,CAAR,CAAzB;MACD;IACF;;IACDT,OAAO,GAAG,KAAKF,4BAAL,CAAkCE,OAAlC,EAA2CC,OAA3C,CAAV;IACA,OAAOC,aAAa,GAAG,IAAIL,cAAA,CAAMoB,cAAV,CAAyBjB,OAAzB,CAAH,GAAuCA,OAA3D;EACD,CAtCD,CAJ0B,CA4C1B;;;EACAL,IAAI,CAACU,WAAL,GAAmB,gCAAnB;EAEAV,IAAI,CAACkB,WAAL,GAAmBA,qBAAnB;EACAlB,IAAI,CAACE,KAAL,GAAaA,cAAb;EAEAF,IAAI,CAACuB,yBAAL,GAAiCvB,IAAI,CAACwB,SAAtC;;EACAxB,IAAI,CAACwB,SAAL,GAAiB,YAAW;IAC1B,IAAIC,IAAI,GAAGP,qBAAA,CAAYQ,cAAZ,CAA2B,GAAGC,KAAH,CAASC,IAAT,CAAcC,SAAd,CAA3B,CAAX;;IACA,IAAIf,GAAG,GAAGW,IAAI,CAAC,CAAD,CAAd;IACA,IAAInB,OAAO,GAAGmB,IAAI,CAAC,CAAD,CAAlB;IACAX,GAAG,GAAGI,qBAAA,CAAYY,YAAZ,CAAyBhB,GAAzB,EAA8BR,OAA9B,CAAN;IACA,IAAIyB,YAAY,GAAGzB,OAAO,CAACyB,YAA3B;IACA,IAAIA,YAAJ,EACEzB,OAAO,CAACyB,YAAR,GAAuBb,qBAAA,CAAYc,gBAAZ,CAA6BD,YAA7B,EAA2CzB,OAA3C,CAAvB;IAEF,OAAO,KAAKiB,yBAAL,CAA+BT,GAA/B,EAAoCR,OAApC,CAAP;EACD,CAVD;;EAWAN,IAAI,CAACiC,CAAL,GAASjC,IAAI,CAACwB,SAAd;AACD,CA/DD;;eAiEezB,M"}},"mtime":1653408253236},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/i18n_js_extractor_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\n\nvar _i18n_js_extractor = _interopRequireDefault(require(\"../../lib/extractors/i18n_js_extractor\"));\n\nvar _errors = _interopRequireDefault(require(\"../../lib/errors\"));\n\nvar _js_processor = _interopRequireDefault(require(\"../../lib/processors/js_processor\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, it */\ndescribe(\"I18nJsExtractor\", function () {\n  describe(\".translations\", function () {\n    function extract(source) {\n      var ast = _js_processor.default.prototype.parse(source);\n\n      var extractor = new _i18n_js_extractor.default({\n        ast: ast\n      });\n      extractor.run();\n      return extractor.translations.translations;\n    }\n\n    it(\"should ignore non-t calls\", function () {\n      _chai.assert.deepEqual(extract(\"foo('Foo')\"), {});\n    });\n    it(\"should not extract t calls with no default\", function () {\n      _chai.assert.deepEqual(extract(\"I18n.t('foo.foo')\"), {});\n    });\n    it(\"should extract valid t calls\", function () {\n      _chai.assert.deepEqual(extract(\"I18n.t('Foo')\"), {\n        \"foo_f44ad75d\": \"Foo\"\n      });\n\n      _chai.assert.deepEqual(extract(\"I18n.t('Foo ' + 'Bar')\"), {\n        \"foo_bar_6c8e5736\": \"Foo Bar\"\n      });\n\n      _chai.assert.deepEqual(extract(\"I18n.t('bar', 'Baz')\"), {\n        bar: \"Baz\"\n      });\n\n      _chai.assert.deepEqual(extract(\"I18n.t('bar', `Baz`)\"), {\n        bar: \"Baz\"\n      });\n\n      _chai.assert.deepEqual(extract(\"I18n.translate('one', {one: '1', other: '2'}, {count: 1})\"), {\n        one: {\n          one: \"1\",\n          other: \"2\"\n        }\n      });\n\n      _chai.assert.deepEqual(extract(\"I18n.t({one: 'just one', other: 'zomg lots'}, {count: 1})\"), {\n        \"zomg_lots_a54248c9\": {\n          one: \"just one\",\n          other: \"zomg lots\"\n        }\n      });\n    });\n    it(\"should support jsx and es6\", function () {\n      _chai.assert.deepEqual(extract(\"let foo = () => <b>{I18n.t('Foo', {bar})}</b>\"), {\n        \"foo_f44ad75d\": \"Foo\"\n      });\n    });\n    it(\"should bail on invalid t calls\", function () {\n      _chai.assert.throws(function () {\n        extract(\"I18n.t(foo)\");\n      }, _errors.default.InvalidSignature);\n\n      _chai.assert.throws(function () {\n        extract(\"I18n.t('foo', foo)\");\n      }, _errors.default.InvalidSignature);\n\n      _chai.assert.throws(function () {\n        extract(\"I18n.t('foo', \\\"hello \\\" + man)\");\n      }, _errors.default.InvalidSignature);\n\n      _chai.assert.throws(function () {\n        extract(\"I18n.t('a', \\\"a\\\", {}, {})\");\n      }, _errors.default.InvalidSignature);\n\n      _chai.assert.throws(function () {\n        extract(\"I18n.t({one: '1', other: '2'})\");\n      }, _errors.default.MissingCountValue);\n    });\n  });\n  describe(\"custom translator implementations\", () => {\n    it(\"exposes the path to buildTranslateCall\", () => {\n      const calls = [];\n\n      class CustomI18nJsExtractor extends _i18n_js_extractor.default {\n        buildTranslateCall(line, method, args, path) {\n          const retValue = _i18n_js_extractor.default.prototype.buildTranslateCall.apply(this, arguments);\n\n          calls.push([line, method, args, path]);\n          return retValue;\n        }\n\n      }\n\n      const extractor = new CustomI18nJsExtractor({\n        ast: _js_processor.default.prototype.parse(`\n          I18n.t('hello')\n        `)\n      });\n      extractor.run();\n\n      _chai.assert.deepEqual(calls.length, 1);\n\n      _chai.assert.ok(calls[0][3]);\n\n      _chai.assert.include(calls[0][3], {\n        type: 'CallExpression'\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsImV4dHJhY3QiLCJzb3VyY2UiLCJhc3QiLCJKc1Byb2Nlc3NvciIsInByb3RvdHlwZSIsInBhcnNlIiwiZXh0cmFjdG9yIiwiSTE4bkpzRXh0cmFjdG9yIiwicnVuIiwidHJhbnNsYXRpb25zIiwiaXQiLCJhc3NlcnQiLCJkZWVwRXF1YWwiLCJiYXIiLCJvbmUiLCJvdGhlciIsInRocm93cyIsIkVycm9ycyIsIkludmFsaWRTaWduYXR1cmUiLCJNaXNzaW5nQ291bnRWYWx1ZSIsImNhbGxzIiwiQ3VzdG9tSTE4bkpzRXh0cmFjdG9yIiwiYnVpbGRUcmFuc2xhdGVDYWxsIiwibGluZSIsIm1ldGhvZCIsImFyZ3MiLCJwYXRoIiwicmV0VmFsdWUiLCJhcHBseSIsImFyZ3VtZW50cyIsInB1c2giLCJsZW5ndGgiLCJvayIsImluY2x1ZGUiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci90ZXN0L2V4dHJhY3RvcnMvIiwic291cmNlcyI6WyJpMThuX2pzX2V4dHJhY3Rvcl90ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZXNjcmliZSwgaXQgKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IEkxOG5Kc0V4dHJhY3RvciBmcm9tIFwiLi4vLi4vbGliL2V4dHJhY3RvcnMvaTE4bl9qc19leHRyYWN0b3JcIjtcbmltcG9ydCBFcnJvcnMgZnJvbSBcIi4uLy4uL2xpYi9lcnJvcnNcIjtcbmltcG9ydCBKc1Byb2Nlc3NvciBmcm9tIFwiLi4vLi4vbGliL3Byb2Nlc3NvcnMvanNfcHJvY2Vzc29yXCJcblxuZGVzY3JpYmUoXCJJMThuSnNFeHRyYWN0b3JcIiwgZnVuY3Rpb24oKSB7XG4gIGRlc2NyaWJlKFwiLnRyYW5zbGF0aW9uc1wiLCBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBleHRyYWN0KHNvdXJjZSkge1xuICAgICAgdmFyIGFzdCA9IEpzUHJvY2Vzc29yLnByb3RvdHlwZS5wYXJzZShzb3VyY2UpO1xuICAgICAgdmFyIGV4dHJhY3RvciA9IG5ldyBJMThuSnNFeHRyYWN0b3Ioe2FzdDogYXN0fSk7XG4gICAgICBleHRyYWN0b3IucnVuKCk7XG4gICAgICByZXR1cm4gZXh0cmFjdG9yLnRyYW5zbGF0aW9ucy50cmFuc2xhdGlvbnM7XG4gICAgfVxuXG4gICAgaXQoXCJzaG91bGQgaWdub3JlIG5vbi10IGNhbGxzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgZXh0cmFjdChcImZvbygnRm9vJylcIiksXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbm90IGV4dHJhY3QgdCBjYWxscyB3aXRoIG5vIGRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICBleHRyYWN0KFwiSTE4bi50KCdmb28uZm9vJylcIiksXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZXh0cmFjdCB2YWxpZCB0IGNhbGxzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgZXh0cmFjdChcIkkxOG4udCgnRm9vJylcIiksXG4gICAgICAgIHtcImZvb19mNDRhZDc1ZFwiOiBcIkZvb1wifVxuICAgICAgKTtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwoXG4gICAgICAgIGV4dHJhY3QoXCJJMThuLnQoJ0ZvbyAnICsgJ0JhcicpXCIpLFxuICAgICAgICB7XCJmb29fYmFyXzZjOGU1NzM2XCI6IFwiRm9vIEJhclwifVxuICAgICAgKTtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwoXG4gICAgICAgIGV4dHJhY3QoXCJJMThuLnQoJ2JhcicsICdCYXonKVwiKSxcbiAgICAgICAge2JhcjogXCJCYXpcIn1cbiAgICAgICk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICBleHRyYWN0KFwiSTE4bi50KCdiYXInLCBgQmF6YClcIiksXG4gICAgICAgIHtiYXI6IFwiQmF6XCJ9XG4gICAgICApO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgZXh0cmFjdChcIkkxOG4udHJhbnNsYXRlKCdvbmUnLCB7b25lOiAnMScsIG90aGVyOiAnMid9LCB7Y291bnQ6IDF9KVwiKSxcbiAgICAgICAge29uZToge29uZTogXCIxXCIsIG90aGVyOiBcIjJcIn19XG4gICAgICApO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgZXh0cmFjdChcIkkxOG4udCh7b25lOiAnanVzdCBvbmUnLCBvdGhlcjogJ3pvbWcgbG90cyd9LCB7Y291bnQ6IDF9KVwiKSxcbiAgICAgICAge1wiem9tZ19sb3RzX2E1NDI0OGM5XCI6IHtvbmU6IFwianVzdCBvbmVcIiwgb3RoZXI6IFwiem9tZyBsb3RzXCJ9fVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHN1cHBvcnQganN4IGFuZCBlczZcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICBleHRyYWN0KFwibGV0IGZvbyA9ICgpID0+IDxiPntJMThuLnQoJ0ZvbycsIHtiYXJ9KX08L2I+XCIpLFxuICAgICAgICB7XCJmb29fZjQ0YWQ3NWRcIjogXCJGb29cIn1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBiYWlsIG9uIGludmFsaWQgdCBjYWxsc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXtcbiAgICAgICAgZXh0cmFjdChcIkkxOG4udChmb28pXCIpO1xuICAgICAgfSwgRXJyb3JzLkludmFsaWRTaWduYXR1cmUpO1xuICAgICAgYXNzZXJ0LnRocm93cyhmdW5jdGlvbigpe1xuICAgICAgICBleHRyYWN0KFwiSTE4bi50KCdmb28nLCBmb28pXCIpO1xuICAgICAgfSwgRXJyb3JzLkludmFsaWRTaWduYXR1cmUpO1xuICAgICAgYXNzZXJ0LnRocm93cyhmdW5jdGlvbigpe1xuICAgICAgICBleHRyYWN0KFwiSTE4bi50KCdmb28nLCBcXFwiaGVsbG8gXFxcIiArIG1hbilcIik7XG4gICAgICB9LCBFcnJvcnMuSW52YWxpZFNpZ25hdHVyZSk7XG4gICAgICBhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7XG4gICAgICAgIGV4dHJhY3QoXCJJMThuLnQoJ2EnLCBcXFwiYVxcXCIsIHt9LCB7fSlcIik7XG4gICAgICB9LCBFcnJvcnMuSW52YWxpZFNpZ25hdHVyZSk7XG4gICAgICBhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7XG4gICAgICAgIGV4dHJhY3QoXCJJMThuLnQoe29uZTogJzEnLCBvdGhlcjogJzInfSlcIik7XG4gICAgICB9LCBFcnJvcnMuTWlzc2luZ0NvdW50VmFsdWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImN1c3RvbSB0cmFuc2xhdG9yIGltcGxlbWVudGF0aW9uc1wiLCAoKSA9PiB7XG4gICAgaXQoXCJleHBvc2VzIHRoZSBwYXRoIHRvIGJ1aWxkVHJhbnNsYXRlQ2FsbFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxscyA9IFtdXG5cbiAgICAgIGNsYXNzIEN1c3RvbUkxOG5Kc0V4dHJhY3RvciBleHRlbmRzIEkxOG5Kc0V4dHJhY3RvciB7XG4gICAgICAgIGJ1aWxkVHJhbnNsYXRlQ2FsbChsaW5lLCBtZXRob2QsIGFyZ3MsIHBhdGgpIHtcbiAgICAgICAgICBjb25zdCByZXRWYWx1ZSA9IEkxOG5Kc0V4dHJhY3Rvci5wcm90b3R5cGUuYnVpbGRUcmFuc2xhdGVDYWxsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgICBjYWxscy5wdXNoKFtsaW5lLCBtZXRob2QsIGFyZ3MsIHBhdGhdKVxuICAgICAgICAgIHJldHVybiByZXRWYWx1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV4dHJhY3RvciA9IG5ldyBDdXN0b21JMThuSnNFeHRyYWN0b3Ioe1xuICAgICAgICBhc3Q6IEpzUHJvY2Vzc29yLnByb3RvdHlwZS5wYXJzZShgXG4gICAgICAgICAgSTE4bi50KCdoZWxsbycpXG4gICAgICAgIGApXG4gICAgICB9KTtcblxuICAgICAgZXh0cmFjdG9yLnJ1bigpO1xuXG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGNhbGxzLmxlbmd0aCwgMSlcbiAgICAgIGFzc2VydC5vayhjYWxsc1swXVszXSlcbiAgICAgIGFzc2VydC5pbmNsdWRlKGNhbGxzWzBdWzNdLCB7IHR5cGU6ICdDYWxsRXhwcmVzc2lvbicgfSlcbiAgICB9KVxuICB9KVxufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFKQTtBQU1BQSxRQUFRLENBQUMsaUJBQUQsRUFBb0IsWUFBVztFQUNyQ0EsUUFBUSxDQUFDLGVBQUQsRUFBa0IsWUFBVztJQUNuQyxTQUFTQyxPQUFULENBQWlCQyxNQUFqQixFQUF5QjtNQUN2QixJQUFJQyxHQUFHLEdBQUdDLHFCQUFBLENBQVlDLFNBQVosQ0FBc0JDLEtBQXRCLENBQTRCSixNQUE1QixDQUFWOztNQUNBLElBQUlLLFNBQVMsR0FBRyxJQUFJQywwQkFBSixDQUFvQjtRQUFDTCxHQUFHLEVBQUVBO01BQU4sQ0FBcEIsQ0FBaEI7TUFDQUksU0FBUyxDQUFDRSxHQUFWO01BQ0EsT0FBT0YsU0FBUyxDQUFDRyxZQUFWLENBQXVCQSxZQUE5QjtJQUNEOztJQUVEQyxFQUFFLENBQUMsMkJBQUQsRUFBOEIsWUFBVztNQUN6Q0MsWUFBQSxDQUFPQyxTQUFQLENBQ0VaLE9BQU8sQ0FBQyxZQUFELENBRFQsRUFFRSxFQUZGO0lBSUQsQ0FMQyxDQUFGO0lBT0FVLEVBQUUsQ0FBQyw0Q0FBRCxFQUErQyxZQUFXO01BQzFEQyxZQUFBLENBQU9DLFNBQVAsQ0FDRVosT0FBTyxDQUFDLG1CQUFELENBRFQsRUFFRSxFQUZGO0lBSUQsQ0FMQyxDQUFG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","map":{"version":3,"names":["describe","extract","source","ast","JsProcessor","prototype","parse","extractor","I18nJsExtractor","run","translations","it","assert","deepEqual","bar","one","other","throws","Errors","InvalidSignature","MissingCountValue","calls","CustomI18nJsExtractor","buildTranslateCall","line","method","args","path","retValue","apply","arguments","push","length","ok","include","type"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/","sources":["i18n_js_extractor_test.js"],"sourcesContent":["/* global describe, it */\nimport {assert} from \"chai\";\nimport I18nJsExtractor from \"../../lib/extractors/i18n_js_extractor\";\nimport Errors from \"../../lib/errors\";\nimport JsProcessor from \"../../lib/processors/js_processor\"\n\ndescribe(\"I18nJsExtractor\", function() {\n  describe(\".translations\", function() {\n    function extract(source) {\n      var ast = JsProcessor.prototype.parse(source);\n      var extractor = new I18nJsExtractor({ast: ast});\n      extractor.run();\n      return extractor.translations.translations;\n    }\n\n    it(\"should ignore non-t calls\", function() {\n      assert.deepEqual(\n        extract(\"foo('Foo')\"),\n        {}\n      );\n    });\n\n    it(\"should not extract t calls with no default\", function() {\n      assert.deepEqual(\n        extract(\"I18n.t('foo.foo')\"),\n        {}\n      );\n    });\n\n    it(\"should extract valid t calls\", function() {\n      assert.deepEqual(\n        extract(\"I18n.t('Foo')\"),\n        {\"foo_f44ad75d\": \"Foo\"}\n      );\n      assert.deepEqual(\n        extract(\"I18n.t('Foo ' + 'Bar')\"),\n        {\"foo_bar_6c8e5736\": \"Foo Bar\"}\n      );\n      assert.deepEqual(\n        extract(\"I18n.t('bar', 'Baz')\"),\n        {bar: \"Baz\"}\n      );\n      assert.deepEqual(\n        extract(\"I18n.t('bar', `Baz`)\"),\n        {bar: \"Baz\"}\n      );\n      assert.deepEqual(\n        extract(\"I18n.translate('one', {one: '1', other: '2'}, {count: 1})\"),\n        {one: {one: \"1\", other: \"2\"}}\n      );\n      assert.deepEqual(\n        extract(\"I18n.t({one: 'just one', other: 'zomg lots'}, {count: 1})\"),\n        {\"zomg_lots_a54248c9\": {one: \"just one\", other: \"zomg lots\"}}\n      );\n    });\n\n    it(\"should support jsx and es6\", function() {\n      assert.deepEqual(\n        extract(\"let foo = () => <b>{I18n.t('Foo', {bar})}</b>\"),\n        {\"foo_f44ad75d\": \"Foo\"}\n      );\n    });\n\n    it(\"should bail on invalid t calls\", function() {\n      assert.throws(function(){\n        extract(\"I18n.t(foo)\");\n      }, Errors.InvalidSignature);\n      assert.throws(function(){\n        extract(\"I18n.t('foo', foo)\");\n      }, Errors.InvalidSignature);\n      assert.throws(function(){\n        extract(\"I18n.t('foo', \\\"hello \\\" + man)\");\n      }, Errors.InvalidSignature);\n      assert.throws(function(){\n        extract(\"I18n.t('a', \\\"a\\\", {}, {})\");\n      }, Errors.InvalidSignature);\n      assert.throws(function(){\n        extract(\"I18n.t({one: '1', other: '2'})\");\n      }, Errors.MissingCountValue);\n    });\n  });\n\n  describe(\"custom translator implementations\", () => {\n    it(\"exposes the path to buildTranslateCall\", () => {\n      const calls = []\n\n      class CustomI18nJsExtractor extends I18nJsExtractor {\n        buildTranslateCall(line, method, args, path) {\n          const retValue = I18nJsExtractor.prototype.buildTranslateCall.apply(this, arguments)\n          calls.push([line, method, args, path])\n          return retValue\n        }\n      }\n\n      const extractor = new CustomI18nJsExtractor({\n        ast: JsProcessor.prototype.parse(`\n          I18n.t('hello')\n        `)\n      });\n\n      extractor.run();\n\n      assert.deepEqual(calls.length, 1)\n      assert.ok(calls[0][3])\n      assert.include(calls[0][3], { type: 'CallExpression' })\n    })\n  })\n});\n"],"mappings":"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"}},"mtime":1653408253237},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/translate_call_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\n\nvar _translate_call = _interopRequireDefault(require(\"../../lib/extractors/translate_call\"));\n\nvar _errors = _interopRequireDefault(require(\"../../lib/errors\"));\n\nvar _i18nliner = _interopRequireDefault(require(\"../../lib/i18nliner\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, it */\ndescribe(\"TranslateCall\", function () {\n  function call() {\n    return new _translate_call.default(null, 't', [].slice.call(arguments));\n  }\n\n  describe(\"signature\", function () {\n    it(\"should reject extra arguments\", function () {\n      _chai.assert.throws(function () {\n        call(\"key\", \"value\", {}, \"wat\");\n      }, _errors.default.InvalidSignature);\n    });\n    it(\"should accept a valid key or default\", function () {\n      _chai.assert.doesNotThrow(function () {\n        call(\"key\", \"value\", {});\n      });\n\n      _chai.assert.doesNotThrow(function () {\n        call(\"key_or_value\", {});\n      });\n    });\n    it(\"should require at least a key or default\", function () {\n      _chai.assert.throws(function () {\n        call();\n      }, _errors.default.InvalidSignature);\n    });\n    it(\"should require a literal default\", function () {\n      _chai.assert.throws(function () {\n        call(\"key.key\", _translate_call.default.prototype.UNSUPPORTED_EXPRESSION);\n      }, _errors.default.InvalidSignature);\n    }); // for legacy calls, e.g. I18n.t(\"key\", {defaultValue: \"foo\"})\n\n    it(\"should allow the default to be specified in the options object\", function () {\n      var c = call(\"key\", {\n        defaultValue: \"foo\"\n      });\n\n      _chai.assert.equal(c.defaultValue, \"foo\");\n    });\n    it(\"should ensure options is an object literal, if provided\", function () {\n      _chai.assert.throws(function () {\n        call(\"key\", \"value\", _translate_call.default.prototype.UNSUPPORTED_EXPRESSION);\n      }, _errors.default.InvalidSignature);\n    });\n  });\n  describe(\"key inference\", function () {\n    it(\"should generate literal keys\", function () {\n      _i18nliner.default.set('inferredKeyFormat', 'literal', function () {\n        _chai.assert.deepEqual(call(\"zomg key\").translations(), [[\"zomg key\", \"zomg key\"]]);\n      });\n    });\n    it(\"should generate underscored keys\", function () {\n      _i18nliner.default.set('inferredKeyFormat', 'underscored', function () {\n        _chai.assert.deepEqual(call(\"zOmg -- key!!\").translations(), [[\"zomg_key\", \"zOmg -- key!!\"]]);\n      });\n    });\n    it(\"should truncate long keys\", function () {\n      var longString = new Array(100).join(\"trolololo\");\n\n      _i18nliner.default.set('inferredKeyFormat', 'underscored', function () {\n        (0, _chai.assert)(call(longString).translations()[0][0].length < 100);\n      });\n    });\n    it(\"should generate underscored + crc32 keys\", function () {\n      _i18nliner.default.set('inferredKeyFormat', 'underscored_crc32', function () {\n        _chai.assert.deepEqual(call(\"zOmg key!!\").translations(), [[\"zomg_key_90a85b0b\", \"zOmg key!!\"]]);\n      });\n    });\n  });\n  describe(\"pluralization\", function () {\n    describe(\"keys\", function () {\n      it(\"should be inferred from a word\", function () {\n        var result = call(\"person\", {\n          count: 1\n        }).translations();\n\n        _chai.assert.equal(result[0][0], \"count_people_489946e7.one\");\n\n        _chai.assert.equal(result[1][0], \"count_people_489946e7.other\");\n      });\n      it(\"should be inferred from an object\", function () {\n        var result = call({\n          one: \"just you\",\n          other: \"lotsa peeps\"\n        }, {\n          count: 1\n        }).translations();\n\n        _chai.assert.equal(result[0][0], \"lotsa_peeps_41499c40.one\");\n\n        _chai.assert.equal(result[1][0], \"lotsa_peeps_41499c40.other\");\n      });\n    });\n    describe(\"defaults\", function () {\n      it(\"should be inferred\", function () {\n        var result = call(\"person\", {\n          count: 1\n        }).translations();\n\n        _chai.assert.equal(result[0][1], \"1 person\");\n\n        _chai.assert.equal(result[1][1], \"%{count} people\");\n      });\n      it(\"should not be inferred if given multiple words\", function () {\n        _chai.assert.deepEqual(call(\"happy person\", {\n          count: 1\n        }).translations()[0][1], \"happy person\");\n      });\n    });\n    it(\"should accept valid objects\", function () {\n      _chai.assert.deepEqual(call({\n        one: \"asdf\",\n        other: \"qwerty\"\n      }, {\n        count: 1\n      }).translations(), [[\"qwerty_98185351.one\", \"asdf\"], [\"qwerty_98185351.other\", \"qwerty\"]]);\n\n      _chai.assert.deepEqual(call(\"some_stuff\", {\n        one: \"asdf\",\n        other: \"qwerty\"\n      }, {\n        count: 1\n      }).translations(), [[\"some_stuff.one\", \"asdf\"], [\"some_stuff.other\", \"qwerty\"]]);\n    });\n    it(\"should reject invalid keys\", function () {\n      _chai.assert.throws(function () {\n        call({\n          one: \"asdf\",\n          twenty: \"qwerty\"\n        }, {\n          count: 1\n        });\n      }, _errors.default.InvalidPluralizationKey);\n    });\n    it(\"should require essential keys\", function () {\n      _chai.assert.throws(function () {\n        call({\n          one: \"asdf\"\n        }, {\n          count: 1\n        });\n      }, _errors.default.MissingPluralizationKey);\n    });\n    it(\"should reject invalid count defaults\", function () {\n      _chai.assert.throws(function () {\n        call({\n          one: \"asdf\",\n          other: _translate_call.default.prototype.UNSUPPORTED_EXPRESSION\n        }, {\n          count: 1\n        });\n      }, _errors.default.InvalidPluralizationDefault);\n    });\n    it(\"should complain if no :count is provided\", function () {\n      _chai.assert.throws(function () {\n        call({\n          one: \"asdf\",\n          other: \"qwerty\"\n        });\n      }, _errors.default.MissingCountValue);\n    });\n  });\n  describe(\"validation\", function () {\n    it(\"should require all interpolation values\", function () {\n      _chai.assert.throws(function () {\n        call(\"asdf %{bob}\");\n      }, _errors.default.MissingInterpolationValue); // only throw if it's not set\n\n\n      _chai.assert.doesNotThrow(function () {\n        call(\"asdf %{bob}\", {\n          bob: \"\"\n        });\n      });\n    });\n    it(\"should require all interpolation values in count defaults\", function () {\n      _chai.assert.throws(function () {\n        call({\n          one: \"asdf %{bob}\",\n          other: \"querty\"\n        });\n      }, _errors.default.MissingInterpolationValue);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsImNhbGwiLCJUcmFuc2xhdGVDYWxsIiwic2xpY2UiLCJhcmd1bWVudHMiLCJpdCIsImFzc2VydCIsInRocm93cyIsIkVycm9ycyIsIkludmFsaWRTaWduYXR1cmUiLCJkb2VzTm90VGhyb3ciLCJwcm90b3R5cGUiLCJVTlNVUFBPUlRFRF9FWFBSRVNTSU9OIiwiYyIsImRlZmF1bHRWYWx1ZSIsImVxdWFsIiwiSTE4bmxpbmVyIiwic2V0IiwiZGVlcEVxdWFsIiwidHJhbnNsYXRpb25zIiwibG9uZ1N0cmluZyIsIkFycmF5Iiwiam9pbiIsImxlbmd0aCIsInJlc3VsdCIsImNvdW50Iiwib25lIiwib3RoZXIiLCJ0d2VudHkiLCJJbnZhbGlkUGx1cmFsaXphdGlvbktleSIsIk1pc3NpbmdQbHVyYWxpemF0aW9uS2V5IiwiSW52YWxpZFBsdXJhbGl6YXRpb25EZWZhdWx0IiwiTWlzc2luZ0NvdW50VmFsdWUiLCJNaXNzaW5nSW50ZXJwb2xhdGlvblZhbHVlIiwiYm9iIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9rYW5kaWUvc3JjL2luc3QvaTE4bmxpbmVyLWpzL3BhY2thZ2VzL2kxOG5saW5lci90ZXN0L2V4dHJhY3RvcnMvIiwic291cmNlcyI6WyJ0cmFuc2xhdGVfY2FsbF90ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZXNjcmliZSwgaXQgKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IFRyYW5zbGF0ZUNhbGwgZnJvbSBcIi4uLy4uL2xpYi9leHRyYWN0b3JzL3RyYW5zbGF0ZV9jYWxsXCI7XG5pbXBvcnQgRXJyb3JzIGZyb20gXCIuLi8uLi9saWIvZXJyb3JzXCI7XG5pbXBvcnQgSTE4bmxpbmVyIGZyb20gXCIuLi8uLi9saWIvaTE4bmxpbmVyXCI7XG5cbmRlc2NyaWJlKFwiVHJhbnNsYXRlQ2FsbFwiLCBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gY2FsbCgpIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zbGF0ZUNhbGwobnVsbCwgJ3QnLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICB9XG5cbiAgZGVzY3JpYmUoXCJzaWduYXR1cmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJzaG91bGQgcmVqZWN0IGV4dHJhIGFyZ3VtZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoXCJrZXlcIiwgXCJ2YWx1ZVwiLCB7fSwgXCJ3YXRcIik7XG4gICAgICB9LCBFcnJvcnMuSW52YWxpZFNpZ25hdHVyZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhY2NlcHQgYSB2YWxpZCBrZXkgb3IgZGVmYXVsdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC5kb2VzTm90VGhyb3coZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoXCJrZXlcIiwgXCJ2YWx1ZVwiLCB7fSk7XG4gICAgICB9KTtcblxuICAgICAgYXNzZXJ0LmRvZXNOb3RUaHJvdyhmdW5jdGlvbigpIHtcbiAgICAgICAgY2FsbChcImtleV9vcl92YWx1ZVwiLCB7fSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJlcXVpcmUgYXQgbGVhc3QgYSBrZXkgb3IgZGVmYXVsdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoKTtcbiAgICAgIH0sIEVycm9ycy5JbnZhbGlkU2lnbmF0dXJlKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJlcXVpcmUgYSBsaXRlcmFsIGRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsKFwia2V5LmtleVwiLCBUcmFuc2xhdGVDYWxsLnByb3RvdHlwZS5VTlNVUFBPUlRFRF9FWFBSRVNTSU9OKTtcbiAgICAgIH0sIEVycm9ycy5JbnZhbGlkU2lnbmF0dXJlKTtcbiAgICB9KTtcblxuICAgIC8vIGZvciBsZWdhY3kgY2FsbHMsIGUuZy4gSTE4bi50KFwia2V5XCIsIHtkZWZhdWx0VmFsdWU6IFwiZm9vXCJ9KVxuICAgIGl0KFwic2hvdWxkIGFsbG93IHRoZSBkZWZhdWx0IHRvIGJlIHNwZWNpZmllZCBpbiB0aGUgb3B0aW9ucyBvYmplY3RcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYyA9IGNhbGwoXCJrZXlcIiwge2RlZmF1bHRWYWx1ZTogXCJmb29cIn0pO1xuICAgICAgYXNzZXJ0LmVxdWFsKGMuZGVmYXVsdFZhbHVlLCBcImZvb1wiKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGVuc3VyZSBvcHRpb25zIGlzIGFuIG9iamVjdCBsaXRlcmFsLCBpZiBwcm92aWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoXCJrZXlcIiwgXCJ2YWx1ZVwiLCBUcmFuc2xhdGVDYWxsLnByb3RvdHlwZS5VTlNVUFBPUlRFRF9FWFBSRVNTSU9OKTtcbiAgICAgIH0sIEVycm9ycy5JbnZhbGlkU2lnbmF0dXJlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJrZXkgaW5mZXJlbmNlXCIsIGZ1bmN0aW9uKCkge1xuICAgIGl0KFwic2hvdWxkIGdlbmVyYXRlIGxpdGVyYWwga2V5c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIEkxOG5saW5lci5zZXQoJ2luZmVycmVkS2V5Rm9ybWF0JywgJ2xpdGVyYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgICBjYWxsKFwiem9tZyBrZXlcIikudHJhbnNsYXRpb25zKCksXG4gICAgICAgICAgW1tcInpvbWcga2V5XCIsIFwiem9tZyBrZXlcIl1dXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGdlbmVyYXRlIHVuZGVyc2NvcmVkIGtleXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBJMThubGluZXIuc2V0KCdpbmZlcnJlZEtleUZvcm1hdCcsICd1bmRlcnNjb3JlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICAgIGNhbGwoXCJ6T21nIC0tIGtleSEhXCIpLnRyYW5zbGF0aW9ucygpLFxuICAgICAgICAgIFtbXCJ6b21nX2tleVwiLCBcInpPbWcgLS0ga2V5ISFcIl1dXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHRydW5jYXRlIGxvbmcga2V5c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsb25nU3RyaW5nID0gbmV3IEFycmF5KDEwMCkuam9pbihcInRyb2xvbG9sb1wiKTtcblxuICAgICAgSTE4bmxpbmVyLnNldCgnaW5mZXJyZWRLZXlGb3JtYXQnLCAndW5kZXJzY29yZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYXNzZXJ0KFxuICAgICAgICAgIGNhbGwobG9uZ1N0cmluZykudHJhbnNsYXRpb25zKClbMF1bMF0ubGVuZ3RoIDwgMTAwXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGdlbmVyYXRlIHVuZGVyc2NvcmVkICsgY3JjMzIga2V5c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIEkxOG5saW5lci5zZXQoJ2luZmVycmVkS2V5Rm9ybWF0JywgJ3VuZGVyc2NvcmVkX2NyYzMyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGFzc2VydC5kZWVwRXF1YWwoXG4gICAgICAgICAgY2FsbChcInpPbWcga2V5ISFcIikudHJhbnNsYXRpb25zKCksXG4gICAgICAgICAgW1tcInpvbWdfa2V5XzkwYTg1YjBiXCIsIFwiek9tZyBrZXkhIVwiXV1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInBsdXJhbGl6YXRpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgZGVzY3JpYmUoXCJrZXlzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaXQoXCJzaG91bGQgYmUgaW5mZXJyZWQgZnJvbSBhIHdvcmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsKFwicGVyc29uXCIsIHtjb3VudDogMX0pLnRyYW5zbGF0aW9ucygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzBdWzBdLCBcImNvdW50X3Blb3BsZV80ODk5NDZlNy5vbmVcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHRbMV1bMF0sIFwiY291bnRfcGVvcGxlXzQ4OTk0NmU3Lm90aGVyXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KFwic2hvdWxkIGJlIGluZmVycmVkIGZyb20gYW4gb2JqZWN0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbCh7b25lOiBcImp1c3QgeW91XCIsIG90aGVyOiBcImxvdHNhIHBlZXBzXCJ9LCB7Y291bnQ6IDF9KS50cmFuc2xhdGlvbnMoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFswXVswXSwgXCJsb3RzYV9wZWVwc180MTQ5OWM0MC5vbmVcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHRbMV1bMF0sIFwibG90c2FfcGVlcHNfNDE0OTljNDAub3RoZXJcIik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZGVmYXVsdHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpdChcInNob3VsZCBiZSBpbmZlcnJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGwoXCJwZXJzb25cIiwge2NvdW50OiAxfSkudHJhbnNsYXRpb25zKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHRbMF1bMV0sIFwiMSBwZXJzb25cIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHRbMV1bMV0sIFwiJXtjb3VudH0gcGVvcGxlXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KFwic2hvdWxkIG5vdCBiZSBpbmZlcnJlZCBpZiBnaXZlbiBtdWx0aXBsZSB3b3Jkc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbChcbiAgICAgICAgICBjYWxsKFwiaGFwcHkgcGVyc29uXCIsIHtjb3VudDogMX0pLnRyYW5zbGF0aW9ucygpWzBdWzFdLFxuICAgICAgICAgIFwiaGFwcHkgcGVyc29uXCJcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgYWNjZXB0IHZhbGlkIG9iamVjdHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICBjYWxsKHtvbmU6IFwiYXNkZlwiLCBvdGhlcjogXCJxd2VydHlcIn0sIHtjb3VudDogMX0pLnRyYW5zbGF0aW9ucygpLFxuICAgICAgICBbW1wicXdlcnR5Xzk4MTg1MzUxLm9uZVwiLCBcImFzZGZcIl0sIFtcInF3ZXJ0eV85ODE4NTM1MS5vdGhlclwiLCBcInF3ZXJ0eVwiXV1cbiAgICAgICk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKFxuICAgICAgICBjYWxsKFwic29tZV9zdHVmZlwiLCB7b25lOiBcImFzZGZcIiwgb3RoZXI6IFwicXdlcnR5XCJ9LCB7Y291bnQ6IDF9KS50cmFuc2xhdGlvbnMoKSxcbiAgICAgICAgW1tcInNvbWVfc3R1ZmYub25lXCIsIFwiYXNkZlwiXSwgW1wic29tZV9zdHVmZi5vdGhlclwiLCBcInF3ZXJ0eVwiXV1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZWplY3QgaW52YWxpZCBrZXlzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICAgICAgY2FsbCh7b25lOiBcImFzZGZcIiwgdHdlbnR5OiBcInF3ZXJ0eVwifSwge2NvdW50OiAxfSk7XG4gICAgICB9LCBFcnJvcnMuSW52YWxpZFBsdXJhbGl6YXRpb25LZXkpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmVxdWlyZSBlc3NlbnRpYWwga2V5c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoe29uZTogXCJhc2RmXCJ9LCB7Y291bnQ6IDF9KTtcbiAgICAgIH0sIEVycm9ycy5NaXNzaW5nUGx1cmFsaXphdGlvbktleSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZWplY3QgaW52YWxpZCBjb3VudCBkZWZhdWx0c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoe29uZTogXCJhc2RmXCIsIG90aGVyOiBUcmFuc2xhdGVDYWxsLnByb3RvdHlwZS5VTlNVUFBPUlRFRF9FWFBSRVNTSU9OfSwge2NvdW50OiAxfSk7XG4gICAgICB9LCBFcnJvcnMuSW52YWxpZFBsdXJhbGl6YXRpb25EZWZhdWx0KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNvbXBsYWluIGlmIG5vIDpjb3VudCBpcyBwcm92aWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoe29uZTogXCJhc2RmXCIsIG90aGVyOiBcInF3ZXJ0eVwifSk7XG4gICAgICB9LCBFcnJvcnMuTWlzc2luZ0NvdW50VmFsdWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInZhbGlkYXRpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJzaG91bGQgcmVxdWlyZSBhbGwgaW50ZXJwb2xhdGlvbiB2YWx1ZXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsKFwiYXNkZiAle2JvYn1cIik7XG4gICAgICB9LCBFcnJvcnMuTWlzc2luZ0ludGVycG9sYXRpb25WYWx1ZSk7XG5cbiAgICAgIC8vIG9ubHkgdGhyb3cgaWYgaXQncyBub3Qgc2V0XG4gICAgICBhc3NlcnQuZG9lc05vdFRocm93KGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsKFwiYXNkZiAle2JvYn1cIiwge2JvYjogXCJcIn0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZXF1aXJlIGFsbCBpbnRlcnBvbGF0aW9uIHZhbHVlcyBpbiBjb3VudCBkZWZhdWx0c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGwoe29uZTogXCJhc2RmICV7Ym9ifVwiLCBvdGhlcjogXCJxdWVydHlcIn0pO1xuICAgICAgfSwgRXJyb3JzLk1pc3NpbmdJbnRlcnBvbGF0aW9uVmFsdWUpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSkE7QUFNQUEsUUFBUSxDQUFDLGVBQUQsRUFBa0IsWUFBVztFQUNuQyxTQUFTQyxJQUFULEdBQWdCO0lBQ2QsT0FBTyxJQUFJQyx1QkFBSixDQUFrQixJQUFsQixFQUF3QixHQUF4QixFQUE2QixHQUFHQyxLQUFILENBQVNGLElBQVQsQ0FBY0csU0FBZCxDQUE3QixDQUFQO0VBQ0Q7O0VBRURKLFFBQVEsQ0FBQyxXQUFELEVBQWMsWUFBVztJQUMvQkssRUFBRSxDQUFDLCtCQUFELEVBQWtDLFlBQVc7TUFDN0NDLFlBQUEsQ0FBT0MsTUFBUCxDQUFjLFlBQVc7UUFDdkJOLElBQUksQ0FBQyxLQUFELEVBQVEsT0FBUixFQUFpQixFQUFqQixFQUFxQixLQUFyQixDQUFKO01BQ0QsQ0FGRCxFQUVHTyxlQUFBLENBQU9DLGdCQUZWO0lBR0QsQ0FKQyxDQUFGO0lBTUFKLEVBQUUsQ0FBQyxzQ0FBRCxFQUF5QyxZQUFXO01BQ3BEQyxZQUFBLENBQU9JLFlBQVAsQ0FBb0IsWUFBVztRQUM3QlQsSUFBSSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLEVB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","map":{"version":3,"names":["describe","call","TranslateCall","slice","arguments","it","assert","throws","Errors","InvalidSignature","doesNotThrow","prototype","UNSUPPORTED_EXPRESSION","c","defaultValue","equal","I18nliner","set","deepEqual","translations","longString","Array","join","length","result","count","one","other","twenty","InvalidPluralizationKey","MissingPluralizationKey","InvalidPluralizationDefault","MissingCountValue","MissingInterpolationValue","bob"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/","sources":["translate_call_test.js"],"sourcesContent":["/* global describe, it */\nimport {assert} from \"chai\";\nimport TranslateCall from \"../../lib/extractors/translate_call\";\nimport Errors from \"../../lib/errors\";\nimport I18nliner from \"../../lib/i18nliner\";\n\ndescribe(\"TranslateCall\", function() {\n  function call() {\n    return new TranslateCall(null, 't', [].slice.call(arguments));\n  }\n\n  describe(\"signature\", function() {\n    it(\"should reject extra arguments\", function() {\n      assert.throws(function() {\n        call(\"key\", \"value\", {}, \"wat\");\n      }, Errors.InvalidSignature);\n    });\n\n    it(\"should accept a valid key or default\", function() {\n      assert.doesNotThrow(function() {\n        call(\"key\", \"value\", {});\n      });\n\n      assert.doesNotThrow(function() {\n        call(\"key_or_value\", {});\n      });\n    });\n\n    it(\"should require at least a key or default\", function() {\n      assert.throws(function() {\n        call();\n      }, Errors.InvalidSignature);\n    });\n\n    it(\"should require a literal default\", function() {\n      assert.throws(function() {\n        call(\"key.key\", TranslateCall.prototype.UNSUPPORTED_EXPRESSION);\n      }, Errors.InvalidSignature);\n    });\n\n    // for legacy calls, e.g. I18n.t(\"key\", {defaultValue: \"foo\"})\n    it(\"should allow the default to be specified in the options object\", function() {\n      var c = call(\"key\", {defaultValue: \"foo\"});\n      assert.equal(c.defaultValue, \"foo\");\n    });\n\n    it(\"should ensure options is an object literal, if provided\", function() {\n      assert.throws(function() {\n        call(\"key\", \"value\", TranslateCall.prototype.UNSUPPORTED_EXPRESSION);\n      }, Errors.InvalidSignature);\n    });\n  });\n\n  describe(\"key inference\", function() {\n    it(\"should generate literal keys\", function() {\n      I18nliner.set('inferredKeyFormat', 'literal', function() {\n        assert.deepEqual(\n          call(\"zomg key\").translations(),\n          [[\"zomg key\", \"zomg key\"]]\n        );\n      });\n    });\n\n    it(\"should generate underscored keys\", function() {\n      I18nliner.set('inferredKeyFormat', 'underscored', function() {\n        assert.deepEqual(\n          call(\"zOmg -- key!!\").translations(),\n          [[\"zomg_key\", \"zOmg -- key!!\"]]\n        );\n      });\n    });\n\n    it(\"should truncate long keys\", function() {\n      var longString = new Array(100).join(\"trolololo\");\n\n      I18nliner.set('inferredKeyFormat', 'underscored', function() {\n        assert(\n          call(longString).translations()[0][0].length < 100\n        );\n      });\n    });\n\n    it(\"should generate underscored + crc32 keys\", function() {\n      I18nliner.set('inferredKeyFormat', 'underscored_crc32', function() {\n        assert.deepEqual(\n          call(\"zOmg key!!\").translations(),\n          [[\"zomg_key_90a85b0b\", \"zOmg key!!\"]]\n        );\n      });\n    });\n  });\n\n  describe(\"pluralization\", function() {\n    describe(\"keys\", function() {\n      it(\"should be inferred from a word\", function() {\n        var result = call(\"person\", {count: 1}).translations();\n        assert.equal(result[0][0], \"count_people_489946e7.one\");\n        assert.equal(result[1][0], \"count_people_489946e7.other\");\n      });\n\n      it(\"should be inferred from an object\", function() {\n        var result = call({one: \"just you\", other: \"lotsa peeps\"}, {count: 1}).translations();\n        assert.equal(result[0][0], \"lotsa_peeps_41499c40.one\");\n        assert.equal(result[1][0], \"lotsa_peeps_41499c40.other\");\n      });\n    });\n\n    describe(\"defaults\", function() {\n      it(\"should be inferred\", function() {\n        var result = call(\"person\", {count: 1}).translations();\n        assert.equal(result[0][1], \"1 person\");\n        assert.equal(result[1][1], \"%{count} people\");\n      });\n\n      it(\"should not be inferred if given multiple words\", function() {\n        assert.deepEqual(\n          call(\"happy person\", {count: 1}).translations()[0][1],\n          \"happy person\"\n        );\n      });\n    });\n\n    it(\"should accept valid objects\", function() {\n      assert.deepEqual(\n        call({one: \"asdf\", other: \"qwerty\"}, {count: 1}).translations(),\n        [[\"qwerty_98185351.one\", \"asdf\"], [\"qwerty_98185351.other\", \"qwerty\"]]\n      );\n      assert.deepEqual(\n        call(\"some_stuff\", {one: \"asdf\", other: \"qwerty\"}, {count: 1}).translations(),\n        [[\"some_stuff.one\", \"asdf\"], [\"some_stuff.other\", \"qwerty\"]]\n      );\n    });\n\n    it(\"should reject invalid keys\", function() {\n      assert.throws(function() {\n        call({one: \"asdf\", twenty: \"qwerty\"}, {count: 1});\n      }, Errors.InvalidPluralizationKey);\n    });\n\n    it(\"should require essential keys\", function() {\n      assert.throws(function() {\n        call({one: \"asdf\"}, {count: 1});\n      }, Errors.MissingPluralizationKey);\n    });\n\n    it(\"should reject invalid count defaults\", function() {\n      assert.throws(function() {\n        call({one: \"asdf\", other: TranslateCall.prototype.UNSUPPORTED_EXPRESSION}, {count: 1});\n      }, Errors.InvalidPluralizationDefault);\n    });\n\n    it(\"should complain if no :count is provided\", function() {\n      assert.throws(function() {\n        call({one: \"asdf\", other: \"qwerty\"});\n      }, Errors.MissingCountValue);\n    });\n  });\n\n  describe(\"validation\", function() {\n    it(\"should require all interpolation values\", function() {\n      assert.throws(function() {\n        call(\"asdf %{bob}\");\n      }, Errors.MissingInterpolationValue);\n\n      // only throw if it's not set\n      assert.doesNotThrow(function() {\n        call(\"asdf %{bob}\", {bob: \"\"});\n      });\n    });\n\n    it(\"should require all interpolation values in count defaults\", function() {\n      assert.throws(function() {\n        call({one: \"asdf %{bob}\", other: \"querty\"});\n      }, Errors.MissingInterpolationValue);\n    });\n  });\n});\n"],"mappings":"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"}},"mtime":1653408253238},"{\"assumptions\":{},\"targets\":{\"node\":\"14.19.1\"},\"sourceRoot\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"filename\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/translation_hash_test.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/kandie/src/inst/i18nliner-js/packages/i18nliner\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.0:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\n\nvar _translation_hash = _interopRequireDefault(require(\"../../lib/extractors/translation_hash\"));\n\nvar _errors = _interopRequireDefault(require(\"../../lib/errors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global describe, it */\ndescribe(\"TranslationHash\", function () {\n  describe(\".set\", function () {\n    it(\"should accept identical key/values\", function () {\n      var hash = new _translation_hash.default();\n      hash.set(\"foo.bar\", \"Foo\", {});\n      hash.set(\"foo.bar\", \"Foo\", {});\n\n      _chai.assert.deepEqual(hash.translations, {\n        foo: {\n          bar: \"Foo\"\n        }\n      });\n    });\n    it(\"should reject mismatched values\", function () {\n      _chai.assert.throws(function () {\n        var hash = new _translation_hash.default();\n        hash.set(\"foo.bar\", \"Foo\", {});\n        hash.set(\"foo.bar\", \"Bar\", {});\n      }, _errors.default.KeyInUse);\n    });\n    it(\"should not let you use a key as a scope\", function () {\n      _chai.assert.throws(function () {\n        var hash = new _translation_hash.default();\n        hash.set(\"foo\", \"Foo\", {});\n        hash.set(\"foo.bar\", \"Bar\", {});\n      }, _errors.default.KeyAsScope);\n    });\n    it(\"should not let you use a scope as a key\", function () {\n      _chai.assert.throws(function () {\n        var hash = new _translation_hash.default();\n        hash.set(\"foo.bar\", \"Bar\", {});\n        hash.set(\"foo\", \"Foo\", {});\n      }, _errors.default.KeyAsScope);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiaGFzaCIsIlRyYW5zbGF0aW9uSGFzaCIsInNldCIsImFzc2VydCIsImRlZXBFcXVhbCIsInRyYW5zbGF0aW9ucyIsImZvbyIsImJhciIsInRocm93cyIsIkVycm9ycyIsIktleUluVXNlIiwiS2V5QXNTY29wZSJdLCJzb3VyY2VSb290IjoiL2hvbWUva2FuZGllL3NyYy9pbnN0L2kxOG5saW5lci1qcy9wYWNrYWdlcy9pMThubGluZXIvdGVzdC9leHRyYWN0b3JzLyIsInNvdXJjZXMiOlsidHJhbnNsYXRpb25faGFzaF90ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZXNjcmliZSwgaXQgKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IFRyYW5zbGF0aW9uSGFzaCBmcm9tICcuLi8uLi9saWIvZXh0cmFjdG9ycy90cmFuc2xhdGlvbl9oYXNoJztcbmltcG9ydCBFcnJvcnMgZnJvbSAnLi4vLi4vbGliL2Vycm9ycyc7XG5cbmRlc2NyaWJlKFwiVHJhbnNsYXRpb25IYXNoXCIsIGZ1bmN0aW9uKCkge1xuICBkZXNjcmliZShcIi5zZXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgaXQoXCJzaG91bGQgYWNjZXB0IGlkZW50aWNhbCBrZXkvdmFsdWVzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhhc2ggPSBuZXcgVHJhbnNsYXRpb25IYXNoKCk7XG4gICAgICBoYXNoLnNldChcImZvby5iYXJcIiwgXCJGb29cIiwge30pO1xuICAgICAgaGFzaC5zZXQoXCJmb28uYmFyXCIsIFwiRm9vXCIsIHt9KTtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwoaGFzaC50cmFuc2xhdGlvbnMsIHtmb286IHtiYXI6IFwiRm9vXCJ9fSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZWplY3QgbWlzbWF0Y2hlZCB2YWx1ZXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaGFzaCA9IG5ldyBUcmFuc2xhdGlvbkhhc2goKTtcbiAgICAgICAgaGFzaC5zZXQoXCJmb28uYmFyXCIsIFwiRm9vXCIsIHt9KTtcbiAgICAgICAgaGFzaC5zZXQoXCJmb28uYmFyXCIsIFwiQmFyXCIsIHt9KTtcbiAgICAgIH0sIEVycm9ycy5LZXlJblVzZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBub3QgbGV0IHlvdSB1c2UgYSBrZXkgYXMgYSBzY29wZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoYXNoID0gbmV3IFRyYW5zbGF0aW9uSGFzaCgpO1xuICAgICAgICBoYXNoLnNldChcImZvb1wiLCBcIkZvb1wiLCB7fSk7XG4gICAgICAgIGhhc2guc2V0KFwiZm9vLmJhclwiLCBcIkJhclwiLCB7fSk7XG4gICAgICB9LCBFcnJvcnMuS2V5QXNTY29wZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBub3QgbGV0IHlvdSB1c2UgYSBzY29wZSBhcyBhIGtleVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoYXNoID0gbmV3IFRyYW5zbGF0aW9uSGFzaCgpO1xuICAgICAgICBoYXNoLnNldChcImZvby5iYXJcIiwgXCJCYXJcIiwge30pO1xuICAgICAgICBoYXNoLnNldChcImZvb1wiLCBcIkZvb1wiLCB7fSk7XG4gICAgICB9LCBFcnJvcnMuS2V5QXNTY29wZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUhBO0FBS0FBLFFBQVEsQ0FBQyxpQkFBRCxFQUFvQixZQUFXO0VBQ3JDQSxRQUFRLENBQUMsTUFBRCxFQUFTLFlBQVc7SUFDMUJDLEVBQUUsQ0FBQyxvQ0FBRCxFQUF1QyxZQUFXO01BQ2xELElBQUlDLElBQUksR0FBRyxJQUFJQyx5QkFBSixFQUFYO01BQ0FELElBQUksQ0FBQ0UsR0FBTCxDQUFTLFNBQVQsRUFBb0IsS0FBcEIsRUFBMkIsRUFBM0I7TUFDQUYsSUFBSSxDQUFDRSxHQUFMLENBQVMsU0FBVCxFQUFvQixLQUFwQixFQUEyQixFQUEzQjs7TUFDQUMsWUFBQSxDQUFPQyxTQUFQLENBQWlCSixJQUFJLENBQUNLLFlBQXRCLEVBQW9DO1FBQUNDLEdBQUcsRUFBRTtVQUFDQyxHQUFHLEVBQUU7UUFBTjtNQUFOLENBQXBDO0lBQ0QsQ0FMQyxDQUFGO0lBT0FSLEVBQUUsQ0FBQyxpQ0FBRCxFQUFvQyxZQUFXO01BQy9DSSxZQUFBLENBQU9LLE1BQVAsQ0FBYyxZQUFXO1FBQ3ZCLElBQUlSLElBQUksR0FBRyxJQUFJQyx5QkFBSixFQUFYO1FBQ0FELElBQUksQ0FBQ0UsR0FBTCxDQUFTLFNBQVQsRUFBb0IsS0FBcEIsRUFBMkIsRUFBM0I7UUFDQUYsSUFBSSxDQUFDRSxHQUFMLENBQVMsU0FBVCxFQUFvQixLQUFwQixFQUEyQixFQUEzQjtNQUNELENBSkQsRUFJR08sZUFBQSxDQUFPQyxRQUpWO0lBS0QsQ0FOQyxDQUFGO0lBUUFYLEVBQUUsQ0FBQyx5Q0FBRCxFQUE0QyxZQUFXO01BQ3ZESSxZQUFBLENBQU9LLE1BQVAsQ0FBYyxZQUFXO1FBQ3ZCLElBQUlSLElBQUksR0FBRyxJQUFJQyx5QkFBSixFQUFYO1FBQ0FELElBQUksQ0FBQ0UsR0FBTCxDQUFTLEtBQVQsRUFBZ0IsS0FBaEIsRUFBdUIsRUFBdkI7UUFDQUYsSUFBSSxDQUFDRSxHQUFMLENBQVMsU0FBVCxFQUFvQixLQUFwQixFQUEyQixFQUEzQjtNQUNELENBSkQsRUFJR08sZUFBQSxDQUFPRSxVQUpWO0lBS0QsQ0FOQyxDQUFGO0lBUUFaLEVBQUUsQ0FBQyx5Q0FBRCxFQUE0QyxZQUFXO01BQ3ZESSxZQUFBLENBQU9LLE1BQVAsQ0FBYyxZQUFXO1FBQ3ZCLElBQUlSLElBQUksR0FBRyxJQUFJQyx5QkFBSixFQUFYO1FBQ0FELElBQUksQ0FBQ0UsR0FBTCxDQUFTLFNBQVQsRUFBb0IsS0FBcEIsRUFBMkIsRUFBM0I7UUFDQUYsSUFBSSxDQUFDRSxHQUFMLENBQVMsS0FBVCxFQUFnQixLQUFoQixFQUF1QixFQUF2QjtNQUNELENBSkQsRUFJR08sZUFBQSxDQUFPRSxVQUpWO0lBS0QsQ0FOQyxDQUFGO0VBT0QsQ0EvQk8sQ0FBUjtBQWdDRCxDQWpDTyxDQUFSIn0=","map":{"version":3,"names":["describe","it","hash","TranslationHash","set","assert","deepEqual","translations","foo","bar","throws","Errors","KeyInUse","KeyAsScope"],"sourceRoot":"/home/kandie/src/inst/i18nliner-js/packages/i18nliner/test/extractors/","sources":["translation_hash_test.js"],"sourcesContent":["/* global describe, it */\nimport {assert} from \"chai\";\nimport TranslationHash from '../../lib/extractors/translation_hash';\nimport Errors from '../../lib/errors';\n\ndescribe(\"TranslationHash\", function() {\n  describe(\".set\", function() {\n    it(\"should accept identical key/values\", function() {\n      var hash = new TranslationHash();\n      hash.set(\"foo.bar\", \"Foo\", {});\n      hash.set(\"foo.bar\", \"Foo\", {});\n      assert.deepEqual(hash.translations, {foo: {bar: \"Foo\"}});\n    });\n\n    it(\"should reject mismatched values\", function() {\n      assert.throws(function() {\n        var hash = new TranslationHash();\n        hash.set(\"foo.bar\", \"Foo\", {});\n        hash.set(\"foo.bar\", \"Bar\", {});\n      }, Errors.KeyInUse);\n    });\n\n    it(\"should not let you use a key as a scope\", function() {\n      assert.throws(function() {\n        var hash = new TranslationHash();\n        hash.set(\"foo\", \"Foo\", {});\n        hash.set(\"foo.bar\", \"Bar\", {});\n      }, Errors.KeyAsScope);\n    });\n\n    it(\"should not let you use a scope as a key\", function() {\n      assert.throws(function() {\n        var hash = new TranslationHash();\n        hash.set(\"foo.bar\", \"Bar\", {});\n        hash.set(\"foo\", \"Foo\", {});\n      }, Errors.KeyAsScope);\n    });\n  });\n});\n\n"],"mappings":";;AACA;;AACA;;AACA;;;;AAHA;AAKAA,QAAQ,CAAC,iBAAD,EAAoB,YAAW;EACrCA,QAAQ,CAAC,MAAD,EAAS,YAAW;IAC1BC,EAAE,CAAC,oCAAD,EAAuC,YAAW;MAClD,IAAIC,IAAI,GAAG,IAAIC,yBAAJ,EAAX;MACAD,IAAI,CAACE,GAAL,CAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B;MACAF,IAAI,CAACE,GAAL,CAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B;;MACAC,YAAA,CAAOC,SAAP,CAAiBJ,IAAI,CAACK,YAAtB,EAAoC;QAACC,GAAG,EAAE;UAACC,GAAG,EAAE;QAAN;MAAN,CAApC;IACD,CALC,CAAF;IAOAR,EAAE,CAAC,iCAAD,EAAoC,YAAW;MAC/CI,YAAA,CAAOK,MAAP,CAAc,YAAW;QACvB,IAAIR,IAAI,GAAG,IAAIC,yBAAJ,EAAX;QACAD,IAAI,CAACE,GAAL,CAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B;QACAF,IAAI,CAACE,GAAL,CAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B;MACD,CAJD,EAIGO,eAAA,CAAOC,QAJV;IAKD,CANC,CAAF;IAQAX,EAAE,CAAC,yCAAD,EAA4C,YAAW;MACvDI,YAAA,CAAOK,MAAP,CAAc,YAAW;QACvB,IAAIR,IAAI,GAAG,IAAIC,yBAAJ,EAAX;QACAD,IAAI,CAACE,GAAL,CAAS,KAAT,EAAgB,KAAhB,EAAuB,EAAvB;QACAF,IAAI,CAACE,GAAL,CAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B;MACD,CAJD,EAIGO,eAAA,CAAOE,UAJV;IAKD,CANC,CAAF;IAQAZ,EAAE,CAAC,yCAAD,EAA4C,YAAW;MACvDI,YAAA,CAAOK,MAAP,CAAc,YAAW;QACvB,IAAIR,IAAI,GAAG,IAAIC,yBAAJ,EAAX;QACAD,IAAI,CAACE,GAAL,CAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B;QACAF,IAAI,CAACE,GAAL,CAAS,KAAT,EAAgB,KAAhB,EAAuB,EAAvB;MACD,CAJD,EAIGO,eAAA,CAAOE,UAJV;IAKD,CANC,CAAF;EAOD,CA/BO,CAAR;AAgCD,CAjCO,CAAR"}},"mtime":1643211188003}}